!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("StrapiFormBuilder",[],t):"object"==typeof exports?exports.StrapiFormBuilder=t():e.StrapiFormBuilder=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=35)}([function(e,t,r){"use strict";var n=r(3),o=r(14),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(0),o=r(17),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(a=r(4)),a),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(i)})),e.exports=c}).call(this,r(16))},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],f=s[u];"object"==typeof f&&null!==f&&-1===r.indexOf(f)&&(t.push({obj:s,prop:u}),r.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",s=0;s<n.length;++s){var a=n.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?o+=n.charAt(s):a<128?o+=i[a]:a<2048?o+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?o+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(s)),o+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return o(t)&&!o(r)&&(a=s(t,i)),o(t)&&o(r)?(r.forEach((function(r,o){if(n.call(t,o)){var s=t[o];s&&"object"==typeof s&&r&&"object"==typeof r?t[o]=e(s,r,i):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var s=r[o];return n.call(t,o)?t[o]=e(t[o],s,i):t[o]=s,t}),a)}}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0),o=r(18),i=r(20),s=r(21),a=r(22),c=r(5);e.exports=function(e){return new Promise((function(t,u){var f=e.data,l=e.headers;n.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+btoa(d+":"+h)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,u,n),p=null}},p.onerror=function(){u(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var m=r(23),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;y&&(l[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&n.forEach(l,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete l[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),u(e),p=null)})),void 0===f&&(f=null),p.send(f)}))}},function(e,t,r){"use strict";var n=r(19);e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g,i=r(2),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:s.RFC3986,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}}},s)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(10));t.default=o.default},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(11));t.default=function(e,t){return new o.default(e,t)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(12)),c=i(r(31)),u=i(r(32));t.default=class{constructor(e,t,r){if(this.axios=a.default.create(Object.assign({baseURL:e,paramsSerializer:u.stringify},r)),this.storeConfig=Object.assign({cookie:{key:"jwt",options:{path:"/"}},localStorage:{key:"jwt"}},t),this.isBrowser()){let e;this.storeConfig.cookie?e=c.get(this.storeConfig.cookie.key):this.storeConfig.localStorage&&(e=JSON.parse(window.localStorage.getItem(this.storeConfig.localStorage.key))),e&&this.setToken(e,!0)}}async request(e,t,r){try{return(await this.axios.request(Object.assign({method:e,url:t},r))).data}catch(e){throw e.response?new Error(e.response.data.message):e}}async register(e,t,r){this.clearToken();const n=await this.request("post","/auth/local/register",{data:{email:t,password:r,username:e}});return this.setToken(n.jwt),n}async login(e,t){if(this.clearToken(),!t)throw new Error("Could not log back in. password/token not set.");const r=await this.request("post","/auth/local",{data:{identifier:e,password:t}});return this.setToken(r.jwt),r}async forgotPassword(e,t){this.clearToken(),await this.request("post","/auth/forgot-password",{data:{email:e,url:t}})}async resetPassword(e,t,r){this.clearToken(),await this.request("post","/auth/reset-password",{data:{code:e,password:t,passwordConfirmation:r}})}getProviderAuthenticationUrl(e){return`${this.axios.defaults.baseURL}/connect/${e}`}async authenticateProvider(e,t){this.clearToken(),this.isBrowser()&&(t=u.parse(window.location.search,{ignoreQueryPrefix:!0}));const r=await this.request("get",`/auth/${e}/callback`,{params:t});return this.setToken(r.jwt),r}getEntries(e,t){return this.request("get","/"+e,{params:t})}getEntryCount(e,t){return this.request("get",`/${e}/count`,{params:t})}getEntry(e,t){return this.request("get",`/${e}/${t}`)}createEntry(e,t){return this.request("post","/"+e,{data:t})}updateEntry(e,t,r){return this.request("put",`/${e}/${t}`,{data:r})}deleteEntry(e,t){return this.request("delete",`/${e}/${t}`)}searchFiles(e){return this.request("get","/upload/search/"+decodeURIComponent(e))}getFiles(e){return this.request("get","/upload/files",{params:e})}getFile(e){return this.request("get","/upload/files/"+e)}upload(e,t){return this.request("post","/upload",Object.assign({data:e},t))}setToken(e,t){this.axios.defaults.headers.common.Authorization="Bearer "+e,this.isBrowser()&&!t&&(this.storeConfig.localStorage&&window.localStorage.setItem(this.storeConfig.localStorage.key,JSON.stringify(e)),this.storeConfig.cookie&&c.set(this.storeConfig.cookie.key,e,this.storeConfig.cookie.options))}getToken(){if(this.isBrowser()){if(this.storeConfig.localStorage)return window.localStorage.getItem(this.storeConfig.localStorage.key);if(this.storeConfig.cookie)return c.get(this.storeConfig.cookie.key)}}clearToken(){delete this.axios.defaults.headers.common.Authorization,this.isBrowser()&&(this.storeConfig.localStorage&&window.localStorage.removeItem(this.storeConfig.localStorage.key),this.storeConfig.cookie&&c.remove(this.storeConfig.cookie.key,this.storeConfig.cookie.options))}isBrowser(){return"undefined"!=typeof window}}},function(e,t,r){e.exports=r(13)},function(e,t,r){"use strict";var n=r(0),o=r(3),i=r(15),s=r(1);function a(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=a(s);c.Axios=i,c.create=function(e){return a(n.merge(s,e))},c.Cancel=r(7),c.CancelToken=r(29),c.isCancel=r(6),c.all=function(e){return Promise.all(e)},c.spread=r(30),e.exports=c,e.exports.default=c},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){"use strict";var n=r(1),o=r(0),i=r(24),s=r(25);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}})),e.exports=a},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!f){var e=a(p);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||f||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(26),i=r(6),s=r(1),a=r(27),c=r(28);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!a(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(e,t,r){"use strict";var n=r(33),o=r(34),i=r(8);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(2),o=r(8),i=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,a(t)?t:[t])},f=Date.prototype.toISOString,l=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:l,formatter:o.formatters[l],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,o,i,s,c,f,l,d,h,m,y,g){var v,b=t;if("function"==typeof f?b=f(r,b):b instanceof Date?b=h(b):"comma"===o&&a(b)&&(b=n.maybeMap(b,(function(e){return e instanceof Date?h(e):e})).join(",")),null===b){if(i)return c&&!y?c(r,p.encoder,g,"key"):r;b=""}if("string"==typeof(v=b)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||n.isBuffer(b))return c?[m(y?r:c(r,p.encoder,g,"key"))+"="+m(c(b,p.encoder,g,"value"))]:[m(r)+"="+m(String(b))];var w,S=[];if(void 0===b)return S;if(a(f))w=f;else{var x=Object.keys(b);w=l?x.sort(l):x}for(var O=0;O<w.length;++O){var j=w[O],C=b[j];if(!s||null!==C){var E=a(b)?"function"==typeof o?o(r,j):r:r+(d?"."+j:"["+j+"]");u(S,e(C,E,o,i,s,c,f,l,d,h,m,y,g))}}return S};e.exports=function(e,t){var r,n=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],s=p.filter;return("function"==typeof e.filter||a(e.filter))&&(s=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:s,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?n=(0,c.filter)("",n):a(c.filter)&&(r=c.filter);var f,l=[];if("object"!=typeof n||null===n)return"";f=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[f];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var m=0;m<r.length;++m){var y=r[m];c.skipNulls&&null===n[y]||u(l,d(n[y],y,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=l.join(c.delimiter),v=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},function(e,t,r){"use strict";var n=r(2),o=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),u=a?i.slice(0,a.index):i,f=[];if(u){if(!r.plainObjects&&o.call(Object.prototype,u)&&!r.allowPrototypes)return;f.push(u)}for(var l=0;r.depth>0&&null!==(a=s.exec(i))&&l<r.depth;){if(l+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(a[1])}return a&&f.push("["+i.slice(a.index)+"]"),function(e,t,r,n){for(var o=n?t:c(t,r),i=e.length-1;i>=0;--i){var s,a=e[i];if("[]"===a&&r.parseArrays)s=[].concat(o);else{s=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,f=parseInt(u,10);r.parseArrays||""!==u?!isNaN(f)&&a!==u&&String(f)===u&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(s=[])[f]=o:s[u]=o:s={0:o}}o=s}return o}(f,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var f="string"==typeof e?function(e,t){var r,u={},f=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,p=f.split(t.delimiter,l),d=-1,h=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?h="utf-8":"utf8=%26%2310003%3B"===p[r]&&(h="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var m,y,g=p[r],v=g.indexOf("]="),b=-1===v?g.indexOf("="):v+1;-1===b?(m=t.decoder(g,s.decoder,h,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,b),s.decoder,h,"key"),y=n.maybeMap(c(g.slice(b+1),t),(function(e){return t.decoder(e,s.decoder,h,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===h&&(y=a(y)),g.indexOf("[]=")>-1&&(y=i(y)?[y]:y),o.call(u,m)?u[m]=n.combine(u[m],y):u[m]=y}return u}(e,r):e,l=r.plainObjects?Object.create(null):{},p=Object.keys(f),d=0;d<p.length;++d){var h=p[d],m=u(h,f[h],r,"string"==typeof e);l=n.merge(l,m,r)}return n.compact(l)}},function(e,t,r){"use strict";r.r(t),r.d(t,"Factory",(function(){return d}));var n,o,i=r(9),s=r.n(i);!function(e){e.STRING="string",e.TEXT="text",e.INT="integer",e.MEDIA="media",e.COMPONENT="component",e.ENUMERATION="enumeration",e.LABEL="label"}(n||(n={})),function(e){e.COMPONENT="__component",e.LABEL="__label",e.ID="__id",e.CONTENT="content"}(o||(o={}));const a=["id","users","created_by","created_at","updated_at","updated_at"];var c=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class u{constructor(e,t){this.blacklistedProps=a,this.contentTypeUID=t,this.url=e+"/content-manager/content-types"}getContentType(){return c(this,void 0,void 0,(function*(){const e=yield fetch(`${this.url}/${this.contentTypeUID}`),t=yield e.json();if(t&&t.statusCode)throw new Error(t.message);this.contentType=t.data.contentType,this.metadatas=t.data.contentType.metadatas,this.components=t.data&&t.data.components}))}setRequestState(e,t,r){if(parent)for(const n of this.formState.content)n.__component===t&&(n[e]=r);return this.formState[e]=r,this.fields}updateFormState(e,t,r){return r?this.formState[r][e]=t:this.formState[e]=t,this.formState}isComponent(e){return e&&e.type===n.COMPONENT}isSimpleType(e,t){return t&&this.isComponent(t)&&this.canEdit(e)}canEdit(e){return!this.blacklistedProps.includes(e)}buildComponent(e,t){if(!this.components[t.component].schema.attributes)return;const r=this.components[t.component].schema.attributes;r.id=this.formState[e]&&this.formState[e].id||null;for(const t in r)this.canEdit(t)&&(this.setField(t,r[t],e),this.setFormState(t,e))}setFormState(e,t){this.canEdit(e)&&(t?(this.formState[t]=this.formState[t]||{},this.formState[t][e]=this.formState[t][e]||null):this.formState[e]=this.formState[e]||null)}setField(e,t,r){this.canEdit(e)&&(r?(this.fields[r]=this.fields[r]||{type:n.COMPONENT,repeatable:this.contentType.schema.attributes[r].repeatable},this.fields[r][e]=Object.assign(Object.assign({},t),{__label:this.buildLabel(e),__parent:r,value:this.formState[r]&&this.formState[r][e]||null})):this.fields[e]=Object.assign(Object.assign({},t),{__label:this.buildLabel(e),value:this.formState[e]||null}))}buildLabel(e){if(!e)return e;return(e.charAt(0).toUpperCase()+e.slice(1)).match(/[A-Z][a-z]+/g).join(" ")}gatherSchema(){this.fields={};const e=this.contentType.schema.attributes;for(const t in e)this.isComponent(e[t])?this.buildComponent(t,e[t]):(this.setField(t,e[t]),this.setFormState(t))}getSchema(e){return c(this,void 0,void 0,(function*(){return this.formState=e||{},yield this.getContentType(),this.gatherSchema(),{fields:this.fields,formState:this.formState}}))}}var f=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class l{constructor(e,t){this.strapiSDK=t,this.apiID=this.getApiID(e)}getApiID(e){if(0===e.indexOf("::")||0===e.indexOf("."))throw new Error("\n        Strapi Form Builder requires a global\n        content type id i.e. application::contentTypeUID.contentTypeUID\n      ");return e.slice(e.indexOf("::")+2,e.indexOf("."))}get strapi(){return this.strapiSDK}create(e){return f(this,void 0,void 0,(function*(){return yield this.strapiSDK.createEntry(this.apiID,e)}))}update(e,t){return f(this,void 0,void 0,(function*(){return yield this.strapiSDK.updateEntry(this.apiID,t,e)}))}search(e){return f(this,void 0,void 0,(function*(){return yield this.strapiSDK.getEntries(this.apiID,e)}))}delete(e){return f(this,void 0,void 0,(function*(){this.strapiSDK.deleteEntry(this.apiID,e)}))}}var p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class d{constructor(e,t){if(!t)throw new Error("Strapi Form Builder needs auth to attach resources and relationships.");this.auth=t,this.baseURL=e,this.sdk=s()(e)}getForm(e,t){return p(this,void 0,void 0,(function*(){const r=yield this.sdk.login(this.auth.identifier,this.auth.password);return{form:yield new u(this.baseURL,e).getSchema(t),actions:new l(e,this.sdk),user:r}}))}getFormBuilder(e){return new u(this.baseURL,e)}getActions(e){return new l(e,this.sdk)}getStrapiAPI(){return this.sdk}}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9xcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHRoZXRhcHJvb20vc3RyYXBpLXNkay1qYXZhc2NyaXB0L2J1aWxkL21haW4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHRoZXRhcHJvb20vc3RyYXBpLXNkay1qYXZhc2NyaXB0L2J1aWxkL21haW4vbGliL3Byb3ZpZGVyLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL0B0aGV0YXByb29tL3N0cmFwaS1zZGstamF2YXNjcmlwdC9idWlsZC9tYWluL2xpYi9zZGsuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9qcy1jb29raWUvc3JjL2pzLmNvb2tpZS5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9xcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9zcmMvdHlwZXMvY29udGVudC1hdHRyaWJ1dGUtdHlwZXMudHMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9zcmMvZm9ybS5idWlsZGVyLnRzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vc3JjL2Zvcm0uYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc0J1ZmZlciIsInRvU3RyaW5nIiwiaXNBcnJheSIsInZhbCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0Zvcm1EYXRhIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiYnVmZmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNTdHJlYW0iLCJwaXBlIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm1lcmdlIiwicmVzdWx0IiwiYXNzaWduVmFsdWUiLCJhcmd1bWVudHMiLCJleHRlbmQiLCJhIiwiYiIsInRoaXNBcmciLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsInV0aWxzIiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiaGVhZGVycyIsImFkYXB0ZXIiLCJkZWZhdWx0cyIsIlhNTEh0dHBSZXF1ZXN0IiwicHJvY2VzcyIsInRyYW5zZm9ybVJlcXVlc3QiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInRyYW5zZm9ybVJlc3BvbnNlIiwicGFyc2UiLCJlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjb21tb24iLCJtZXRob2QiLCJoYXMiLCJBcnJheSIsImhleFRhYmxlIiwiYXJyYXkiLCJwdXNoIiwidG9VcHBlckNhc2UiLCJhcnJheVRvT2JqZWN0Iiwic291cmNlIiwib3B0aW9ucyIsInBsYWluT2JqZWN0cyIsImFzc2lnbiIsInRhcmdldCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJjb21iaW5lIiwiY29uY2F0IiwiY29tcGFjdCIsInF1ZXVlIiwicHJvcCIsInJlZnMiLCJpdGVtIiwiaiIsImluZGV4T2YiLCJwb3AiLCJjb21wYWN0ZWQiLCJjb21wYWN0UXVldWUiLCJkZWNvZGUiLCJkZWNvZGVyIiwiY2hhcnNldCIsInN0cldpdGhvdXRQbHVzIiwidW5lc2NhcGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGUiLCJkZWZhdWx0RW5jb2RlciIsInN0cmluZyIsIlN0cmluZyIsImVzY2FwZSIsIiQwIiwicGFyc2VJbnQiLCJzbGljZSIsIm91dCIsImNoYXJDb2RlQXQiLCJjaGFyQXQiLCJjb25zdHJ1Y3RvciIsImlzUmVnRXhwIiwibWF5YmVNYXAiLCJtYXBwZWQiLCJhbGxvd1Byb3RvdHlwZXMiLCJtZXJnZVRhcmdldCIsInRhcmdldEl0ZW0iLCJhcmdzIiwiYXBwbHkiLCJzZXR0bGUiLCJidWlsZFVSTCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiY29uZmlnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwicmVxdWVzdCIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiQXV0aG9yaXphdGlvbiIsImJ0b2EiLCJvcGVuIiwidXJsIiwicGFyYW1zIiwicGFyYW1zU2VyaWFsaXplciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJjb29raWVzIiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwicmVhZCIsInVuZGVmaW5lZCIsInRvTG93ZXJDYXNlIiwic2V0UmVxdWVzdEhlYWRlciIsIm9uRG93bmxvYWRQcm9ncmVzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsVG9rZW4iLCJwcm9taXNlIiwidGhlbiIsImNhbmNlbCIsImFib3J0Iiwic2VuZCIsImVuaGFuY2VFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiZXJyb3IiLCJFcnJvciIsIl9fQ0FOQ0VMX18iLCJDYW5jZWwiLCJwZXJjZW50VHdlbnRpZXMiLCJ1dGlsIiwiRm9ybWF0IiwiUkZDMTczOCIsIlJGQzM5ODYiLCJmb3JtYXR0ZXJzIiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwicHJvdmlkZXJfMSIsImRlZmF1bHQiLCJzZGtfMSIsImJhc2VVUkwiLCJzdG9yZUNvbmZpZyIsIl9fY3JlYXRlQmluZGluZyIsImsiLCJrMiIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsInYiLCJfX2ltcG9ydFN0YXIiLCJheGlvc18xIiwiQ29va2llcyIsInFzIiwicmVxdWVzdENvbmZpZyIsImF4aW9zIiwiY29va2llIiwicGF0aCIsImxvY2FsU3RvcmFnZSIsImlzQnJvd3NlciIsImV4aXN0aW5nVG9rZW4iLCJnZXRJdGVtIiwic2V0VG9rZW4iLCJlbWFpbCIsImNsZWFyVG9rZW4iLCJhdXRoZW50aWNhdGlvbiIsImp3dCIsImlkZW50aWZpZXIiLCJwYXNzd29yZENvbmZpcm1hdGlvbiIsInByb3ZpZGVyIiwibG9jYXRpb24iLCJzZWFyY2giLCJpZ25vcmVRdWVyeVByZWZpeCIsImNvbnRlbnRUeXBlUGx1cmFsaXplZCIsImNvbnRlbnRUeXBlIiwiaWQiLCJxdWVyeSIsInRva2VuIiwiY29tZXNGcm9tU3RvcmFnZSIsInNldEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwicmVtb3ZlIiwiQXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJpbnN0YW5jZUNvbmZpZyIsIkNhbmNlbFRva2VuIiwiaXNDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsInNwcmVhZCIsIkludGVyY2VwdG9yTWFuYWdlciIsImRpc3BhdGNoUmVxdWVzdCIsImludGVyY2VwdG9ycyIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJub3JtYWxpemVkTmFtZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsInRvSVNPU3RyaW5nIiwiam9pbiIsImlnbm9yZUR1cGxpY2F0ZU9mIiwicGFyc2VkIiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwib3JpZ2luVVJMIiwibXNpZSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInJlcXVlc3RVUkwiLCJ3cml0ZSIsImV4cGlyZXMiLCJkb21haW4iLCJzZWN1cmUiLCJEYXRlIiwidG9HTVRTdHJpbmciLCJtYXRjaCIsIlJlZ0V4cCIsIm5vdyIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJoIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwicmVhc29uIiwiZm5zIiwicmVsYXRpdmVVUkwiLCJleGVjdXRvciIsIlR5cGVFcnJvciIsInJlc29sdmVQcm9taXNlIiwiY2FsbGJhY2siLCJhcnIiLCJPbGRDb29raWVzIiwiYXBpIiwibm9Db25mbGljdCIsImF0dHJpYnV0ZXMiLCJpbml0IiwiY29udmVydGVyIiwidG9VVENTdHJpbmciLCJzdHJpbmdpZmllZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVOYW1lIiwianNvbiIsImphciIsImdldEpTT04iLCJ3aXRoQ29udmVydGVyIiwiZm9ybWF0cyIsImFycmF5UHJlZml4R2VuZXJhdG9ycyIsImJyYWNrZXRzIiwicHJlZml4IiwiY29tbWEiLCJpbmRpY2VzIiwicmVwZWF0IiwicHVzaFRvQXJyYXkiLCJ2YWx1ZU9yQXJyYXkiLCJ0b0lTTyIsImRlZmF1bHRGb3JtYXQiLCJhZGRRdWVyeVByZWZpeCIsImFsbG93RG90cyIsImNoYXJzZXRTZW50aW5lbCIsImRlbGltaXRlciIsImVuY29kZXIiLCJlbmNvZGVWYWx1ZXNPbmx5IiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwic2VyaWFsaXplRGF0ZSIsImRhdGUiLCJza2lwTnVsbHMiLCJzdHJpY3ROdWxsSGFuZGxpbmciLCJnZW5lcmF0ZUFycmF5UHJlZml4IiwiZmlsdGVyIiwic29ydCIsIm9iaktleXMiLCJ2YWx1ZXMiLCJrZXlQcmVmaXgiLCJvcHRzIiwibm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyIsImFycmF5Rm9ybWF0Iiwiam9pbmVkIiwiYXJyYXlMaW1pdCIsImRlcHRoIiwiaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzIiwicGFyYW1ldGVyTGltaXQiLCJwYXJzZUFycmF5cyIsIm51bWJlclN0ciIsImZyb21DaGFyQ29kZSIsInBhcnNlQXJyYXlWYWx1ZSIsInBhcnNlS2V5cyIsImdpdmVuS2V5IiwidmFsdWVzUGFyc2VkIiwiY2hpbGQiLCJzZWdtZW50IiwiZXhlYyIsInBhcmVudCIsImluZGV4IiwibGVhZiIsImNsZWFuUm9vdCIsImlzTmFOIiwiMCIsInBhcnNlT2JqZWN0Iiwibm9ybWFsaXplUGFyc2VPcHRpb25zIiwidGVtcE9iaiIsImNsZWFuU3RyIiwibGltaXQiLCJJbmZpbml0eSIsInNraXBJbmRleCIsInBhcnQiLCJicmFja2V0RXF1YWxzUG9zIiwicG9zIiwiZW5jb2RlZFZhbCIsInBhcnNlVmFsdWVzIiwibmV3T2JqIiwiQVRUSUJVVEVfVFlQRVMiLCJXSElURUxJU1RfS0VZUyIsIkF0dHJpYnV0ZVR5cGVzQmxhY2tsaXN0IiwiY29udGVudFR5cGVVSUQiLCJibGFja2xpc3RlZFByb3BzIiwicmVzIiwiZmV0Y2giLCJzdGF0dXNDb2RlIiwibWV0YWRhdGFzIiwiY29tcG9uZW50cyIsImNvbXBvbmVudElkIiwiY29tcG9uZW50IiwiZm9ybVN0YXRlIiwiY29udGVudCIsIl9fY29tcG9uZW50IiwiZmllbGRzIiwiYXR0cmlidXRlIiwidHlwZSIsIkNPTVBPTkVOVCIsImlzQ29tcG9uZW50IiwiY2FuRWRpdCIsImluY2x1ZGVzIiwiY29tcG9uZW50S2V5Iiwic2NoZW1hIiwiY29tcG9uZW50QXR0cnMiLCJjaGlsZEtleSIsInNldEZpZWxkIiwic2V0Rm9ybVN0YXRlIiwicmVwZWF0YWJsZSIsIl9fbGFiZWwiLCJidWlsZExhYmVsIiwiX19wYXJlbnQiLCJidWlsZENvbXBvbmVudCIsImV4aXN0aW5nRW50cnkiLCJnZXRDb250ZW50VHlwZSIsImdhdGhlclNjaGVtYSIsIlN0cmFwaUZvcm1NZXRob2RzRGVjb3JhdG9yIiwic3RyYXBpU0RLIiwiYXBpSUQiLCJnZXRBcGlJRCIsImNyZWF0ZUVudHJ5IiwidXBkYXRlRW50cnkiLCJnZXRFbnRyaWVzIiwiZGVsZXRlRW50cnkiLCJzZGsiLCJ1c2VyIiwibG9naW4iLCJmb3JtIiwiZ2V0U2NoZW1hIiwiYWN0aW9ucyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxvQkFBcUIsR0FBSUgsR0FDTixpQkFB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Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIlN0cmFwaUZvcm1CdWlsZGVyXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlN0cmFwaUZvcm1CdWlsZGVyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlN0cmFwaUZvcm1CdWlsZGVyXCJdID0gZmFjdG9yeSgpO1xufSkoKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKSwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDM1KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIGlzQnVmZmVyID0gcmVxdWlyZSgnaXMtYnVmZmVyJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcblxudmFyIERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbmZ1bmN0aW9uIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCB2YWx1ZSkge1xuICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnMpICYmIHV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSkge1xuICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdEFkYXB0ZXIoKSB7XG4gIHZhciBhZGFwdGVyO1xuICBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy94aHInKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3Igbm9kZSB1c2UgSFRUUCBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMvaHR0cCcpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBoZXhUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn0oKSk7XG5cbnZhciBjb21wYWN0UXVldWUgPSBmdW5jdGlvbiBjb21wYWN0UXVldWUocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICB2YXIgY29tcGFjdGVkID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbal0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGFycmF5VG9PYmplY3QgPSBmdW5jdGlvbiBhcnJheVRvT2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSBvcHRpb25zICYmIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqW2ldID0gc291cmNlW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBtZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucyAmJiAob3B0aW9ucy5wbGFpbk9iamVjdHMgfHwgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpKSB8fCAhaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtzb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbdGFyZ2V0LCBzb3VyY2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIG1lcmdlVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgIWlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBtZXJnZVRhcmdldCA9IGFycmF5VG9PYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmIGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgaWYgKGhhcy5jYWxsKHRhcmdldCwgaSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SXRlbSA9IHRhcmdldFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SXRlbSAmJiB0eXBlb2YgdGFyZ2V0SXRlbSA9PT0gJ29iamVjdCcgJiYgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gbWVyZ2UodGFyZ2V0SXRlbSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICAgIGlmIChoYXMuY2FsbChhY2MsIGtleSkpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gbWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBtZXJnZVRhcmdldCk7XG59O1xuXG52YXIgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduU2luZ2xlU291cmNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59O1xuXG52YXIgZGVjb2RlID0gZnVuY3Rpb24gKHN0ciwgZGVjb2RlciwgY2hhcnNldCkge1xuICAgIHZhciBzdHJXaXRob3V0UGx1cyA9IHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIC8vIHVuZXNjYXBlIG5ldmVyIHRocm93cywgbm8gdHJ5Li4uY2F0Y2ggbmVlZGVkOlxuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXMucmVwbGFjZSgvJVswLTlhLWZdezJ9L2dpLCB1bmVzY2FwZSk7XG4gICAgfVxuICAgIC8vIHV0Zi04XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJXaXRob3V0UGx1cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXM7XG4gICAgfVxufTtcblxudmFyIGVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShzdHIsIGRlZmF1bHRFbmNvZGVyLCBjaGFyc2V0KSB7XG4gICAgLy8gVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gYnkgQnJpYW4gV2hpdGUgKG1zY2RleCkgZm9yIHRoZSBpby5qcyBjb3JlIHF1ZXJ5c3RyaW5nIGxpYnJhcnkuXG4gICAgLy8gSXQgaGFzIGJlZW4gYWRhcHRlZCBoZXJlIGZvciBzdHJpY3RlciBhZGhlcmVuY2UgdG8gUkZDIDM5ODZcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHZhciBzdHJpbmcgPSBzdHI7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdHIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RyaW5nID0gU3RyaW5nKHN0cik7XG4gICAgfVxuXG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICByZXR1cm4gZXNjYXBlKHN0cmluZykucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyUyNiUyMycgKyBwYXJzZUludCgkMC5zbGljZSgyKSwgMTYpICsgJyUzQic7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBvdXQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGMgPT09IDB4MkQgLy8gLVxuICAgICAgICAgICAgfHwgYyA9PT0gMHgyRSAvLyAuXG4gICAgICAgICAgICB8fCBjID09PSAweDVGIC8vIF9cbiAgICAgICAgICAgIHx8IGMgPT09IDB4N0UgLy8gflxuICAgICAgICAgICAgfHwgKGMgPj0gMHgzMCAmJiBjIDw9IDB4MzkpIC8vIDAtOVxuICAgICAgICAgICAgfHwgKGMgPj0gMHg0MSAmJiBjIDw9IDB4NUEpIC8vIGEtelxuICAgICAgICAgICAgfHwgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N0EpIC8vIEEtWlxuICAgICAgICApIHtcbiAgICAgICAgICAgIG91dCArPSBzdHJpbmcuY2hhckF0KGkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIGhleFRhYmxlW2NdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhDMCB8IChjID4+IDYpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHhEODAwIHx8IGMgPj0gMHhFMDAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhFMCB8IChjID4+IDEyKV0gKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaSArPSAxO1xuICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNGRikgPDwgMTApIHwgKHN0cmluZy5jaGFyQ29kZUF0KGkpICYgMHgzRkYpKTtcbiAgICAgICAgb3V0ICs9IGhleFRhYmxlWzB4RjAgfCAoYyA+PiAxOCldXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gMTIpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG52YXIgY29tcGFjdCA9IGZ1bmN0aW9uIGNvbXBhY3QodmFsdWUpIHtcbiAgICB2YXIgcXVldWUgPSBbeyBvYmo6IHsgbzogdmFsdWUgfSwgcHJvcDogJ28nIH1dO1xuICAgIHZhciByZWZzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWVbaV07XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgcmVmcy5pbmRleE9mKHZhbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh7IG9iajogb2JqLCBwcm9wOiBrZXkgfSk7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wYWN0UXVldWUocXVldWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIGlzUmVnRXhwID0gZnVuY3Rpb24gaXNSZWdFeHAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn07XG5cbnZhciBpc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyKG9iaikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59O1xuXG52YXIgY29tYmluZSA9IGZ1bmN0aW9uIGNvbWJpbmUoYSwgYikge1xuICAgIHJldHVybiBbXS5jb25jYXQoYSwgYik7XG59O1xuXG52YXIgbWF5YmVNYXAgPSBmdW5jdGlvbiBtYXliZU1hcCh2YWwsIGZuKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YXIgbWFwcGVkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBtYXBwZWQucHVzaChmbih2YWxbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkO1xuICAgIH1cbiAgICByZXR1cm4gZm4odmFsKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFycmF5VG9PYmplY3Q6IGFycmF5VG9PYmplY3QsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgY29tYmluZTogY29tYmluZSxcbiAgICBjb21wYWN0OiBjb21wYWN0LFxuICAgIGRlY29kZTogZGVjb2RlLFxuICAgIGVuY29kZTogZW5jb2RlLFxuICAgIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgICBpc1JlZ0V4cDogaXNSZWdFeHAsXG4gICAgbWF5YmVNYXA6IG1heWJlTWFwLFxuICAgIG1lcmdlOiBtZXJnZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICB2YXIgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1c2VybmFtZSArICc6JyArIHBhc3N3b3JkKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBjb25maWcudGltZW91dDtcblxuICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0gJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCA/IHBhcnNlSGVhZGVycyhyZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSA6IG51bGw7XG4gICAgICB2YXIgcmVzcG9uc2VEYXRhID0gIWNvbmZpZy5yZXNwb25zZVR5cGUgfHwgY29uZmlnLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8gcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG4gICAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG4gICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlamVjdChjYW5jZWwpO1xuICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi9lbmhhbmNlRXJyb3InKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5DYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xufTtcblxuQ2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXBsYWNlID0gU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlO1xudmFyIHBlcmNlbnRUd2VudGllcyA9IC8lMjAvZztcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBGb3JtYXQgPSB7XG4gICAgUkZDMTczODogJ1JGQzE3MzgnLFxuICAgIFJGQzM5ODY6ICdSRkMzOTg2J1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB1dGlsLmFzc2lnbihcbiAgICB7XG4gICAgICAgICdkZWZhdWx0JzogRm9ybWF0LlJGQzM5ODYsXG4gICAgICAgIGZvcm1hdHRlcnM6IHtcbiAgICAgICAgICAgIFJGQzE3Mzg6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXBsYWNlLmNhbGwodmFsdWUsIHBlcmNlbnRUd2VudGllcywgJysnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBSRkMzOTg2OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgRm9ybWF0XG4pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBwcm92aWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2xpYi9wcm92aWRlclwiKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBwcm92aWRlcl8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lhVzVrWlhndWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl1TGk4dUxpOXpjbU12YVc1a1pYZ3VkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN1FVRkJRU3c0UkVGQmMwTTdRVUZEZEVNc2EwSkJRV1VzYTBKQlFWRXNRMEZCUXlKOSIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc2RrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vc2RrXCIpKTtcbmZ1bmN0aW9uIGRlZmF1bHRfMShiYXNlVVJMLCBzdG9yZUNvbmZpZykge1xuICAgIHJldHVybiBuZXcgc2RrXzEuZGVmYXVsdChiYXNlVVJMLCBzdG9yZUNvbmZpZyk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkZWZhdWx0XzE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2ljSEp2ZG1sa1pYSXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOHVMaTh1TGk5emNtTXZiR2xpTDNCeWIzWnBaR1Z5TG5SeklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN096czdPMEZCUVVFc1owUkJRVFJETzBGQlJUVkRMRzFDUVVGM1FpeFBRVUZsTEVWQlFVVXNWMEZCZVVJN1NVRkRhRVVzVDBGQlR5eEpRVUZKTEdGQlFVMHNRMEZCUXl4UFFVRlBMRVZCUVVVc1YwRkJWeXhEUVVGRExFTkJRVU03UVVGRE1VTXNRMEZCUXp0QlFVWkVMRFJDUVVWREluMD0iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBheGlvc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJheGlvc1wiKSk7XG5jb25zdCBDb29raWVzID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJqcy1jb29raWVcIikpO1xuY29uc3QgcXMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInFzXCIpKTtcbmNsYXNzIFN0cmFwaSB7XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gYmFzZVVSTCBZb3VyIFN0cmFwaSBob3N0LlxuICAgICAqIEBwYXJhbSBheGlvc0NvbmZpZyBFeHRlbmQgQXhpb3MgY29uZmlndXJhdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihiYXNlVVJMLCBzdG9yZUNvbmZpZywgcmVxdWVzdENvbmZpZykge1xuICAgICAgICB0aGlzLmF4aW9zID0gYXhpb3NfMS5kZWZhdWx0LmNyZWF0ZShPYmplY3QuYXNzaWduKHsgYmFzZVVSTCwgcGFyYW1zU2VyaWFsaXplcjogcXMuc3RyaW5naWZ5IH0sIHJlcXVlc3RDb25maWcpKTtcbiAgICAgICAgdGhpcy5zdG9yZUNvbmZpZyA9IE9iamVjdC5hc3NpZ24oeyBjb29raWU6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdqd3QnLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy8nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgbG9jYWxTdG9yYWdlOiB7XG4gICAgICAgICAgICAgICAga2V5OiAnand0J1xuICAgICAgICAgICAgfSB9LCBzdG9yZUNvbmZpZyk7XG4gICAgICAgIGlmICh0aGlzLmlzQnJvd3NlcigpKSB7XG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdUb2tlbjtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZSkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nVG9rZW4gPSBDb29raWVzLmdldCh0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ1Rva2VuID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2Uua2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUb2tlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VG9rZW4oZXhpc3RpbmdUb2tlbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXhpb3MgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBtZXRob2QgUmVxdWVzdCBtZXRob2RcbiAgICAgKiBAcGFyYW0gdXJsIFNlcnZlciBVUkxcbiAgICAgKiBAcGFyYW0gcmVxdWVzdENvbmZpZyBDdXN0b20gQXhpb3MgY29uZmlnXG4gICAgICovXG4gICAgYXN5bmMgcmVxdWVzdChtZXRob2QsIHVybCwgcmVxdWVzdENvbmZpZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zLnJlcXVlc3QoT2JqZWN0LmFzc2lnbih7IG1ldGhvZCxcbiAgICAgICAgICAgICAgICB1cmwgfSwgcmVxdWVzdENvbmZpZykpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IHVzZXIuXG4gICAgICogQHBhcmFtIHVzZXJuYW1lXG4gICAgICogQHBhcmFtIGVtYWlsXG4gICAgICogQHBhcmFtIHBhc3N3b3JkXG4gICAgICogQHJldHVybnMgQXV0aGVudGljYXRpb24gVXNlciB0b2tlbiBhbmQgcHJvZmlsZVxuICAgICAqL1xuICAgIGFzeW5jIHJlZ2lzdGVyKHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5jbGVhclRva2VuKCk7XG4gICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uID0gYXdhaXQgdGhpcy5yZXF1ZXN0KCdwb3N0JywgJy9hdXRoL2xvY2FsL3JlZ2lzdGVyJywge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFRva2VuKGF1dGhlbnRpY2F0aW9uLmp3dCk7XG4gICAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9naW4gYnkgZ2V0dGluZyBhbiBhdXRoZW50aWNhdGlvbiB0b2tlbi5cbiAgICAgKiBAcGFyYW0gaWRlbnRpZmllciBDYW4gZWl0aGVyIGJlIGFuIGVtYWlsIG9yIGEgdXNlcm5hbWUuXG4gICAgICogQHBhcmFtIHBhc3N3b3JkXG4gICAgICogQHJldHVybnMgQXV0aGVudGljYXRpb24gVXNlciB0b2tlbiBhbmQgcHJvZmlsZVxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luKGlkZW50aWZpZXIsIHBhc3N3b3JkKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUb2tlbigpO1xuICAgICAgICBpZiAoIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgbG9nIGJhY2sgaW4uIHBhc3N3b3JkL3Rva2VuIG5vdCBzZXQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uID0gYXdhaXQgdGhpcy5yZXF1ZXN0KCdwb3N0JywgJy9hdXRoL2xvY2FsJywge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0VG9rZW4oYXV0aGVudGljYXRpb24uand0KTtcbiAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhbiBlbWFpbCB0byBhIHVzZXIgd2l0aCB0aGUgbGluayBvZiB5b3VyIHJlc2V0IHBhc3N3b3JkIHBhZ2UuXG4gICAgICogVGhpcyBsaW5rIGNvbnRhaW5zIGFuIFVSTCBwYXJhbSBjb2RlIHdoaWNoIGlzIHJlcXVpcmVkIHRvIHJlc2V0IHVzZXIgcGFzc3dvcmQuXG4gICAgICogUmVjZWl2ZWQgbGluayB1cmwgZm9ybWF0IGh0dHBzOi8vbXktZG9tYWluLmNvbS9yZXN0LXBhc3N3b3JkP2NvZGU9cHJpdmF0ZUNvZGUuXG4gICAgICogQHBhcmFtIGVtYWlsXG4gICAgICogQHBhcmFtIHVybCBMaW5rIHRoYXQgdXNlciB3aWxsIHJlY2VpdmUuXG4gICAgICovXG4gICAgYXN5bmMgZm9yZ290UGFzc3dvcmQoZW1haWwsIHVybCkge1xuICAgICAgICB0aGlzLmNsZWFyVG9rZW4oKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZXF1ZXN0KCdwb3N0JywgJy9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSB1c2VyIHBhc3N3b3JkLlxuICAgICAqIEBwYXJhbSBjb2RlIElzIHRoZSB1cmwgcGFyYW1zIHJlY2VpdmVkIGZyb20gdGhlIGVtYWlsIGxpbmsgKHNlZSBmb3Jnb3QgcGFzc3dvcmQpLlxuICAgICAqIEBwYXJhbSBwYXNzd29yZFxuICAgICAqIEBwYXJhbSBwYXNzd29yZENvbmZpcm1hdGlvblxuICAgICAqL1xuICAgIGFzeW5jIHJlc2V0UGFzc3dvcmQoY29kZSwgcGFzc3dvcmQsIHBhc3N3b3JkQ29uZmlybWF0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUb2tlbigpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlcXVlc3QoJ3Bvc3QnLCAnL2F1dGgvcmVzZXQtcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgY29kZSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICBwYXNzd29yZENvbmZpcm1hdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIGNvbm5lY3QgcHJvdmlkZXIgVVJMXG4gICAgICogQHBhcmFtIHByb3ZpZGVyXG4gICAgICovXG4gICAgZ2V0UHJvdmlkZXJBdXRoZW50aWNhdGlvblVybChwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5heGlvcy5kZWZhdWx0cy5iYXNlVVJMfS9jb25uZWN0LyR7cHJvdmlkZXJ9YDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXV0aGVudGljYXRlIHRoZSB1c2VyIHdpdGggdGhlIHRva2VuIHByZXNlbnQgb24gdGhlIFVSTCAoZm9yIGJyb3dzZXIpIG9yIGluIGBwYXJhbXNgIChvbiBOb2RlLmpzKVxuICAgICAqIEBwYXJhbSBwcm92aWRlclxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBhc3luYyBhdXRoZW50aWNhdGVQcm92aWRlcihwcm92aWRlciwgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUb2tlbigpO1xuICAgICAgICAvLyBIYW5kbGluZyBicm93c2VyIHF1ZXJ5XG4gICAgICAgIGlmICh0aGlzLmlzQnJvd3NlcigpKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBxcy5wYXJzZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoLCB7IGlnbm9yZVF1ZXJ5UHJlZml4OiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uID0gYXdhaXQgdGhpcy5yZXF1ZXN0KCdnZXQnLCBgL2F1dGgvJHtwcm92aWRlcn0vY2FsbGJhY2tgLCB7XG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0VG9rZW4oYXV0aGVudGljYXRpb24uand0KTtcbiAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IGVudHJpZXNcbiAgICAgKiBAcGFyYW0gY29udGVudFR5cGVQbHVyYWxpemVkXG4gICAgICogQHBhcmFtIHBhcmFtcyBGaWx0ZXIgYW5kIG9yZGVyIHF1ZXJpZXMuXG4gICAgICovXG4gICAgZ2V0RW50cmllcyhjb250ZW50VHlwZVBsdXJhbGl6ZWQsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdnZXQnLCBgLyR7Y29udGVudFR5cGVQbHVyYWxpemVkfWAsIHtcbiAgICAgICAgICAgIHBhcmFtc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0b3RhbCBjb3VudCBvZiBlbnRyaWVzIHdpdGggdGhlIHByb3ZpZGVkIGNyaXRlcmlhXG4gICAgICogQHBhcmFtIGNvbnRlbnRUeXBlXG4gICAgICogQHBhcmFtIHBhcmFtcyBGaWx0ZXIgYW5kIG9yZGVyIHF1ZXJpZXMuXG4gICAgICovXG4gICAgZ2V0RW50cnlDb3VudChjb250ZW50VHlwZSwgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2dldCcsIGAvJHtjb250ZW50VHlwZX0vY291bnRgLCB7XG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHNwZWNpZmljIGVudHJ5XG4gICAgICogQHBhcmFtIGNvbnRlbnRUeXBlUGx1cmFsaXplZCBUeXBlIG9mIGVudHJ5IHBsdXJhbGl6ZWRcbiAgICAgKiBAcGFyYW0gaWQgSUQgb2YgZW50cnlcbiAgICAgKi9cbiAgICBnZXRFbnRyeShjb250ZW50VHlwZVBsdXJhbGl6ZWQsIGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2dldCcsIGAvJHtjb250ZW50VHlwZVBsdXJhbGl6ZWR9LyR7aWR9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBkYXRhXG4gICAgICogQHBhcmFtIGNvbnRlbnRUeXBlUGx1cmFsaXplZCBUeXBlIG9mIGVudHJ5IHBsdXJhbGl6ZWRcbiAgICAgKiBAcGFyYW0gZGF0YSBOZXcgZW50cnlcbiAgICAgKi9cbiAgICBjcmVhdGVFbnRyeShjb250ZW50VHlwZVBsdXJhbGl6ZWQsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgncG9zdCcsIGAvJHtjb250ZW50VHlwZVBsdXJhbGl6ZWR9YCwge1xuICAgICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGRhdGFcbiAgICAgKiBAcGFyYW0gY29udGVudFR5cGVQbHVyYWxpemVkIFR5cGUgb2YgZW50cnkgcGx1cmFsaXplZFxuICAgICAqIEBwYXJhbSBpZCBJRCBvZiBlbnRyeVxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgdXBkYXRlRW50cnkoY29udGVudFR5cGVQbHVyYWxpemVkLCBpZCwgZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdwdXQnLCBgLyR7Y29udGVudFR5cGVQbHVyYWxpemVkfS8ke2lkfWAsIHtcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbiBlbnRyeVxuICAgICAqIEBwYXJhbSBjb250ZW50VHlwZVBsdXJhbGl6ZWQgVHlwZSBvZiBlbnRyeSBwbHVyYWxpemVkXG4gICAgICogQHBhcmFtIGlkIElEIG9mIGVudHJ5XG4gICAgICovXG4gICAgZGVsZXRlRW50cnkoY29udGVudFR5cGVQbHVyYWxpemVkLCBpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdkZWxldGUnLCBgLyR7Y29udGVudFR5cGVQbHVyYWxpemVkfS8ke2lkfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWFyY2ggZm9yIGZpbGVzXG4gICAgICogQHBhcmFtIHF1ZXJ5IEtleXdvcmRzXG4gICAgICovXG4gICAgc2VhcmNoRmlsZXMocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZ2V0JywgYC91cGxvYWQvc2VhcmNoLyR7ZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGZpbGVzXG4gICAgICogQHBhcmFtIHBhcmFtcyBGaWx0ZXIgYW5kIG9yZGVyIHF1ZXJpZXNcbiAgICAgKiBAcmV0dXJucyBPYmplY3RbXSBGaWxlcyBkYXRhXG4gICAgICovXG4gICAgZ2V0RmlsZXMocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2dldCcsICcvdXBsb2FkL2ZpbGVzJywge1xuICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZmlsZVxuICAgICAqIEBwYXJhbSBpZCBJRCBvZiBlbnRyeVxuICAgICAqL1xuICAgIGdldEZpbGUoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZ2V0JywgYC91cGxvYWQvZmlsZXMvJHtpZH1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIGZpbGVzXG4gICAgICpcbiAgICAgKiAjIyMgQnJvd3NlciBleGFtcGxlXG4gICAgICogYGBganNcbiAgICAgKiBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICogZm9ybS5hcHBlbmQoJ2ZpbGVzJywgZmlsZUlucHV0RWxlbWVudC5maWxlc1swXSwgJ2ZpbGUtbmFtZS5leHQnKTtcbiAgICAgKiBmb3JtLmFwcGVuZCgnZmlsZXMnLCBmaWxlSW5wdXRFbGVtZW50LmZpbGVzWzFdLCAnZmlsZS0yLW5hbWUuZXh0Jyk7XG4gICAgICogY29uc3QgZmlsZXMgPSBhd2FpdCBzdHJhcGkudXBsb2FkKGZvcm0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIE5vZGUuanMgZXhhbXBsZVxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgRm9ybURhdGEgPSByZXF1aXJlKCdmb3JtLWRhdGEnKTtcbiAgICAgKiBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgICogY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAqIGZvcm0uYXBwZW5kKCdmaWxlcycsIGZzLmNyZWF0ZVJlYWRTdHJlYW0oJy4vZmlsZS1uYW1lLmV4dCcpLCAnZmlsZS1uYW1lLmV4dCcpO1xuICAgICAqIGNvbnN0IGZpbGVzID0gYXdhaXQgc3RyYXBpLnVwbG9hZChmb3JtLCB7XG4gICAgICogICBoZWFkZXJzOiBmb3JtLmdldEhlYWRlcnMoKVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgRm9ybURhdGFcbiAgICAgKiBAcGFyYW0gcmVxdWVzdENvbmZpZ1xuICAgICAqL1xuICAgIHVwbG9hZChkYXRhLCByZXF1ZXN0Q29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ3Bvc3QnLCAnL3VwbG9hZCcsIE9iamVjdC5hc3NpZ24oeyBkYXRhIH0sIHJlcXVlc3RDb25maWcpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRva2VuIG9uIEF4aW9zIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0gdG9rZW4gUmV0cmlldmVkIGJ5IHJlZ2lzdGVyIG9yIGxvZ2luXG4gICAgICovXG4gICAgc2V0VG9rZW4odG9rZW4sIGNvbWVzRnJvbVN0b3JhZ2UpIHtcbiAgICAgICAgdGhpcy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgdG9rZW47XG4gICAgICAgIGlmICh0aGlzLmlzQnJvd3NlcigpICYmICFjb21lc0Zyb21TdG9yYWdlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2Uua2V5LCBKU09OLnN0cmluZ2lmeSh0b2tlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVDb25maWcuY29va2llKSB7XG4gICAgICAgICAgICAgICAgQ29va2llcy5zZXQodGhpcy5zdG9yZUNvbmZpZy5jb29raWUua2V5LCB0b2tlbiwgdGhpcy5zdG9yZUNvbmZpZy5jb29raWUub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VG9rZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQnJvd3NlcigpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVDb25maWcubG9jYWxTdG9yYWdlLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5jb29raWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29va2llcy5nZXQodGhpcy5zdG9yZUNvbmZpZy5jb29raWUua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdG9rZW4gZnJvbSBBeGlvcyBjb25maWd1cmF0aW9uXG4gICAgICovXG4gICAgY2xlYXJUb2tlbigpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuaXNCcm93c2VyKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlQ29uZmlnLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLnN0b3JlQ29uZmlnLmxvY2FsU3RvcmFnZS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVDb25maWcuY29va2llKSB7XG4gICAgICAgICAgICAgICAgQ29va2llcy5yZW1vdmUodGhpcy5zdG9yZUNvbmZpZy5jb29raWUua2V5LCB0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZS5vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBpdCBydW5zIG9uIGJyb3dzZXJcbiAgICAgKi9cbiAgICBpc0Jyb3dzZXIoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBTdHJhcGk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2ljMlJyTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhNaU9sc2lMaTR2TGk0dkxpNHZjM0pqTDJ4cFlpOXpaR3N1ZEhNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCUVVFc2EwUkJRV2RHTzBGQlEyaEdMRzFFUVVGeFF6dEJRVU55UXl4MVEwRkJlVUk3UVVFMlFucENMRTFCUVhGQ0xFMUJRVTA3U1VGSmVrSTdPenM3VDBGSlJ6dEpRVU5JTEZsQlEwVXNUMEZCWlN4RlFVTm1MRmRCUVhsQ0xFVkJRM3BDTEdGQlFXdERPMUZCUld4RExFbEJRVWtzUTBGQlF5eExRVUZMTEVkQlFVY3NaVUZCU3l4RFFVRkRMRTFCUVUwc2FVSkJRM1pDTEU5QlFVOHNSVUZEVUN4blFrRkJaMElzUlVGQlJTeEZRVUZGTEVOQlFVTXNVMEZCVXl4SlFVTXpRaXhoUVVGaExFVkJRMmhDTEVOQlFVTTdVVUZEU0N4SlFVRkpMRU5CUVVNc1YwRkJWeXh0UWtGRFpDeE5RVUZOTEVWQlFVVTdaMEpCUTA0c1IwRkJSeXhGUVVGRkxFdEJRVXM3WjBKQlExWXNUMEZCVHl4RlFVRkZPMjlDUVVOUUxFbEJRVWtzUlVGQlJTeEhRVUZITzJsQ1FVTldPMkZCUTBZc1JVRkRSQ3haUVVGWkxFVkJRVVU3WjBKQlExb3NSMEZCUnl4RlFVRkZMRXRCUVVzN1lVRkRXQ3hKUVVORkxGZEJRVmNzUTBGRFppeERRVUZETzFGQlJVWXNTVUZCU1N4SlFVRkpMRU5CUVVNc1UwRkJVeXhGUVVGRkxFVkJRVVU3V1VGRGNFSXNTVUZCU1N4aFFVRmhMRU5CUVVNN1dVRkRiRUlzU1VGQlNTeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRTFCUVUwc1JVRkJSVHRuUWtGRE0wSXNZVUZCWVN4SFFVRkhMRTlCUVU4c1EwRkJReXhIUVVGSExFTkJRVU1zU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4TlFVRk5MRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03WVVGRE1VUTdhVUpCUVUwc1NVRkJTU3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEZsQlFWa3NSVUZCUlR0blFrRkRlRU1zWVVGQllTeEhRVUZITEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExGbEJRVmtzUTBGQlF5eFBRVUZQTEVOQlEzQkVMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zV1VGQldTeERRVUZETEVkQlFVY3NRMEZEZUVJc1EwRkJReXhEUVVGRE8yRkJRMlE3V1VGRFJDeEpRVUZKTEdGQlFXRXNSVUZCUlR0blFrRkRha0lzU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4aFFVRmhMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU03WVVGRGNFTTdVMEZEUmp0SlFVTklMRU5CUVVNN1NVRkZSRHM3T3pzN1QwRkxSenRKUVVOSkxFdEJRVXNzUTBGQlF5eFBRVUZQTEVOQlEyeENMRTFCUVdNc1JVRkRaQ3hIUVVGWExFVkJRMWdzWVVGQmEwTTdVVUZGYkVNc1NVRkJTVHRaUVVOR0xFMUJRVTBzVVVGQlVTeEhRVUZyUWl4TlFVRk5MRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVDBGQlR5eHBRa0ZEZEVRc1RVRkJUVHRuUWtGRFRpeEhRVUZITEVsQlEwRXNZVUZCWVN4RlFVTm9RaXhEUVVGRE8xbEJRMGdzVDBGQlR5eFJRVUZSTEVOQlFVTXNTVUZCU1N4RFFVRkRPMU5CUTNSQ08xRkJRVU1zVDBGQlR5eExRVUZMTEVWQlFVVTdXVUZEWkN4SlFVRkpMRXRCUVVzc1EwRkJReXhSUVVGUkxFVkJRVVU3WjBKQlEyeENMRTFCUVUwc1NVRkJTU3hMUVVGTExFTkJRVU1zUzBGQlN5eERRVUZETEZGQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFTkJRVU03WVVGRE9VTTdhVUpCUVUwN1owSkJRMHdzVFVGQlRTeExRVUZMTEVOQlFVTTdZVUZEWWp0VFFVTkdPMGxCUTBnc1EwRkJRenRKUVVWRU96czdPenM3VDBGTlJ6dEpRVU5KTEV0QlFVc3NRMEZCUXl4UlFVRlJMRU5CUTI1Q0xGRkJRV2RDTEVWQlEyaENMRXRCUVdFc1JVRkRZaXhSUVVGblFqdFJRVVZvUWl4SlFVRkpMRU5CUVVNc1ZVRkJWU3hGUVVGRkxFTkJRVU03VVVGRGJFSXNUVUZCVFN4alFVRmpMRWRCUVcxQ0xFMUJRVTBzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZEZGtRc1RVRkJUU3hGUVVOT0xITkNRVUZ6UWl4RlFVTjBRanRaUVVORkxFbEJRVWtzUlVGQlJUdG5Ra0ZEU2l4TFFVRkxPMmRDUVVOTUxGRkJRVkU3WjBKQlExSXNVVUZCVVR0aFFVTlVPMU5CUTBZc1EwRkRSaXhEUVVGRE8xRkJRMFlzU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4alFVRmpMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03VVVGRGJFTXNUMEZCVHl4alFVRmpMRU5CUVVNN1NVRkRlRUlzUTBGQlF6dEpRVVZFT3pzN096dFBRVXRITzBsQlEwa3NTMEZCU3l4RFFVRkRMRXRCUVVzc1EwRkRhRUlzVlVGQmEwSXNSVUZEYkVJc1VVRkJLMEk3VVVGRkwwSXNTVUZCU1N4RFFVRkRMRlZCUVZVc1JVRkJSU3hEUVVGRE8xRkJRMnhDTEVsQlFVa3NRMEZCUXl4UlFVRlJMRVZCUVVVN1dVRkRZaXhOUVVGTkxFbEJRVWtzUzBGQlN5eERRVUZETEdkRVFVRm5SQ3hEUVVGRExFTkJRVU03VTBGRGJrVTdVVUZGUkN4TlFVRk5MR05CUVdNc1IwRkJiVUlzVFVGQlRTeEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVTjJSQ3hOUVVGTkxFVkJRMDRzWVVGQllTeEZRVU5pTzFsQlEwVXNTVUZCU1N4RlFVRkZPMmRDUVVOS0xGVkJRVlU3WjBKQlExWXNVVUZCVVR0aFFVTlVPMU5CUTBZc1EwRkRSaXhEUVVGRE8xRkJRMFlzU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4alFVRmpMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03VVVGRGJFTXNUMEZCVHl4alFVRmpMRU5CUVVNN1NVRkRlRUlzUTBGQlF6dEpRVVZFT3pzN096czdUMEZOUnp0SlFVTkpMRXRCUVVzc1EwRkJReXhqUVVGakxFTkJRVU1zUzBGQllTeEZRVUZGTEVkQlFWYzdVVUZEY0VRc1NVRkJTU3hEUVVGRExGVkJRVlVzUlVGQlJTeERRVUZETzFGQlEyeENMRTFCUVUwc1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eE5RVUZOTEVWQlFVVXNkVUpCUVhWQ0xFVkJRVVU3V1VGRGJFUXNTVUZCU1N4RlFVRkZPMmRDUVVOS0xFdEJRVXM3WjBKQlEwd3NSMEZCUnp0aFFVTktPMU5CUTBZc1EwRkJReXhEUVVGRE8wbEJRMHdzUTBGQlF6dEpRVVZFT3pzN096dFBRVXRITzBsQlEwa3NTMEZCU3l4RFFVRkRMR0ZCUVdFc1EwRkRlRUlzU1VGQldTeEZRVU5hTEZGQlFXZENMRVZCUTJoQ0xHOUNRVUUwUWp0UlFVVTFRaXhKUVVGSkxFTkJRVU1zVlVGQlZTeEZRVUZGTEVOQlFVTTdVVUZEYkVJc1RVRkJUU3hKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEUxQlFVMHNSVUZCUlN4elFrRkJjMElzUlVGQlJUdFpRVU5xUkN4SlFVRkpMRVZCUVVVN1owSkJRMG9zU1VGQlNUdG5Ra0ZEU2l4UlFVRlJPMmRDUVVOU0xHOUNRVUZ2UWp0aFFVTnlRanRUUVVOR0xFTkJRVU1zUTBGQlF6dEpRVU5NTEVOQlFVTTdTVUZGUkRzN08wOUJSMGM3U1VGRFNTdzBRa0ZCTkVJc1EwRkJReXhSUVVGclFqdFJRVU53UkN4UFFVRlBMRWRCUVVjc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eFJRVUZSTEVOQlFVTXNUMEZCVHl4WlFVRlpMRkZCUVZFc1JVRkJSU3hEUVVGRE8wbEJRemxFTEVOQlFVTTdTVUZGUkRzN096dFBRVWxITzBsQlEwa3NTMEZCU3l4RFFVRkRMRzlDUVVGdlFpeERRVU12UWl4UlFVRnJRaXhGUVVOc1FpeE5RVUZ6UWp0UlFVVjBRaXhKUVVGSkxFTkJRVU1zVlVGQlZTeEZRVUZGTEVOQlFVTTdVVUZEYkVJc2VVSkJRWGxDTzFGQlEzcENMRWxCUVVrc1NVRkJTU3hEUVVGRExGTkJRVk1zUlVGQlJTeEZRVUZGTzFsQlEzQkNMRTFCUVUwc1IwRkJSeXhGUVVGRkxFTkJRVU1zUzBGQlN5eERRVUZETEUxQlFVMHNRMEZCUXl4UlFVRlJMRU5CUVVNc1RVRkJUU3hGUVVGRkxFVkJRVVVzYVVKQlFXbENMRVZCUVVVc1NVRkJTU3hGUVVGRkxFTkJRVU1zUTBGQlF6dFRRVU40UlR0UlFVTkVMRTFCUVUwc1kwRkJZeXhIUVVGdFFpeE5RVUZOTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUTNaRUxFdEJRVXNzUlVGRFRDeFRRVUZUTEZGQlFWRXNWMEZCVnl4RlFVTTFRanRaUVVORkxFMUJRVTA3VTBGRFVDeERRVU5HTEVOQlFVTTdVVUZEUml4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExHTkJRV01zUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXp0UlFVTnNReXhQUVVGUExHTkJRV01zUTBGQlF6dEpRVU40UWl4RFFVRkRPMGxCUlVRN096czdUMEZKUnp0SlFVTkpMRlZCUVZVc1EwRkRaaXh4UWtGQk5rSXNSVUZETjBJc1RVRkJjVU03VVVGRmNrTXNUMEZCVHl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFdEJRVXNzUlVGQlJTeEpRVUZKTEhGQ1FVRnhRaXhGUVVGRkxFVkJRVVU3V1VGRGRFUXNUVUZCVFR0VFFVTlFMRU5CUVVNc1EwRkJRenRKUVVOTUxFTkJRVU03U1VGRlJEczdPenRQUVVsSE8wbEJRMGtzWVVGQllTeERRVU5zUWl4WFFVRnRRaXhGUVVOdVFpeE5RVUZ4UXp0UlFVVnlReXhQUVVGUExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNTMEZCU3l4RlFVRkZMRWxCUVVrc1YwRkJWeXhSUVVGUkxFVkJRVVU3V1VGRGJFUXNUVUZCVFR0VFFVTlFMRU5CUVVNc1EwRkJRenRKUVVOTUxFTkJRVU03U1VGRlJEczdPenRQUVVsSE8wbEJRMGtzVVVGQlVTeERRVUZETEhGQ1FVRTJRaXhGUVVGRkxFVkJRVlU3VVVGRGRrUXNUMEZCVHl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFdEJRVXNzUlVGQlJTeEpRVUZKTEhGQ1FVRnhRaXhKUVVGSkxFVkJRVVVzUlVGQlJTeERRVUZETEVOQlFVTTdTVUZEYUVVc1EwRkJRenRKUVVWRU96czdPMDlCU1VjN1NVRkRTU3hYUVVGWExFTkJRMmhDTEhGQ1FVRTJRaXhGUVVNM1FpeEpRVUZuUXp0UlFVVm9ReXhQUVVGUExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNUVUZCVFN4RlFVRkZMRWxCUVVrc2NVSkJRWEZDTEVWQlFVVXNSVUZCUlR0WlFVTjJSQ3hKUVVGSk8xTkJRMHdzUTBGQlF5eERRVUZETzBsQlEwd3NRMEZCUXp0SlFVVkVPenM3T3p0UFFVdEhPMGxCUTBrc1YwRkJWeXhEUVVOb1FpeHhRa0ZCTmtJc1JVRkROMElzUlVGQlZTeEZRVU5XTEVsQlFXZERPMUZCUldoRExFOUJRVThzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4TFFVRkxMRVZCUVVVc1NVRkJTU3h4UWtGQmNVSXNTVUZCU1N4RlFVRkZMRVZCUVVVc1JVRkJSVHRaUVVNMVJDeEpRVUZKTzFOQlEwd3NRMEZCUXl4RFFVRkRPMGxCUTB3c1EwRkJRenRKUVVWRU96czdPMDlCU1VjN1NVRkRTU3hYUVVGWExFTkJRMmhDTEhGQ1FVRTJRaXhGUVVNM1FpeEZRVUZWTzFGQlJWWXNUMEZCVHl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExGRkJRVkVzUlVGQlJTeEpRVUZKTEhGQ1FVRnhRaXhKUVVGSkxFVkJRVVVzUlVGQlJTeERRVUZETEVOQlFVTTdTVUZEYmtVc1EwRkJRenRKUVVWRU96czdUMEZIUnp0SlFVTkpMRmRCUVZjc1EwRkJReXhMUVVGaE8xRkJRemxDTEU5QlFVOHNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhMUVVGTExFVkJRVVVzYTBKQlFXdENMR3RDUVVGclFpeERRVUZETEV0QlFVc3NRMEZCUXl4RlFVRkZMRU5CUVVNc1EwRkJRenRKUVVNMVJTeERRVUZETzBsQlJVUTdPenM3VDBGSlJ6dEpRVU5KTEZGQlFWRXNRMEZCUXl4TlFVRnhRenRSUVVOdVJDeFBRVUZQTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1MwRkJTeXhGUVVGRkxHVkJRV1VzUlVGQlJUdFpRVU14UXl4TlFVRk5PMU5CUTFBc1EwRkJReXhEUVVGRE8wbEJRMHdzUTBGQlF6dEpRVVZFT3pzN1QwRkhSenRKUVVOSkxFOUJRVThzUTBGQlF5eEZRVUZWTzFGQlEzWkNMRTlCUVU4c1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eExRVUZMTEVWQlFVVXNhVUpCUVdsQ0xFVkJRVVVzUlVGQlJTeERRVUZETEVOQlFVTTdTVUZEY0VRc1EwRkJRenRKUVVWRU96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3VDBGM1FrYzdTVUZEU1N4TlFVRk5MRU5CUTFnc1NVRkJZeXhGUVVOa0xHRkJRV3RETzFGQlJXeERMRTlCUVU4c1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eE5RVUZOTEVWQlFVVXNVMEZCVXl4clFrRkRia01zU1VGQlNTeEpRVU5FTEdGQlFXRXNSVUZEYUVJc1EwRkJRenRKUVVOTUxFTkJRVU03U1VGRlJEczdPMDlCUjBjN1NVRkRTU3hSUVVGUkxFTkJRVU1zUzBGQllTeEZRVUZGTEdkQ1FVRXdRanRSUVVOMlJDeEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRkZCUVZFc1EwRkJReXhQUVVGUExFTkJRVU1zVFVGQlRTeERRVUZETEdGQlFXRXNSMEZCUnl4VFFVRlRMRWRCUVVjc1MwRkJTeXhEUVVGRE8xRkJRM0pGTEVsQlFVa3NTVUZCU1N4RFFVRkRMRk5CUVZNc1JVRkJSU3hKUVVGSkxFTkJRVU1zWjBKQlFXZENMRVZCUVVVN1dVRkRla01zU1VGQlNTeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRmxCUVZrc1JVRkJSVHRuUWtGRGFrTXNUVUZCVFN4RFFVRkRMRmxCUVZrc1EwRkJReXhQUVVGUExFTkJRM3BDTEVsQlFVa3NRMEZCUXl4WFFVRlhMRU5CUVVNc1dVRkJXU3hEUVVGRExFZEJRVWNzUlVGRGFrTXNTVUZCU1N4RFFVRkRMRk5CUVZNc1EwRkJReXhMUVVGTExFTkJRVU1zUTBGRGRFSXNRMEZCUXp0aFFVTklPMWxCUTBRc1NVRkJTU3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEUxQlFVMHNSVUZCUlR0blFrRkRNMElzVDBGQlR5eERRVUZETEVkQlFVY3NRMEZEVkN4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExFMUJRVTBzUTBGQlF5eEhRVUZITEVWQlF6TkNMRXRCUVVzc1JVRkRUQ3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEUxQlFVMHNRMEZCUXl4UFFVRlBMRU5CUTJoRExFTkJRVU03WVVGRFNEdFRRVU5HTzBsQlEwZ3NRMEZCUXp0SlFVVk5MRkZCUVZFN1VVRkRZaXhKUVVGSkxFbEJRVWtzUTBGQlF5eFRRVUZUTEVWQlFVVXNSVUZCUlR0WlFVTndRaXhKUVVGSkxFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNXVUZCV1N4RlFVRkZPMmRDUVVOcVF5eFBRVUZQTEUxQlFVMHNRMEZCUXl4WlFVRlpMRU5CUVVNc1QwRkJUeXhEUVVOb1F5eEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRmxCUVZrc1EwRkJReXhIUVVGSExFTkJRMnhETEVOQlFVTTdZVUZEU0R0WlFVTkVMRWxCUVVrc1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF5eE5RVUZOTEVWQlFVVTdaMEpCUXpOQ0xFOUJRVThzVDBGQlR5eERRVUZETEVkQlFVY3NRMEZCUXl4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExFMUJRVTBzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXp0aFFVTnFSRHRUUVVOR08wbEJRMGdzUTBGQlF6dEpRVVZFT3p0UFFVVkhPMGxCUTBrc1ZVRkJWVHRSUVVObUxFOUJRVThzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eGhRVUZoTEVOQlFVTTdVVUZEZUVRc1NVRkJTU3hKUVVGSkxFTkJRVU1zVTBGQlV5eEZRVUZGTEVWQlFVVTdXVUZEY0VJc1NVRkJTU3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEZsQlFWa3NSVUZCUlR0blFrRkRha01zVFVGQlRTeERRVUZETEZsQlFWa3NRMEZCUXl4VlFVRlZMRU5CUVVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF5eFpRVUZaTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1lVRkRia1U3V1VGRFJDeEpRVUZKTEVsQlFVa3NRMEZCUXl4WFFVRlhMRU5CUVVNc1RVRkJUU3hGUVVGRk8yZENRVU16UWl4UFFVRlBMRU5CUVVNc1RVRkJUU3hEUVVOYUxFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNUVUZCVFN4RFFVRkRMRWRCUVVjc1JVRkRNMElzU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4TlFVRk5MRU5CUVVNc1QwRkJUeXhEUVVOb1F5eERRVUZETzJGQlEwZzdVMEZEUmp0SlFVTklMRU5CUVVNN1NVRkZSRHM3VDBGRlJ6dEpRVU5MTEZOQlFWTTdVVUZEWml4UFFVRlBMRTlCUVU4c1RVRkJUU3hMUVVGTExGZEJRVmNzUTBGQlF6dEpRVU4yUXl4RFFVRkRPME5CUTBZN1FVRnVXa1FzZVVKQmJWcERJbjA9IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9heGlvcycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKHV0aWxzLm1lcmdlKGRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiZcbiAgICB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vLi4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywge21ldGhvZDogJ2dldCd9LCB0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgLy8gTm90ZTogc3RhdHVzIGlzIG5vdCBleHBvc2VkIGJ5IFhEb21haW5SZXF1ZXN0XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiLyohXG4gKiBKYXZhU2NyaXB0IENvb2tpZSB2Mi4yLjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy1jb29raWUvanMtY29va2llXG4gKlxuICogQ29weXJpZ2h0IDIwMDYsIDIwMTUgS2xhdXMgSGFydGwgJiBGYWduZXIgQnJhY2tcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG47KGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdHZhciByZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXI7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAoIXJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcikge1xuXHRcdHZhciBPbGRDb29raWVzID0gd2luZG93LkNvb2tpZXM7XG5cdFx0dmFyIGFwaSA9IHdpbmRvdy5Db29raWVzID0gZmFjdG9yeSgpO1xuXHRcdGFwaS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0d2luZG93LkNvb2tpZXMgPSBPbGRDb29raWVzO1xuXHRcdFx0cmV0dXJuIGFwaTtcblx0XHR9O1xuXHR9XG59KGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gZXh0ZW5kICgpIHtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWNvZGUgKHMpIHtcblx0XHRyZXR1cm4gcy5yZXBsYWNlKC8oJVswLTlBLVpdezJ9KSsvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGluaXQgKGNvbnZlcnRlcikge1xuXHRcdGZ1bmN0aW9uIGFwaSgpIHt9XG5cblx0XHRmdW5jdGlvbiBzZXQgKGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0YXR0cmlidXRlcyA9IGV4dGVuZCh7XG5cdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0fSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IG5ldyBEYXRlKG5ldyBEYXRlKCkgKiAxICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZSs1KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UncmUgdXNpbmcgXCJleHBpcmVzXCIgYmVjYXVzZSBcIm1heC1hZ2VcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG5cdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMgPyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHRpZiAoL15bXFx7XFxbXS8udGVzdChyZXN1bHQpKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cblx0XHRcdHZhbHVlID0gY29udmVydGVyLndyaXRlID9cblx0XHRcdFx0Y29udmVydGVyLndyaXRlKHZhbHVlLCBrZXkpIDpcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cblx0XHRcdGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSlcblx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudClcblx0XHRcdFx0LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XG5cblx0XHRcdHZhciBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSAnJztcblx0XHRcdGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJzsgJyArIGF0dHJpYnV0ZU5hbWU7XG5cdFx0XHRcdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDb25zaWRlcnMgUkZDIDYyNjUgc2VjdGlvbiA1LjI6XG5cdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHQvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG5cdFx0XHRcdC8vICAgICBjaGFyYWN0ZXI6XG5cdFx0XHRcdC8vIENvbnN1bWUgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHVucGFyc2VkLWF0dHJpYnV0ZXMgdXAgdG8sXG5cdFx0XHRcdC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuXHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0uc3BsaXQoJzsnKVswXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcyk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0IChrZXksIGpzb24pIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGphciA9IHt9O1xuXHRcdFx0Ly8gVG8gcHJldmVudCB0aGUgZm9yIGxvb3AgaW4gdGhlIGZpcnN0IHBsYWNlIGFzc2lnbiBhbiBlbXB0eSBhcnJheVxuXHRcdFx0Ly8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG5cdFx0XHR2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHRmb3IgKDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuXHRcdFx0XHR2YXIgY29va2llID0gcGFydHMuc2xpY2UoMSkuam9pbignPScpO1xuXG5cdFx0XHRcdGlmICghanNvbiAmJiBjb29raWUuY2hhckF0KDApID09PSAnXCInKSB7XG5cdFx0XHRcdFx0Y29va2llID0gY29va2llLnNsaWNlKDEsIC0xKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dmFyIG5hbWUgPSBkZWNvZGUocGFydHNbMF0pO1xuXHRcdFx0XHRcdGNvb2tpZSA9IChjb252ZXJ0ZXIucmVhZCB8fCBjb252ZXJ0ZXIpKGNvb2tpZSwgbmFtZSkgfHxcblx0XHRcdFx0XHRcdGRlY29kZShjb29raWUpO1xuXG5cdFx0XHRcdFx0aWYgKGpzb24pIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvb2tpZSA9IEpTT04ucGFyc2UoY29va2llKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0amFyW25hbWVdID0gY29va2llO1xuXG5cdFx0XHRcdFx0aWYgKGtleSA9PT0gbmFtZSkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ga2V5ID8gamFyW2tleV0gOiBqYXI7XG5cdFx0fVxuXG5cdFx0YXBpLnNldCA9IHNldDtcblx0XHRhcGkuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIGZhbHNlIC8qIHJlYWQgYXMgcmF3ICovKTtcblx0XHR9O1xuXHRcdGFwaS5nZXRKU09OID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIHRydWUgLyogcmVhZCBhcyBqc29uICovKTtcblx0XHR9O1xuXHRcdGFwaS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRzZXQoa2V5LCAnJywgZXh0ZW5kKGF0dHJpYnV0ZXMsIHtcblx0XHRcdFx0ZXhwaXJlczogLTFcblx0XHRcdH0pKTtcblx0XHR9O1xuXG5cdFx0YXBpLmRlZmF1bHRzID0ge307XG5cblx0XHRhcGkud2l0aENvbnZlcnRlciA9IGluaXQ7XG5cblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0cmV0dXJuIGluaXQoZnVuY3Rpb24gKCkge30pO1xufSkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnknKTtcbnZhciBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgcGFyc2U6IHBhcnNlLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgZm9ybWF0cyA9IHJlcXVpcmUoJy4vZm9ybWF0cycpO1xudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBhcnJheVByZWZpeEdlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHM6IGZ1bmN0aW9uIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1tdJztcbiAgICB9LFxuICAgIGNvbW1hOiAnY29tbWEnLFxuICAgIGluZGljZXM6IGZ1bmN0aW9uIGluZGljZXMocHJlZml4LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdDogZnVuY3Rpb24gcmVwZWF0KHByZWZpeCkge1xuICAgICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBwdXNoID0gQXJyYXkucHJvdG90eXBlLnB1c2g7XG52YXIgcHVzaFRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyLCB2YWx1ZU9yQXJyYXkpIHtcbiAgICBwdXNoLmFwcGx5KGFyciwgaXNBcnJheSh2YWx1ZU9yQXJyYXkpID8gdmFsdWVPckFycmF5IDogW3ZhbHVlT3JBcnJheV0pO1xufTtcblxudmFyIHRvSVNPID0gRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmc7XG5cbnZhciBkZWZhdWx0Rm9ybWF0ID0gZm9ybWF0c1snZGVmYXVsdCddO1xudmFyIGRlZmF1bHRzID0ge1xuICAgIGFkZFF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBlbmNvZGU6IHRydWUsXG4gICAgZW5jb2RlcjogdXRpbHMuZW5jb2RlLFxuICAgIGVuY29kZVZhbHVlc09ubHk6IGZhbHNlLFxuICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCxcbiAgICBmb3JtYXR0ZXI6IGZvcm1hdHMuZm9ybWF0dGVyc1tkZWZhdWx0Rm9ybWF0XSxcbiAgICAvLyBkZXByZWNhdGVkXG4gICAgaW5kaWNlczogZmFsc2UsXG4gICAgc2VyaWFsaXplRGF0ZTogZnVuY3Rpb24gc2VyaWFsaXplRGF0ZShkYXRlKSB7XG4gICAgICAgIHJldHVybiB0b0lTTy5jYWxsKGRhdGUpO1xuICAgIH0sXG4gICAgc2tpcE51bGxzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlXG59O1xuXG52YXIgaXNOb25OdWxsaXNoUHJpbWl0aXZlID0gZnVuY3Rpb24gaXNOb25OdWxsaXNoUHJpbWl0aXZlKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnbnVtYmVyJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnc3ltYm9sJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ2JpZ2ludCc7XG59O1xuXG52YXIgc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5KFxuICAgIG9iamVjdCxcbiAgICBwcmVmaXgsXG4gICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgc2tpcE51bGxzLFxuICAgIGVuY29kZXIsXG4gICAgZmlsdGVyLFxuICAgIHNvcnQsXG4gICAgYWxsb3dEb3RzLFxuICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgZm9ybWF0dGVyLFxuICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgY2hhcnNldFxuKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYmogPSBmaWx0ZXIocHJlZml4LCBvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBzZXJpYWxpemVEYXRlKG9iaik7XG4gICAgfSBlbHNlIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzQXJyYXkob2JqKSkge1xuICAgICAgICBvYmogPSB1dGlscy5tYXliZU1hcChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSkuam9pbignLCcpO1xuICAgIH1cblxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHN0cmljdE51bGxIYW5kbGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgIWVuY29kZVZhbHVlc09ubHkgPyBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScpIDogcHJlZml4O1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGlzTm9uTnVsbGlzaFByaW1pdGl2ZShvYmopIHx8IHV0aWxzLmlzQnVmZmVyKG9iaikpIHtcbiAgICAgICAgaWYgKGVuY29kZXIpIHtcbiAgICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGVuY29kZVZhbHVlc09ubHkgPyBwcmVmaXggOiBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIoa2V5VmFsdWUpICsgJz0nICsgZm9ybWF0dGVyKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAndmFsdWUnKSldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZm9ybWF0dGVyKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXIoU3RyaW5nKG9iaikpXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICBpZiAoaXNBcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBvYmpLZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcblxuICAgICAgICBpZiAoc2tpcE51bGxzICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlQcmVmaXggPSBpc0FycmF5KG9iailcbiAgICAgICAgICAgID8gdHlwZW9mIGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdmdW5jdGlvbicgPyBnZW5lcmF0ZUFycmF5UHJlZml4KHByZWZpeCwga2V5KSA6IHByZWZpeFxuICAgICAgICAgICAgOiBwcmVmaXggKyAoYWxsb3dEb3RzID8gJy4nICsga2V5IDogJ1snICsga2V5ICsgJ10nKTtcblxuICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAga2V5UHJlZml4LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBjaGFyc2V0XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuXG52YXIgbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMob3B0cykge1xuICAgIGlmICghb3B0cykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdHM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5jb2RlciAhPT0gbnVsbCAmJiBvcHRzLmVuY29kZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0cy5lbmNvZGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0VuY29kZXIgaGFzIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGNoYXJzZXQgPSBvcHRzLmNoYXJzZXQgfHwgZGVmYXVsdHMuY2hhcnNldDtcbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbiAgICBpZiAodHlwZW9mIG9wdHMuZm9ybWF0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIWhhcy5jYWxsKGZvcm1hdHMuZm9ybWF0dGVycywgb3B0cy5mb3JtYXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gb3B0cy5mb3JtYXQ7XG4gICAgfVxuICAgIHZhciBmb3JtYXR0ZXIgPSBmb3JtYXRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcblxuICAgIHZhciBmaWx0ZXIgPSBkZWZhdWx0cy5maWx0ZXI7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJyB8fCBpc0FycmF5KG9wdHMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRRdWVyeVByZWZpeDogdHlwZW9mIG9wdHMuYWRkUXVlcnlQcmVmaXggPT09ICdib29sZWFuJyA/IG9wdHMuYWRkUXVlcnlQcmVmaXggOiBkZWZhdWx0cy5hZGRRdWVyeVByZWZpeCxcbiAgICAgICAgYWxsb3dEb3RzOiB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRzLmFsbG93RG90cyxcbiAgICAgICAgY2hhcnNldDogY2hhcnNldCxcbiAgICAgICAgY2hhcnNldFNlbnRpbmVsOiB0eXBlb2Ygb3B0cy5jaGFyc2V0U2VudGluZWwgPT09ICdib29sZWFuJyA/IG9wdHMuY2hhcnNldFNlbnRpbmVsIDogZGVmYXVsdHMuY2hhcnNldFNlbnRpbmVsLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5kZWxpbWl0ZXIgOiBvcHRzLmRlbGltaXRlcixcbiAgICAgICAgZW5jb2RlOiB0eXBlb2Ygb3B0cy5lbmNvZGUgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlIDogZGVmYXVsdHMuZW5jb2RlLFxuICAgICAgICBlbmNvZGVyOiB0eXBlb2Ygb3B0cy5lbmNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5lbmNvZGVyIDogZGVmYXVsdHMuZW5jb2RlcixcbiAgICAgICAgZW5jb2RlVmFsdWVzT25seTogdHlwZW9mIG9wdHMuZW5jb2RlVmFsdWVzT25seSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGVWYWx1ZXNPbmx5IDogZGVmYXVsdHMuZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgICAgIGZvcm1hdHRlcjogZm9ybWF0dGVyLFxuICAgICAgICBzZXJpYWxpemVEYXRlOiB0eXBlb2Ygb3B0cy5zZXJpYWxpemVEYXRlID09PSAnZnVuY3Rpb24nID8gb3B0cy5zZXJpYWxpemVEYXRlIDogZGVmYXVsdHMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgc2tpcE51bGxzOiB0eXBlb2Ygb3B0cy5za2lwTnVsbHMgPT09ICdib29sZWFuJyA/IG9wdHMuc2tpcE51bGxzIDogZGVmYXVsdHMuc2tpcE51bGxzLFxuICAgICAgICBzb3J0OiB0eXBlb2Ygb3B0cy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0cy5zb3J0IDogbnVsbCxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nXG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgb3B0cykge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpO1xuXG4gICAgdmFyIG9iaktleXM7XG4gICAgdmFyIGZpbHRlcjtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlGb3JtYXQ7XG4gICAgaWYgKG9wdHMgJiYgb3B0cy5hcnJheUZvcm1hdCBpbiBhcnJheVByZWZpeEdlbmVyYXRvcnMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmFycmF5Rm9ybWF0O1xuICAgIH0gZWxzZSBpZiAob3B0cyAmJiAnaW5kaWNlcycgaW4gb3B0cykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gJ2luZGljZXMnO1xuICAgIH1cblxuICAgIHZhciBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlQcmVmaXhHZW5lcmF0b3JzW2FycmF5Rm9ybWF0XTtcblxuICAgIGlmICghb2JqS2V5cykge1xuICAgICAgICBvYmpLZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIG9iaktleXMuc29ydChvcHRpb25zLnNvcnQpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqS2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqS2V5c1tpXTtcblxuICAgICAgICBpZiAob3B0aW9ucy5za2lwTnVsbHMgJiYgb2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHB1c2hUb0FycmF5KGtleXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgIG9ialtrZXldLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgIG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgb3B0aW9ucy5za2lwTnVsbHMsXG4gICAgICAgICAgICBvcHRpb25zLmVuY29kZSA/IG9wdGlvbnMuZW5jb2RlciA6IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zLmZpbHRlcixcbiAgICAgICAgICAgIG9wdGlvbnMuc29ydCxcbiAgICAgICAgICAgIG9wdGlvbnMuYWxsb3dEb3RzLFxuICAgICAgICAgICAgb3B0aW9ucy5zZXJpYWxpemVEYXRlLFxuICAgICAgICAgICAgb3B0aW9ucy5mb3JtYXR0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICBvcHRpb25zLmNoYXJzZXRcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgdmFyIGpvaW5lZCA9IGtleXMuam9pbihvcHRpb25zLmRlbGltaXRlcik7XG4gICAgdmFyIHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcblxuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBpZiAob3B0aW9ucy5jaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKSwgdGhlIFwibnVtZXJpYyBlbnRpdHlcIiByZXByZXNlbnRhdGlvbiBvZiBhIGNoZWNrbWFya1xuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJ+KckycpXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JUUyJTlDJTkzJic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gam9pbmVkLmxlbmd0aCA+IDAgPyBwcmVmaXggKyBqb2luZWQgOiAnJztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbGxvd0RvdHM6IGZhbHNlLFxuICAgIGFsbG93UHJvdG90eXBlczogZmFsc2UsXG4gICAgYXJyYXlMaW1pdDogMjAsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGNvbW1hOiBmYWxzZSxcbiAgICBkZWNvZGVyOiB1dGlscy5kZWNvZGUsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZGVwdGg6IDUsXG4gICAgaWdub3JlUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGludGVycHJldE51bWVyaWNFbnRpdGllczogZmFsc2UsXG4gICAgcGFyYW1ldGVyTGltaXQ6IDEwMDAsXG4gICAgcGFyc2VBcnJheXM6IHRydWUsXG4gICAgcGxhaW5PYmplY3RzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlXG59O1xuXG52YXIgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJiMoXFxkKyk7L2csIGZ1bmN0aW9uICgkMCwgbnVtYmVyU3RyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG51bWJlclN0ciwgMTApKTtcbiAgICB9KTtcbn07XG5cbnZhciBwYXJzZUFycmF5VmFsdWUgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gICAgaWYgKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLmNvbW1hICYmIHZhbC5pbmRleE9mKCcsJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdmFsLnNwbGl0KCcsJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbn07XG5cbi8vIFRoaXMgaXMgd2hhdCBicm93c2VycyB3aWxsIHN1Ym1pdCB3aGVuIHRoZSDinJMgY2hhcmFjdGVyIG9jY3VycyBpbiBhblxuLy8gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIGJvZHkgYW5kIHRoZSBlbmNvZGluZyBvZiB0aGUgcGFnZSBjb250YWluaW5nXG4vLyB0aGUgZm9ybSBpcyBpc28tODg1OS0xLCBvciB3aGVuIHRoZSBzdWJtaXR0ZWQgZm9ybSBoYXMgYW4gYWNjZXB0LWNoYXJzZXRcbi8vIGF0dHJpYnV0ZSBvZiBpc28tODg1OS0xLiBQcmVzdW1hYmx5IGFsc28gd2l0aCBvdGhlciBjaGFyc2V0cyB0aGF0IGRvIG5vdCBjb250YWluXG4vLyB0aGUg4pyTIGNoYXJhY3Rlciwgc3VjaCBhcyB1cy1hc2NpaS5cbnZhciBpc29TZW50aW5lbCA9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpXG5cbi8vIFRoZXNlIGFyZSB0aGUgcGVyY2VudC1lbmNvZGVkIHV0Zi04IG9jdGV0cyByZXByZXNlbnRpbmcgYSBjaGVja21hcmssIGluZGljYXRpbmcgdGhhdCB0aGUgcmVxdWVzdCBhY3R1YWxseSBpcyB1dGYtOCBlbmNvZGVkLlxudmFyIGNoYXJzZXRTZW50aW5lbCA9ICd1dGY4PSVFMiU5QyU5Myc7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcblxudmFyIHBhcnNlVmFsdWVzID0gZnVuY3Rpb24gcGFyc2VRdWVyeVN0cmluZ1ZhbHVlcyhzdHIsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgdmFyIGNsZWFuU3RyID0gb3B0aW9ucy5pZ25vcmVRdWVyeVByZWZpeCA/IHN0ci5yZXBsYWNlKC9eXFw/LywgJycpIDogc3RyO1xuICAgIHZhciBsaW1pdCA9IG9wdGlvbnMucGFyYW1ldGVyTGltaXQgPT09IEluZmluaXR5ID8gdW5kZWZpbmVkIDogb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdDtcbiAgICB2YXIgcGFydHMgPSBjbGVhblN0ci5zcGxpdChvcHRpb25zLmRlbGltaXRlciwgbGltaXQpO1xuICAgIHZhciBza2lwSW5kZXggPSAtMTsgLy8gS2VlcCB0cmFjayBvZiB3aGVyZSB0aGUgdXRmOCBzZW50aW5lbCB3YXMgZm91bmRcbiAgICB2YXIgaTtcblxuICAgIHZhciBjaGFyc2V0ID0gb3B0aW9ucy5jaGFyc2V0O1xuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1tpXS5pbmRleE9mKCd1dGY4PScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSBjaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICd1dGYtOCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1tpXSA9PT0gaXNvU2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNldCA9ICdpc28tODg1OS0xJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBpID0gcGFydHMubGVuZ3RoOyAvLyBUaGUgZXNsaW50IHNldHRpbmdzIGRvIG5vdCBhbGxvdyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoaSA9PT0gc2tpcEluZGV4KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgIHZhciBicmFja2V0RXF1YWxzUG9zID0gcGFydC5pbmRleE9mKCddPScpO1xuICAgICAgICB2YXIgcG9zID0gYnJhY2tldEVxdWFsc1BvcyA9PT0gLTEgPyBwYXJ0LmluZGV4T2YoJz0nKSA6IGJyYWNrZXRFcXVhbHNQb3MgKyAxO1xuXG4gICAgICAgIHZhciBrZXksIHZhbDtcbiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyA/IG51bGwgOiAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleSA9IG9wdGlvbnMuZGVjb2RlcihwYXJ0LnNsaWNlKDAsIHBvcyksIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHZhbCA9IHV0aWxzLm1heWJlTWFwKFxuICAgICAgICAgICAgICAgIHBhcnNlQXJyYXlWYWx1ZShwYXJ0LnNsaWNlKHBvcyArIDEpLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZW5jb2RlZFZhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kZWNvZGVyKGVuY29kZWRWYWwsIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICd2YWx1ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsICYmIG9wdGlvbnMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzICYmIGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgdmFsID0gaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzKHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydC5pbmRleE9mKCdbXT0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YWwgPSBpc0FycmF5KHZhbCkgPyBbdmFsXSA6IHZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXMuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdXRpbHMuY29tYmluZShvYmpba2V5XSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBwYXJzZU9iamVjdCA9IGZ1bmN0aW9uIChjaGFpbiwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICB2YXIgbGVhZiA9IHZhbHVlc1BhcnNlZCA/IHZhbCA6IHBhcnNlQXJyYXlWYWx1ZSh2YWwsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgaSA9IGNoYWluLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBvYmo7XG4gICAgICAgIHZhciByb290ID0gY2hhaW5baV07XG5cbiAgICAgICAgaWYgKHJvb3QgPT09ICdbXScgJiYgb3B0aW9ucy5wYXJzZUFycmF5cykge1xuICAgICAgICAgICAgb2JqID0gW10uY29uY2F0KGxlYWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgICAgICAgICB2YXIgY2xlYW5Sb290ID0gcm9vdC5jaGFyQXQoMCkgPT09ICdbJyAmJiByb290LmNoYXJBdChyb290Lmxlbmd0aCAtIDEpID09PSAnXScgPyByb290LnNsaWNlKDEsIC0xKSA6IHJvb3Q7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChjbGVhblJvb3QsIDEwKTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5wYXJzZUFycmF5cyAmJiBjbGVhblJvb3QgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgb2JqID0geyAwOiBsZWFmIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICFpc05hTihpbmRleClcbiAgICAgICAgICAgICAgICAmJiByb290ICE9PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBTdHJpbmcoaW5kZXgpID09PSBjbGVhblJvb3RcbiAgICAgICAgICAgICAgICAmJiBpbmRleCA+PSAwXG4gICAgICAgICAgICAgICAgJiYgKG9wdGlvbnMucGFyc2VBcnJheXMgJiYgaW5kZXggPD0gb3B0aW9ucy5hcnJheUxpbWl0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gW107XG4gICAgICAgICAgICAgICAgb2JqW2luZGV4XSA9IGxlYWY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9ialtjbGVhblJvb3RdID0gbGVhZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxlYWYgPSBvYmo7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB9XG5cbiAgICByZXR1cm4gbGVhZjtcbn07XG5cbnZhciBwYXJzZUtleXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nS2V5cyhnaXZlbktleSwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgYnJhY2tldHMgPSAvKFxcW1teW1xcXV0qXSkvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15bXFxdXSpdKS9nO1xuXG4gICAgLy8gR2V0IHRoZSBwYXJlbnRcblxuICAgIHZhciBzZWdtZW50ID0gb3B0aW9ucy5kZXB0aCA+IDAgJiYgYnJhY2tldHMuZXhlYyhrZXkpO1xuICAgIHZhciBwYXJlbnQgPSBzZWdtZW50ID8ga2V5LnNsaWNlKDAsIHNlZ21lbnQuaW5kZXgpIDoga2V5O1xuXG4gICAgLy8gU3Rhc2ggdGhlIHBhcmVudCBpZiBpdCBleGlzdHNcblxuICAgIHZhciBrZXlzID0gW107XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5cyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuIGFwcGVuZGluZyB0byB0aGUgYXJyYXkgdW50aWwgd2UgaGl0IGRlcHRoXG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKG9wdGlvbnMuZGVwdGggPiAwICYmIChzZWdtZW50ID0gY2hpbGQuZXhlYyhrZXkpKSAhPT0gbnVsbCAmJiBpIDwgb3B0aW9ucy5kZXB0aCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc2VnbWVudFsxXS5zbGljZSgxLCAtMSkpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpO1xufTtcblxudmFyIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZWNvZGVyICE9PSBudWxsICYmIG9wdHMuZGVjb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmRlY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGVjb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHZhciBjaGFyc2V0ID0gdHlwZW9mIG9wdHMuY2hhcnNldCA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5jaGFyc2V0IDogb3B0cy5jaGFyc2V0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWxsb3dEb3RzOiB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRzLmFsbG93RG90cyxcbiAgICAgICAgYWxsb3dQcm90b3R5cGVzOiB0eXBlb2Ygb3B0cy5hbGxvd1Byb3RvdHlwZXMgPT09ICdib29sZWFuJyA/IG9wdHMuYWxsb3dQcm90b3R5cGVzIDogZGVmYXVsdHMuYWxsb3dQcm90b3R5cGVzLFxuICAgICAgICBhcnJheUxpbWl0OiB0eXBlb2Ygb3B0cy5hcnJheUxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMuYXJyYXlMaW1pdCA6IGRlZmF1bHRzLmFycmF5TGltaXQsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgY29tbWE6IHR5cGVvZiBvcHRzLmNvbW1hID09PSAnYm9vbGVhbicgPyBvcHRzLmNvbW1hIDogZGVmYXVsdHMuY29tbWEsXG4gICAgICAgIGRlY29kZXI6IHR5cGVvZiBvcHRzLmRlY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmRlY29kZXIgOiBkZWZhdWx0cy5kZWNvZGVyLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3N0cmluZycgfHwgdXRpbHMuaXNSZWdFeHAob3B0cy5kZWxpbWl0ZXIpID8gb3B0cy5kZWxpbWl0ZXIgOiBkZWZhdWx0cy5kZWxpbWl0ZXIsXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvbiwgbm8tZXh0cmEtcGFyZW5zXG4gICAgICAgIGRlcHRoOiAodHlwZW9mIG9wdHMuZGVwdGggPT09ICdudW1iZXInIHx8IG9wdHMuZGVwdGggPT09IGZhbHNlKSA/ICtvcHRzLmRlcHRoIDogZGVmYXVsdHMuZGVwdGgsXG4gICAgICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBvcHRzLmlnbm9yZVF1ZXJ5UHJlZml4ID09PSB0cnVlLFxuICAgICAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IHR5cGVvZiBvcHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgOiBkZWZhdWx0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMsXG4gICAgICAgIHBhcmFtZXRlckxpbWl0OiB0eXBlb2Ygb3B0cy5wYXJhbWV0ZXJMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLnBhcmFtZXRlckxpbWl0IDogZGVmYXVsdHMucGFyYW1ldGVyTGltaXQsXG4gICAgICAgIHBhcnNlQXJyYXlzOiBvcHRzLnBhcnNlQXJyYXlzICE9PSBmYWxzZSxcbiAgICAgICAgcGxhaW5PYmplY3RzOiB0eXBlb2Ygb3B0cy5wbGFpbk9iamVjdHMgPT09ICdib29sZWFuJyA/IG9wdHMucGxhaW5PYmplY3RzIDogZGVmYXVsdHMucGxhaW5PYmplY3RzLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyLCBvcHRzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVQYXJzZU9wdGlvbnMob3B0cyk7XG5cbiAgICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09IG51bGwgfHwgdHlwZW9mIHN0ciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIH1cblxuICAgIHZhciB0ZW1wT2JqID0gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgPyBwYXJzZVZhbHVlcyhzdHIsIG9wdGlvbnMpIDogc3RyO1xuICAgIHZhciBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUga2V5cyBhbmQgc2V0dXAgdGhlIG5ldyBvYmplY3RcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGVtcE9iaik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgbmV3T2JqID0gcGFyc2VLZXlzKGtleSwgdGVtcE9ialtrZXldLCBvcHRpb25zLCB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyk7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1lcmdlKG9iaiwgbmV3T2JqLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbHMuY29tcGFjdChvYmopO1xufTtcbiIsImV4cG9ydCB0eXBlIENvbnRlbnRUeXBlTmFtZSA9IFwic3RyaW5nXCIgfCBcInRleHRcIiB8IFwiaW50ZWdlclwiIHwgXCJtZWRpYVwiIHwgXCJjb21wb25lbnRcIiB8IFwiYm9vbGVhblwiIHwgXCJlbnVtZXJhdGlvblwiIHwgXCJsYWJlbFwiXG5cbmV4cG9ydCBlbnVtIEFUVElCVVRFX1RZUEVTIHtcbiAgU1RSSU5HID0gXCJzdHJpbmdcIixcbiAgVEVYVCA9IFwidGV4dFwiLFxuICBJTlQgPSBcImludGVnZXJcIixcbiAgTUVESUEgPSBcIm1lZGlhXCIsXG4gIENPTVBPTkVOVCA9IFwiY29tcG9uZW50XCIsXG4gIEVOVU1FUkFUSU9OID0gXCJlbnVtZXJhdGlvblwiLFxuICBMQUJFTCA9IFwibGFiZWxcIlxufVxuXG5leHBvcnQgZW51bSBXSElURUxJU1RfS0VZUyB7XG4gIENPTVBPTkVOVCA9IFwiX19jb21wb25lbnRcIixcbiAgTEFCRUwgPSBcIl9fbGFiZWxcIixcbiAgSUQgPSBcIl9faWRcIixcbiAgQ09OVEVOVCA9IFwiY29udGVudFwiXG59XG5cbmV4cG9ydCBjb25zdCBBdHRyaWJ1dGVUeXBlc1doaXRlbGlzdDogc3RyaW5nW10gPSBbXG4gIFwic3RyaW5nXCIsXG4gIFwidGV4dFwiLFxuICBcImludGVnZXJcIixcbiAgXCJtZWRpYVwiLFxuICBcImNvbXBvbmVudFwiLFxuICBcImJvb2xlYW5cIixcbiAgXCJlbnVtZXJhdGlvblwiLFxuICBcImxhYmVsXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgQXR0cmlidXRlVHlwZXNCbGFja2xpc3Q6IHN0cmluZ1tdID0gW1xuICBcImlkXCIsXG4gIFwidXNlcnNcIixcbiAgXCJjcmVhdGVkX2J5XCIsXG4gIFwiY3JlYXRlZF9hdFwiLFxuICBcInVwZGF0ZWRfYXRcIixcbiAgXCJ1cGRhdGVkX2F0XCJcbl07XG5cbmV4cG9ydCBjb25zdCBXaGl0ZWxpc3RLZXlzOiBzdHJpbmdbXSA9IFtcbiAgXCJfX2NvbXBvbmVudFwiLFxuICBcIl9fbGFiZWxcIixcbiAgXCJfX2lkXCIsXG4gIFwiY29udGVudFwiXG5dOyIsImltcG9ydCB7IEFUVElCVVRFX1RZUEVTLCBBdHRyaWJ1dGVUeXBlc0JsYWNrbGlzdCB9IGZyb20gXCIuL3R5cGVzL2NvbnRlbnQtYXR0cmlidXRlLXR5cGVzXCI7XG5cbmltcG9ydCB7XG4gIENvbnRlbnRUeXBlUmVzcG9uc2UsXG4gIEF0dHJpYnV0ZSxcbiAgRmllbGRzLFxuICBDb250ZW50VHlwZSxcbiAgRm9ybUJ1aWxkZXJPdXRwdXQsXG4gIENvbXBvbmVudExpc3QsXG4gIE1ldGFkYXRhTGlzdFxufSBmcm9tIFwiLi9pbnRlcmZhY2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmFwaUZvcm0ge1xuICBwcml2YXRlIHVybDogc3RyaW5nO1xuICBwcml2YXRlIGJsYWNrbGlzdGVkUHJvcHMgPSBBdHRyaWJ1dGVUeXBlc0JsYWNrbGlzdDtcbiAgcHJpdmF0ZSBjb250ZW50VHlwZTogQ29udGVudFR5cGU7XG4gIHByaXZhdGUgbWV0YWRhdGFzOiBNZXRhZGF0YUxpc3RcbiAgcHJpdmF0ZSBjb250ZW50VHlwZVVJRDogc3RyaW5nO1xuICBwcml2YXRlIGNvbXBvbmVudHM6IENvbXBvbmVudExpc3Q7XG4gIHB1YmxpYyBmaWVsZHM6IEZpZWxkcztcbiAgcHVibGljIGZvcm1TdGF0ZTogRmllbGRzO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGJhc2VVUkw6IHN0cmluZyxcbiAgICBjb250ZW50VHlwZVVJRDogc3RyaW5nXG4gICkge1xuICAgIHRoaXMuY29udGVudFR5cGVVSUQgPSBjb250ZW50VHlwZVVJRDtcbiAgICB0aGlzLnVybCA9IGAke2Jhc2VVUkx9L2NvbnRlbnQtbWFuYWdlci9jb250ZW50LXR5cGVzYDtcbiAgfVxuXG4gIGFzeW5jIGdldENvbnRlbnRUeXBlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3RoaXMudXJsfS8ke3RoaXMuY29udGVudFR5cGVVSUR9YCk7XG4gICAgY29uc3QganNvbjogQ29udGVudFR5cGVSZXNwb25zZSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgaWYgKGpzb24gJiYganNvbi5zdGF0dXNDb2RlKSB0aHJvdyBuZXcgRXJyb3IoanNvbi5tZXNzYWdlKTtcbiAgICB0aGlzLmNvbnRlbnRUeXBlID0ganNvbi5kYXRhLmNvbnRlbnRUeXBlO1xuICAgIHRoaXMubWV0YWRhdGFzID0ganNvbi5kYXRhLmNvbnRlbnRUeXBlLm1ldGFkYXRhcztcbiAgICB0aGlzLmNvbXBvbmVudHMgPSBqc29uLmRhdGEgJiYganNvbi5kYXRhLmNvbXBvbmVudHM7XG4gIH1cblxuICBzZXRSZXF1ZXN0U3RhdGUoa2V5OiBzdHJpbmcsIGNvbXBvbmVudElkOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBGaWVsZHMgfCB7fSB7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgdGhpcy5mb3JtU3RhdGUuY29udGVudCkge1xuICAgICAgICBpZiAoY29tcG9uZW50Ll9fY29tcG9uZW50ID09PSBjb21wb25lbnRJZCkge1xuICAgICAgICAgIGNvbXBvbmVudFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmZvcm1TdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXMuZmllbGRzO1xuICB9XG5cbiAgdXBkYXRlRm9ybVN0YXRlKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBwYXJlbnQ6IHN0cmluZyk6IEZpZWxkcyB7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5mb3JtU3RhdGVbcGFyZW50XVtrZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9ybVN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtU3RhdGU7XG4gIH1cblxuICBpc0NvbXBvbmVudChhdHRyaWJ1dGU6IEF0dHJpYnV0ZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhdHRyaWJ1dGUgJiYgYXR0cmlidXRlLnR5cGUgPT09IEFUVElCVVRFX1RZUEVTLkNPTVBPTkVOVDtcbiAgfVxuXG4gIGlzU2ltcGxlVHlwZShrZXk6IHN0cmluZywgYXR0cmlidXRlOiBBdHRyaWJ1dGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYXR0cmlidXRlICYmIHRoaXMuaXNDb21wb25lbnQoYXR0cmlidXRlKSAmJiB0aGlzLmNhbkVkaXQoa2V5KTtcbiAgfVxuXG4gIGNhbkVkaXQoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuYmxhY2tsaXN0ZWRQcm9wcy5pbmNsdWRlcyhrZXkpO1xuICB9XG5cbiAgYnVpbGRDb21wb25lbnQoY29tcG9uZW50S2V5OiBzdHJpbmcsIGF0dHJpYnV0ZTogQXR0cmlidXRlKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbXBvbmVudHNbYXR0cmlidXRlLmNvbXBvbmVudF0uc2NoZW1hLmF0dHJpYnV0ZXMpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbXBvbmVudEF0dHJzID0gdGhpcy5jb21wb25lbnRzW2F0dHJpYnV0ZS5jb21wb25lbnRdLnNjaGVtYS5hdHRyaWJ1dGVzO1xuICAgIGNvbXBvbmVudEF0dHJzLmlkID0gdGhpcy5mb3JtU3RhdGVbY29tcG9uZW50S2V5XSAmJiB0aGlzLmZvcm1TdGF0ZVtjb21wb25lbnRLZXldLmlkIHx8IG51bGw7XG5cbiAgICBmb3IgKGNvbnN0IGNoaWxkS2V5IGluIGNvbXBvbmVudEF0dHJzKSB7XG4gICAgICBpZiAodGhpcy5jYW5FZGl0KGNoaWxkS2V5KSkge1xuICAgICAgICB0aGlzLnNldEZpZWxkKGNoaWxkS2V5LCBjb21wb25lbnRBdHRyc1tjaGlsZEtleV0sIGNvbXBvbmVudEtleSk7XG4gICAgICAgIHRoaXMuc2V0Rm9ybVN0YXRlKGNoaWxkS2V5LCBjb21wb25lbnRLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEZvcm1TdGF0ZShrZXk6IHN0cmluZywgY29tcG9uZW50S2V5Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNhbkVkaXQoa2V5KSkgcmV0dXJuO1xuICAgIGlmIChjb21wb25lbnRLZXkpIHtcbiAgICAgIHRoaXMuZm9ybVN0YXRlW2NvbXBvbmVudEtleV0gPSB0aGlzLmZvcm1TdGF0ZVtjb21wb25lbnRLZXldIHx8IHt9O1xuICAgICAgdGhpcy5mb3JtU3RhdGVbY29tcG9uZW50S2V5XVtrZXldID0gdGhpcy5mb3JtU3RhdGVbY29tcG9uZW50S2V5XVtrZXldIHx8IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9ybVN0YXRlW2tleV0gPSB0aGlzLmZvcm1TdGF0ZVtrZXldIHx8IG51bGw7XG4gICAgfVxuICB9XG5cbiAgc2V0RmllbGQoa2V5OiBzdHJpbmcsIGF0dHJpYnV0ZTogQXR0cmlidXRlLCBjb21wb25lbnRLZXk/OiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuY2FuRWRpdChrZXkpKSByZXR1cm47XG4gICAgaWYgKGNvbXBvbmVudEtleSkge1xuICAgICAgdGhpcy5maWVsZHNbY29tcG9uZW50S2V5XSA9IHRoaXMuZmllbGRzW2NvbXBvbmVudEtleV0gfHwge1xuICAgICAgICB0eXBlOiBBVFRJQlVURV9UWVBFUy5DT01QT05FTlQsXG4gICAgICAgIHJlcGVhdGFibGU6IHRoaXMuY29udGVudFR5cGUuc2NoZW1hLmF0dHJpYnV0ZXNbY29tcG9uZW50S2V5XS5yZXBlYXRhYmxlXG4gICAgICB9O1xuICAgICAgdGhpcy5maWVsZHNbY29tcG9uZW50S2V5XVtrZXldID0ge1xuICAgICAgICAuLi5hdHRyaWJ1dGUsXG4gICAgICAgIF9fbGFiZWw6IHRoaXMuYnVpbGRMYWJlbChrZXkpLFxuICAgICAgICBfX3BhcmVudDogY29tcG9uZW50S2V5LFxuICAgICAgICB2YWx1ZTogdGhpcy5mb3JtU3RhdGVbY29tcG9uZW50S2V5XSAmJiB0aGlzLmZvcm1TdGF0ZVtjb21wb25lbnRLZXldW2tleV0gfHwgbnVsbFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maWVsZHNba2V5XSA9IHtcbiAgICAgICAgLi4uYXR0cmlidXRlLFxuICAgICAgICBfX2xhYmVsOiB0aGlzLmJ1aWxkTGFiZWwoa2V5KSxcbiAgICAgICAgdmFsdWU6IHRoaXMuZm9ybVN0YXRlW2tleV0gfHwgbnVsbFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBidWlsZExhYmVsKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKCFrZXkpIHJldHVybiBrZXk7XG4gICAgY29uc3QgY2FwaXRhbGl6ZWQgPSBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7XG4gICAgY29uc3QgbGFiZWwgPSBjYXBpdGFsaXplZC5tYXRjaCgvW0EtWl1bYS16XSsvZyk7XG4gICAgcmV0dXJuIGxhYmVsLmpvaW4oXCIgXCIpO1xuICB9XG5cbiAgZ2F0aGVyU2NoZW1hKCk6IHZvaWQge1xuICAgIHRoaXMuZmllbGRzID0ge307XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMuY29udGVudFR5cGUuc2NoZW1hLmF0dHJpYnV0ZXM7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAodGhpcy5pc0NvbXBvbmVudChhdHRyaWJ1dGVzW2tleV0pKSB7XG4gICAgICAgIHRoaXMuYnVpbGRDb21wb25lbnQoa2V5LCBhdHRyaWJ1dGVzW2tleV0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEZpZWxkKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgdGhpcy5zZXRGb3JtU3RhdGUoa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRTY2hlbWEoZXhpc3RpbmdFbnRyeT86IEZpZWxkcyk6IFByb21pc2U8Rm9ybUJ1aWxkZXJPdXRwdXQ+IHtcbiAgICB0aGlzLmZvcm1TdGF0ZSA9IGV4aXN0aW5nRW50cnkgfHwge307XG4gICAgYXdhaXQgdGhpcy5nZXRDb250ZW50VHlwZSgpO1xuICAgIHRoaXMuZ2F0aGVyU2NoZW1hKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpZWxkczogdGhpcy5maWVsZHMsXG4gICAgICBmb3JtU3RhdGU6IHRoaXMuZm9ybVN0YXRlXG4gICAgfTtcbiAgfVxufSIsImltcG9ydCB7IEVudHJ5LCBGaWVsZHMsIEZvcm1BY3Rpb25hYmxlLCBBdXRoZW50aWNhdGVkVXNlciB9IGZyb20gXCIuL2ludGVyZmFjZXNcIjtcblxuXG5leHBvcnQgY2xhc3MgU3RyYXBpRm9ybU1ldGhvZHNEZWNvcmF0b3Ige1xuICBwcml2YXRlIGFwaUlEOiBzdHJpbmc7XG4gIHByaXZhdGUgc3RyYXBpU0RLOiBGb3JtQWN0aW9uYWJsZTtcblxuICBjb25zdHJ1Y3Rvcihjb250ZW50VHlwZVVJRDogc3RyaW5nLCBzdHJhcGlTREs6IEZvcm1BY3Rpb25hYmxlKSB7XG4gICAgdGhpcy5zdHJhcGlTREsgPSBzdHJhcGlTREs7XG4gICAgdGhpcy5hcGlJRCA9IHRoaXMuZ2V0QXBpSUQoY29udGVudFR5cGVVSUQpO1xuICB9XG5cbiAgZ2V0QXBpSUQoY29udGVudFR5cGVVSUQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKGNvbnRlbnRUeXBlVUlELmluZGV4T2YoXCI6OlwiKSA9PT0gMCB8fCBjb250ZW50VHlwZVVJRC5pbmRleE9mKFwiLlwiKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBcbiAgICAgICAgU3RyYXBpIEZvcm0gQnVpbGRlciByZXF1aXJlcyBhIGdsb2JhbFxuICAgICAgICBjb250ZW50IHR5cGUgaWQgaS5lLiBhcHBsaWNhdGlvbjo6Y29udGVudFR5cGVVSUQuY29udGVudFR5cGVVSURcbiAgICAgIGApO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZW50VHlwZVVJRC5zbGljZShcbiAgICAgIGNvbnRlbnRUeXBlVUlELmluZGV4T2YoXCI6OlwiKSArIDIsXG4gICAgICBjb250ZW50VHlwZVVJRC5pbmRleE9mKFwiLlwiKVxuICAgICk7XG4gIH1cblxuICBnZXQgc3RyYXBpKCk6IEZvcm1BY3Rpb25hYmxlIHtcbiAgICByZXR1cm4gdGhpcy5zdHJhcGlTREs7XG4gIH1cblxuICBhc3luYyBjcmVhdGUoZGF0YTogRmllbGRzKTogUHJvbWlzZTxFbnRyeT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmFwaVNESy5jcmVhdGVFbnRyeSh0aGlzLmFwaUlELCBkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZShkYXRhOiBGaWVsZHMsIGlkID86IHN0cmluZyB8IG51bWJlcik6IFByb21pc2U8RW50cnk+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJhcGlTREsudXBkYXRlRW50cnkodGhpcy5hcGlJRCwgaWQsIGRhdGEpO1xuICB9XG5cbiAgYXN5bmMgc2VhcmNoKHBhcmFtczogb2JqZWN0KTogUHJvbWlzZTxFbnRyeVtdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyYXBpU0RLLmdldEVudHJpZXModGhpcy5hcGlJRCwgcGFyYW1zKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZShpZDogc3RyaW5nfG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RyYXBpU0RLLmRlbGV0ZUVudHJ5KHRoaXMuYXBpSUQsIGlkKTtcbiAgfVxufSIsImltcG9ydCBTdHJhcGlTREtQcm92aWRlciBmcm9tIFwiQHRoZXRhcHJvb20vc3RyYXBpLXNkay1qYXZhc2NyaXB0XCI7XG5pbXBvcnQgU3RyYXBpRm9ybUJ1aWxkZXIgZnJvbSBcIi4vZm9ybS5idWlsZGVyXCI7XG5pbXBvcnQgeyBTdHJhcGlGb3JtTWV0aG9kc0RlY29yYXRvciB9IGZyb20gXCIuL2Zvcm0uYWN0aW9uc1wiO1xuaW1wb3J0IHsgRm9ybUFjdGlvbmFibGUsIEF1dGhlbnRpY2F0ZWRVc2VyIH0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiO1xuXG5pbnRlcmZhY2UgQXV0aGVudGljYXRpb24ge1xuICBpZGVudGlmaWVyOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG59XG5cbmV4cG9ydCBjbGFzcyBGYWN0b3J5IHtcbiAgcHVibGljIHNkazogRm9ybUFjdGlvbmFibGU7XG4gIHByaXZhdGUgYmFzZVVSTDogc3RyaW5nO1xuICBwcml2YXRlIGF1dGg6IEF1dGhlbnRpY2F0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKGJhc2VVUkw6IHN0cmluZywgYXV0aDogQXV0aGVudGljYXRpb24pIHtcbiAgICBpZiAoIWF1dGgpIHRocm93IG5ldyBFcnJvcihcIlN0cmFwaSBGb3JtIEJ1aWxkZXIgbmVlZHMgYXV0aCB0byBhdHRhY2ggcmVzb3VyY2VzIGFuZCByZWxhdGlvbnNoaXBzLlwiKTtcbiAgICB0aGlzLmF1dGggPSBhdXRoO1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgdGhpcy5zZGsgPSBTdHJhcGlTREtQcm92aWRlcihiYXNlVVJMKTtcbiAgfVxuXG4gIGFzeW5jIGdldEZvcm0oY29udGVudFR5cGVVSUQ6IHN0cmluZywgZXhpc3RpbmdFbnRyeTogYW55KSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuc2RrLmxvZ2luKFxuICAgICAgdGhpcy5hdXRoLmlkZW50aWZpZXIsXG4gICAgICB0aGlzLmF1dGgucGFzc3dvcmRcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm06IGF3YWl0IG5ldyBTdHJhcGlGb3JtQnVpbGRlcih0aGlzLmJhc2VVUkwsIGNvbnRlbnRUeXBlVUlEKS5nZXRTY2hlbWEoXG4gICAgICAgIGV4aXN0aW5nRW50cnlcbiAgICAgICksXG4gICAgICBhY3Rpb25zOiBuZXcgU3RyYXBpRm9ybU1ldGhvZHNEZWNvcmF0b3IoY29udGVudFR5cGVVSUQsIHRoaXMuc2RrKSxcbiAgICAgIHVzZXIsXG4gICAgfTtcbiAgfVxuXG4gIGdldEZvcm1CdWlsZGVyKGNvbnRlbnRUeXBlVUlEOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFN0cmFwaUZvcm1CdWlsZGVyKHRoaXMuYmFzZVVSTCwgY29udGVudFR5cGVVSUQpXG4gIH1cblxuICBnZXRBY3Rpb25zKGNvbnRlbnRUeXBlVUlEOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFN0cmFwaUZvcm1NZXRob2RzRGVjb3JhdG9yKGNvbnRlbnRUeXBlVUlELCB0aGlzLnNkaylcbiAgfVxuXG4gIGdldFN0cmFwaUFQSSgpIHtcbiAgICByZXR1cm4gdGhpcy5zZGs7XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9