!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("StrapiFormBuilder",[],t):"object"==typeof exports?exports.StrapiFormBuilder=t():e.StrapiFormBuilder=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=35)}([function(e,t,r){"use strict";var n=r(3),o=r(14),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(0),o=r(17),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(a=r(4)),a),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u}).call(this,r(16))},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],a=Object.keys(s),u=0;u<a.length;++u){var c=a[u],f=s[c];"object"==typeof f&&null!==f&&-1===r.indexOf(f)&&(t.push({obj:s,prop:c}),r.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",s=0;s<n.length;++s){var a=n.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?o+=n.charAt(s):a<128?o+=i[a]:a<2048?o+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?o+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(s)),o+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return o(t)&&!o(r)&&(a=s(t,i)),o(t)&&o(r)?(r.forEach((function(r,o){if(n.call(t,o)){var s=t[o];s&&"object"==typeof s&&r&&"object"==typeof r?t[o]=e(s,r,i):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var s=r[o];return n.call(t,o)?t[o]=e(t[o],s,i):t[o]=s,t}),a)}}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0),o=r(18),i=r(20),s=r(21),a=r(22),u=r(5);e.exports=function(e){return new Promise((function(t,c){var f=e.data,l=e.headers;n.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+btoa(d+":"+h)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,c,n),p=null}},p.onerror=function(){c(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var m=r(23),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;y&&(l[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&n.forEach(l,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete l[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),c(e),p=null)})),void 0===f&&(f=null),p.send(f)}))}},function(e,t,r){"use strict";var n=r(19);e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g,i=r(2),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:s.RFC3986,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}}},s)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(10));t.default=o.default},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(11));t.default=function(e,t){return new o.default(e,t)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(r(12)),u=i(r(31)),c=i(r(32));t.default=class{constructor(e,t,r){if(this.axios=a.default.create(Object.assign({baseURL:e,paramsSerializer:c.stringify},r)),this.storeConfig=Object.assign({cookie:{key:"jwt",options:{path:"/"}},localStorage:{key:"jwt"}},t),this.isBrowser()){let e;this.storeConfig.cookie?e=u.get(this.storeConfig.cookie.key):this.storeConfig.localStorage&&(e=JSON.parse(window.localStorage.getItem(this.storeConfig.localStorage.key))),e&&this.setToken(e,!0)}}async request(e,t,r){try{return(await this.axios.request(Object.assign({method:e,url:t},r))).data}catch(e){throw e.response?new Error(e.response.data.message):e}}async register(e,t,r){this.clearToken();const n=await this.request("post","/auth/local/register",{data:{email:t,password:r,username:e}});return this.setToken(n.jwt),n}async login(e,t){if(this.clearToken(),!t)throw new Error("Could not log back in. password/token not set.");const r=await this.request("post","/auth/local",{data:{identifier:e,password:t}});return this.setToken(r.jwt),r}async forgotPassword(e,t){this.clearToken(),await this.request("post","/auth/forgot-password",{data:{email:e,url:t}})}async resetPassword(e,t,r){this.clearToken(),await this.request("post","/auth/reset-password",{data:{code:e,password:t,passwordConfirmation:r}})}getProviderAuthenticationUrl(e){return`${this.axios.defaults.baseURL}/connect/${e}`}async authenticateProvider(e,t){this.clearToken(),this.isBrowser()&&(t=c.parse(window.location.search,{ignoreQueryPrefix:!0}));const r=await this.request("get",`/auth/${e}/callback`,{params:t});return this.setToken(r.jwt),r}getEntries(e,t){return this.request("get","/"+e,{params:t})}getEntryCount(e,t){return this.request("get",`/${e}/count`,{params:t})}getEntry(e,t){return this.request("get",`/${e}/${t}`)}createEntry(e,t){return this.request("post","/"+e,{data:t})}updateEntry(e,t,r){return this.request("put",`/${e}/${t}`,{data:r})}deleteEntry(e,t){return this.request("delete",`/${e}/${t}`)}searchFiles(e){return this.request("get","/upload/search/"+decodeURIComponent(e))}getFiles(e){return this.request("get","/upload/files",{params:e})}getFile(e){return this.request("get","/upload/files/"+e)}upload(e,t){return this.request("post","/upload",Object.assign({data:e},t))}setToken(e,t){this.axios.defaults.headers.common.Authorization="Bearer "+e,this.isBrowser()&&!t&&(this.storeConfig.localStorage&&window.localStorage.setItem(this.storeConfig.localStorage.key,JSON.stringify(e)),this.storeConfig.cookie&&u.set(this.storeConfig.cookie.key,e,this.storeConfig.cookie.options))}getToken(){if(this.isBrowser()){if(this.storeConfig.localStorage)return window.localStorage.getItem(this.storeConfig.localStorage.key);if(this.storeConfig.cookie)return u.get(this.storeConfig.cookie.key)}}clearToken(){delete this.axios.defaults.headers.common.Authorization,this.isBrowser()&&(this.storeConfig.localStorage&&window.localStorage.removeItem(this.storeConfig.localStorage.key),this.storeConfig.cookie&&u.remove(this.storeConfig.cookie.key,this.storeConfig.cookie.options))}isBrowser(){return"undefined"!=typeof window}}},function(e,t,r){e.exports=r(13)},function(e,t,r){"use strict";var n=r(0),o=r(3),i=r(15),s=r(1);function a(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=a(s);u.Axios=i,u.create=function(e){return a(n.merge(s,e))},u.Cancel=r(7),u.CancelToken=r(29),u.isCancel=r(6),u.all=function(e){return Promise.all(e)},u.spread=r(30),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,r){"use strict";var n=r(1),o=r(0),i=r(24),s=r(25);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}})),e.exports=a},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=a(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||f||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(26),i=r(6),s=r(1),a=r(27),u=r(28);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in i)i[u]&&(a+="; "+u,!0!==i[u]&&(a+="="+i[u].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),u=a.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},function(e,t,r){"use strict";var n=r(33),o=r(34),i=r(8);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(2),o=r(8),i=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,a(t)?t:[t])},f=Date.prototype.toISOString,l=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:l,formatter:o.formatters[l],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,o,i,s,u,f,l,d,h,m,y,g){var v,b=t;if("function"==typeof f?b=f(r,b):b instanceof Date?b=h(b):"comma"===o&&a(b)&&(b=n.maybeMap(b,(function(e){return e instanceof Date?h(e):e})).join(",")),null===b){if(i)return u&&!y?u(r,p.encoder,g,"key"):r;b=""}if("string"==typeof(v=b)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||n.isBuffer(b))return u?[m(y?r:u(r,p.encoder,g,"key"))+"="+m(u(b,p.encoder,g,"value"))]:[m(r)+"="+m(String(b))];var w,S=[];if(void 0===b)return S;if(a(f))w=f;else{var x=Object.keys(b);w=l?x.sort(l):x}for(var O=0;O<w.length;++O){var j=w[O],C=b[j];if(!s||null!==C){var E=a(b)?"function"==typeof o?o(r,j):r:r+(d?"."+j:"["+j+"]");c(S,e(C,E,o,i,s,u,f,l,d,h,m,y,g))}}return S};e.exports=function(e,t){var r,n=e,u=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],s=p.filter;return("function"==typeof e.filter||a(e.filter))&&(s=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:s,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof u.filter?n=(0,u.filter)("",n):a(u.filter)&&(r=u.filter);var f,l=[];if("object"!=typeof n||null===n)return"";f=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[f];r||(r=Object.keys(n)),u.sort&&r.sort(u.sort);for(var m=0;m<r.length;++m){var y=r[m];u.skipNulls&&null===n[y]||c(l,d(n[y],y,h,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var g=l.join(u.delimiter),v=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},function(e,t,r){"use strict";var n=r(2),o=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=a?i.slice(0,a.index):i,f=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;f.push(c)}for(var l=0;r.depth>0&&null!==(a=s.exec(i))&&l<r.depth;){if(l+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(a[1])}return a&&f.push("["+i.slice(a.index)+"]"),function(e,t,r,n){for(var o=n?t:u(t,r),i=e.length-1;i>=0;--i){var s,a=e[i];if("[]"===a&&r.parseArrays)s=[].concat(o);else{s=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,f=parseInt(c,10);r.parseArrays||""!==c?!isNaN(f)&&a!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(s=[])[f]=o:s[c]=o:s={0:o}}o=s}return o}(f,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var f="string"==typeof e?function(e,t){var r,c={},f=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,p=f.split(t.delimiter,l),d=-1,h=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?h="utf-8":"utf8=%26%2310003%3B"===p[r]&&(h="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var m,y,g=p[r],v=g.indexOf("]="),b=-1===v?g.indexOf("="):v+1;-1===b?(m=t.decoder(g,s.decoder,h,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,b),s.decoder,h,"key"),y=n.maybeMap(u(g.slice(b+1),t),(function(e){return t.decoder(e,s.decoder,h,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===h&&(y=a(y)),g.indexOf("[]=")>-1&&(y=i(y)?[y]:y),o.call(c,m)?c[m]=n.combine(c[m],y):c[m]=y}return c}(e,r):e,l=r.plainObjects?Object.create(null):{},p=Object.keys(f),d=0;d<p.length;++d){var h=p[d],m=c(h,f[h],r,"string"==typeof e);l=n.merge(l,m,r)}return n.compact(l)}},function(e,t,r){"use strict";r.r(t),r.d(t,"Factory",(function(){return d}));var n,o,i=r(9),s=r.n(i);!function(e){e.STRING="string",e.TEXT="text",e.INT="integer",e.MEDIA="media",e.COMPONENT="component",e.ENUMERATION="enumeration",e.LABEL="label"}(n||(n={})),function(e){e.COMPONENT="__component",e.LABEL="__label",e.ID="__id",e.CONTENT="content"}(o||(o={}));const a=["id","users","created_by","created_at","updated_at","updated_at"];var u=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class c{constructor(e,t){this.blacklistedProps=a,this.contentTypeUID=t,this.url=e+"/content-manager/content-types"}getContentType(){return u(this,void 0,void 0,(function*(){const e=yield fetch(`${this.url}/${this.contentTypeUID}`),t=yield e.json();if(t&&t.statusCode)throw new Error(t.message);this.contentType=t.data.contentType,this.metadatas=t.data.contentType.metadatas,this.components=t.data&&t.data.components}))}setRequestState(e,t,r){if(parent)for(const n of this.formState.content)n.__component===t&&(n[e]=r);return this.formState[e]=r,this.fields}updateFormState(e,t,r){return r?this.formState[r][e]=t:this.formState[e]=t,this.formState}isComponent(e){return e&&e.type===n.COMPONENT}isSimpleType(e,t){return t&&this.isComponent(t)&&this.canEdit(e)}canEdit(e){return!this.blacklistedProps.includes(e)}buildComponent(e,t){if(!this.components[t.component].schema.attributes)return;const r=this.components[t.component].schema.attributes;r.id=this.formState[e]&&this.formState[e].id||null;for(const t in r)this.canEdit(t)&&(this.setField(t,r[t],e),this.setFormState(t,e))}setFormState(e,t){this.canEdit(e)&&(t?(this.formState[t]=this.formState[t]||{},this.formState[t][e]=this.formState[t][e]||null):this.formState[e]=this.formState[e]||null)}setField(e,t,r){this.canEdit(e)&&(r?(this.fields[r]=this.fields[r]||{type:n.COMPONENT},this.fields[r][e]=Object.assign(Object.assign({},t),{__label:this.buildLabel(e),__parent:r,value:this.formState[r]&&this.formState[r][e]||null})):this.fields[e]=Object.assign(Object.assign({},t),{__label:this.buildLabel(e),value:this.formState[e]||null}))}buildLabel(e){if(!e)return e;return(e.charAt(0).toUpperCase()+e.slice(1)).match(/[A-Z][a-z]+/g).join(" ")}gatherSchema(){this.fields={};const e=this.contentType.schema.attributes;for(const t in e)this.isComponent(e[t])?this.buildComponent(t,e[t]):(this.setField(t,e[t]),this.setFormState(t))}getSchema(e){return u(this,void 0,void 0,(function*(){return this.formState=e||{},yield this.getContentType(),this.gatherSchema(),{fields:this.fields,formState:this.formState}}))}}var f=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class l{constructor(e,t){this.strapiSDK=t,this.apiID=this.getApiID(e)}getApiID(e){if(0===e.indexOf("::")||0===e.indexOf("."))throw new Error("\n        Strapi Form Builder requires a global\n        content type id i.e. application::contentTypeUID.contentTypeUID\n      ");return e.slice(e.indexOf("::")+2,e.indexOf("."))}get strapi(){return this.strapiSDK}create(e){return f(this,void 0,void 0,(function*(){return yield this.strapiSDK.createEntry(this.apiID,e)}))}update(e,t){return f(this,void 0,void 0,(function*(){return yield this.strapiSDK.updateEntry(this.apiID,t,e)}))}search(e){return f(this,void 0,void 0,(function*(){return yield this.strapiSDK.getEntries(this.apiID,e)}))}delete(e){return f(this,void 0,void 0,(function*(){this.strapiSDK.deleteEntry(this.apiID,e)}))}}var p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class d{constructor(e,t){if(!t)throw new Error("Strapi Form Builder needs auth to attach resources and relationships.");this.auth=t,this.baseURL=e,this.sdk=s()(e)}getForm(e,t){return p(this,void 0,void 0,(function*(){let r;return this.sdk.getToken()||(r=yield this.sdk.login(this.auth.identifier,this.auth.password)),{form:yield new c(this.baseURL,e).getSchema(t),actions:new l(e,this.sdk),user:r}}))}getFormBuilder(e){return new c(this.baseURL,e)}getActions(e){return new l(e,this.sdk)}getStrapiAPI(){return this.sdk}}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9xcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWwuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHRoZXRhcHJvb20vc3RyYXBpLXNkay1qYXZhc2NyaXB0L2J1aWxkL21haW4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvQHRoZXRhcHJvb20vc3RyYXBpLXNkay1qYXZhc2NyaXB0L2J1aWxkL21haW4vbGliL3Byb3ZpZGVyLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL0B0aGV0YXByb29tL3N0cmFwaS1zZGstamF2YXNjcmlwdC9idWlsZC9tYWluL2xpYi9zZGsuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2lzLWJ1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZS5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9qcy1jb29raWUvc3JjL2pzLmNvb2tpZS5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9xcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9zcmMvdHlwZXMvY29udGVudC1hdHRyaWJ1dGUtdHlwZXMudHMiLCJ3ZWJwYWNrOi8vU3RyYXBpRm9ybUJ1aWxkZXIvLi9zcmMvZm9ybS5idWlsZGVyLnRzIiwid2VicGFjazovL1N0cmFwaUZvcm1CdWlsZGVyLy4vc3JjL2Zvcm0uYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9TdHJhcGlGb3JtQnVpbGRlci8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJpc0J1ZmZlciIsInRvU3RyaW5nIiwiaXNBcnJheSIsInZhbCIsImlzT2JqZWN0IiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0Zvcm1EYXRhIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiYnVmZmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNTdHJlYW0iLCJwaXBlIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm1lcmdlIiwicmVzdWx0IiwiYXNzaWduVmFsdWUiLCJhcmd1bWVudHMiLCJleHRlbmQiLCJhIiwiYiIsInRoaXNBcmciLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsInV0aWxzIiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiaGVhZGVycyIsImFkYXB0ZXIiLCJkZWZhdWx0cyIsIlhNTEh0dHBSZXF1ZXN0IiwicHJvY2VzcyIsInRyYW5zZm9ybVJlcXVlc3QiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInRyYW5zZm9ybVJlc3BvbnNlIiwicGFyc2UiLCJlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjb21tb24iLCJtZXRob2QiLCJoYXMiLCJBcnJheSIsImhleFRhYmxlIiwiYXJyYXkiLCJwdXNoIiwidG9VcHBlckNhc2UiLCJhcnJheVRvT2JqZWN0Iiwic291cmNlIiwib3B0aW9ucyIsInBsYWluT2JqZWN0cyIsImFzc2lnbiIsInRhcmdldCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJjb21iaW5lIiwiY29uY2F0IiwiY29tcGFjdCIsInF1ZXVlIiwicHJvcCIsInJlZnMiLCJpdGVtIiwiaiIsImluZGV4T2YiLCJwb3AiLCJjb21wYWN0ZWQiLCJjb21wYWN0UXVldWUiLCJkZWNvZGUiLCJkZWNvZGVyIiwiY2hhcnNldCIsInN0cldpdGhvdXRQbHVzIiwidW5lc2NhcGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGUiLCJkZWZhdWx0RW5jb2RlciIsInN0cmluZyIsIlN0cmluZyIsImVzY2FwZSIsIiQwIiwicGFyc2VJbnQiLCJzbGljZSIsIm91dCIsImNoYXJDb2RlQXQiLCJjaGFyQXQiLCJjb25zdHJ1Y3RvciIsImlzUmVnRXhwIiwibWF5YmVNYXAiLCJtYXBwZWQiLCJhbGxvd1Byb3RvdHlwZXMiLCJtZXJnZVRhcmdldCIsInRhcmdldEl0ZW0iLCJhcmdzIiwiYXBwbHkiLCJzZXR0bGUiLCJidWlsZFVSTCIsInBhcnNlSGVhZGVycyIsImlzVVJMU2FtZU9yaWdpbiIsImNyZWF0ZUVycm9yIiwiY29uZmlnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwicmVxdWVzdCIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiQXV0aG9yaXphdGlvbiIsImJ0b2EiLCJvcGVuIiwidXJsIiwicGFyYW1zIiwicGFyYW1zU2VyaWFsaXplciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJjb29raWVzIiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwicmVhZCIsInVuZGVmaW5lZCIsInRvTG93ZXJDYXNlIiwic2V0UmVxdWVzdEhlYWRlciIsIm9uRG93bmxvYWRQcm9ncmVzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiY2FuY2VsVG9rZW4iLCJwcm9taXNlIiwidGhlbiIsImNhbmNlbCIsImFib3J0Iiwic2VuZCIsImVuaGFuY2VFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiZXJyb3IiLCJFcnJvciIsIl9fQ0FOQ0VMX18iLCJDYW5jZWwiLCJwZXJjZW50VHdlbnRpZXMiLCJ1dGlsIiwiRm9ybWF0IiwiUkZDMTczOCIsIlJGQzM5ODYiLCJmb3JtYXR0ZXJzIiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwicHJvdmlkZXJfMSIsImRlZmF1bHQiLCJzZGtfMSIsImJhc2VVUkwiLCJzdG9yZUNvbmZpZyIsIl9fY3JlYXRlQmluZGluZyIsImsiLCJrMiIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsInYiLCJfX2ltcG9ydFN0YXIiLCJheGlvc18xIiwiQ29va2llcyIsInFzIiwicmVxdWVzdENvbmZpZyIsImF4aW9zIiwiY29va2llIiwicGF0aCIsImxvY2FsU3RvcmFnZSIsImlzQnJvd3NlciIsImV4aXN0aW5nVG9rZW4iLCJnZXRJdGVtIiwic2V0VG9rZW4iLCJlbWFpbCIsImNsZWFyVG9rZW4iLCJhdXRoZW50aWNhdGlvbiIsImp3dCIsImlkZW50aWZpZXIiLCJwYXNzd29yZENvbmZpcm1hdGlvbiIsInByb3ZpZGVyIiwibG9jYXRpb24iLCJzZWFyY2giLCJpZ25vcmVRdWVyeVByZWZpeCIsImNvbnRlbnRUeXBlUGx1cmFsaXplZCIsImNvbnRlbnRUeXBlIiwiaWQiLCJxdWVyeSIsInRva2VuIiwiY29tZXNGcm9tU3RvcmFnZSIsInNldEl0ZW0iLCJzZXQiLCJyZW1vdmVJdGVtIiwicmVtb3ZlIiwiQXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJpbnN0YW5jZUNvbmZpZyIsIkNhbmNlbFRva2VuIiwiaXNDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsInNwcmVhZCIsIkludGVyY2VwdG9yTWFuYWdlciIsImRpc3BhdGNoUmVxdWVzdCIsImludGVyY2VwdG9ycyIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ1bnNoaWZ0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJzaGlmdCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJub3JtYWxpemVkTmFtZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsInRvSVNPU3RyaW5nIiwiam9pbiIsImlnbm9yZUR1cGxpY2F0ZU9mIiwicGFyc2VkIiwic3BsaXQiLCJsaW5lIiwic3Vic3RyIiwib3JpZ2luVVJMIiwibXNpZSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInJlcXVlc3RVUkwiLCJ3cml0ZSIsImV4cGlyZXMiLCJkb21haW4iLCJzZWN1cmUiLCJEYXRlIiwidG9HTVRTdHJpbmciLCJtYXRjaCIsIlJlZ0V4cCIsIm5vdyIsImhhbmRsZXJzIiwidXNlIiwiZWplY3QiLCJoIiwidHJhbnNmb3JtRGF0YSIsImlzQWJzb2x1dGVVUkwiLCJjb21iaW5lVVJMcyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJ0aHJvd0lmUmVxdWVzdGVkIiwicmVhc29uIiwiZm5zIiwicmVsYXRpdmVVUkwiLCJleGVjdXRvciIsIlR5cGVFcnJvciIsInJlc29sdmVQcm9taXNlIiwiY2FsbGJhY2siLCJhcnIiLCJPbGRDb29raWVzIiwiYXBpIiwibm9Db25mbGljdCIsImF0dHJpYnV0ZXMiLCJpbml0IiwiY29udmVydGVyIiwidG9VVENTdHJpbmciLCJzdHJpbmdpZmllZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVOYW1lIiwianNvbiIsImphciIsImdldEpTT04iLCJ3aXRoQ29udmVydGVyIiwiZm9ybWF0cyIsImFycmF5UHJlZml4R2VuZXJhdG9ycyIsImJyYWNrZXRzIiwicHJlZml4IiwiY29tbWEiLCJpbmRpY2VzIiwicmVwZWF0IiwicHVzaFRvQXJyYXkiLCJ2YWx1ZU9yQXJyYXkiLCJ0b0lTTyIsImRlZmF1bHRGb3JtYXQiLCJhZGRRdWVyeVByZWZpeCIsImFsbG93RG90cyIsImNoYXJzZXRTZW50aW5lbCIsImRlbGltaXRlciIsImVuY29kZXIiLCJlbmNvZGVWYWx1ZXNPbmx5IiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwic2VyaWFsaXplRGF0ZSIsImRhdGUiLCJza2lwTnVsbHMiLCJzdHJpY3ROdWxsSGFuZGxpbmciLCJnZW5lcmF0ZUFycmF5UHJlZml4IiwiZmlsdGVyIiwic29ydCIsIm9iaktleXMiLCJ2YWx1ZXMiLCJrZXlQcmVmaXgiLCJvcHRzIiwibm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyIsImFycmF5Rm9ybWF0Iiwiam9pbmVkIiwiYXJyYXlMaW1pdCIsImRlcHRoIiwiaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzIiwicGFyYW1ldGVyTGltaXQiLCJwYXJzZUFycmF5cyIsIm51bWJlclN0ciIsImZyb21DaGFyQ29kZSIsInBhcnNlQXJyYXlWYWx1ZSIsInBhcnNlS2V5cyIsImdpdmVuS2V5IiwidmFsdWVzUGFyc2VkIiwiY2hpbGQiLCJzZWdtZW50IiwiZXhlYyIsInBhcmVudCIsImluZGV4IiwibGVhZiIsImNsZWFuUm9vdCIsImlzTmFOIiwiMCIsInBhcnNlT2JqZWN0Iiwibm9ybWFsaXplUGFyc2VPcHRpb25zIiwidGVtcE9iaiIsImNsZWFuU3RyIiwibGltaXQiLCJJbmZpbml0eSIsInNraXBJbmRleCIsInBhcnQiLCJicmFja2V0RXF1YWxzUG9zIiwicG9zIiwiZW5jb2RlZFZhbCIsInBhcnNlVmFsdWVzIiwibmV3T2JqIiwiQVRUSUJVVEVfVFlQRVMiLCJXSElURUxJU1RfS0VZUyIsIkF0dHJpYnV0ZVR5cGVzQmxhY2tsaXN0IiwiY29udGVudFR5cGVVSUQiLCJibGFja2xpc3RlZFByb3BzIiwicmVzIiwiZmV0Y2giLCJzdGF0dXNDb2RlIiwibWV0YWRhdGFzIiwiY29tcG9uZW50cyIsImNvbXBvbmVudElkIiwiY29tcG9uZW50IiwiZm9ybVN0YXRlIiwiY29udGVudCIsIl9fY29tcG9uZW50IiwiZmllbGRzIiwiYXR0cmlidXRlIiwidHlwZSIsIkNPTVBPTkVOVCIsImlzQ29tcG9uZW50IiwiY2FuRWRpdCIsImluY2x1ZGVzIiwiY29tcG9uZW50S2V5Iiwic2NoZW1hIiwiY29tcG9uZW50QXR0cnMiLCJjaGlsZEtleSIsInNldEZpZWxkIiwic2V0Rm9ybVN0YXRlIiwiX19sYWJlbCIsImJ1aWxkTGFiZWwiLCJfX3BhcmVudCIsImJ1aWxkQ29tcG9uZW50IiwiZXhpc3RpbmdFbnRyeSIsImdldENvbnRlbnRUeXBlIiwiZ2F0aGVyU2NoZW1hIiwiU3RyYXBpRm9ybU1ldGhvZHNEZWNvcmF0b3IiLCJzdHJhcGlTREsiLCJhcGlJRCIsImdldEFwaUlEIiwiY3JlYXRlRW50cnkiLCJ1cGRhdGVFbnRyeSIsImdldEVudHJpZXMiLCJkZWxldGVFbnRyeSIsInNkayIsInVzZXIiLCJnZXRUb2tlbiIsImxvZ2luIiwiZm9ybSIsImdldFNjaGVtYSIsImFjdGlvbnMiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sb0JBQXFCLEdBQUlILEdBQ04saUJBQVpD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ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU3RyYXBpRm9ybUJ1aWxkZXJcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiU3RyYXBpRm9ybUJ1aWxkZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiU3RyYXBpRm9ybUJ1aWxkZXJcIl0gPSBmYWN0b3J5KCk7XG59KSgodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzUpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIG5vcm1hbGl6ZUhlYWRlck5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvbm9ybWFsaXplSGVhZGVyTmFtZScpO1xuXG52YXIgREVGQVVMVF9DT05URU5UX1RZUEUgPSB7XG4gICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuZnVuY3Rpb24gc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsIHZhbHVlKSB7XG4gIGlmICghdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVycykgJiYgdXRpbHMuaXNVbmRlZmluZWQoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pKSB7XG4gICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWRhcHRlcigpIHtcbiAgdmFyIGFkYXB0ZXI7XG4gIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIGJyb3dzZXJzIHVzZSBYSFIgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL3hocicpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBub2RlIHVzZSBIVFRQIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy9odHRwJyk7XG4gIH1cbiAgcmV0dXJuIGFkYXB0ZXI7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgYWRhcHRlcjogZ2V0RGVmYXVsdEFkYXB0ZXIoKSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgbm9ybWFsaXplSGVhZGVyTmFtZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogSWdub3JlICovIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH1cbn07XG5cbmRlZmF1bHRzLmhlYWRlcnMgPSB7XG4gIGNvbW1vbjoge1xuICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHV0aWxzLm1lcmdlKERFRkFVTFRfQ09OVEVOVF9UWVBFKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmF1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxudmFyIGhleFRhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIGFycmF5LnB1c2goJyUnICsgKChpIDwgMTYgPyAnMCcgOiAnJykgKyBpLnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufSgpKTtcblxudmFyIGNvbXBhY3RRdWV1ZSA9IGZ1bmN0aW9uIGNvbXBhY3RRdWV1ZShxdWV1ZSkge1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHZhciBjb21wYWN0ZWQgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtqXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0ub2JqW2l0ZW0ucHJvcF0gPSBjb21wYWN0ZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgYXJyYXlUb09iamVjdCA9IGZ1bmN0aW9uIGFycmF5VG9PYmplY3Qoc291cmNlLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIG1lcmdlID0gZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAvKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IDAgKi9cbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaChzb3VyY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKChvcHRpb25zICYmIChvcHRpb25zLnBsYWluT2JqZWN0cyB8fCBvcHRpb25zLmFsbG93UHJvdG90eXBlcykpIHx8ICFoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBbdGFyZ2V0XS5jb25jYXQoc291cmNlKTtcbiAgICB9XG5cbiAgICB2YXIgbWVyZ2VUYXJnZXQgPSB0YXJnZXQ7XG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiAhaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIG1lcmdlVGFyZ2V0ID0gYXJyYXlUb09iamVjdCh0YXJnZXQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwodGFyZ2V0LCBpKSkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJdGVtID0gdGFyZ2V0W2ldO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRJdGVtICYmIHR5cGVvZiB0YXJnZXRJdGVtID09PSAnb2JqZWN0JyAmJiBpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBtZXJnZSh0YXJnZXRJdGVtLCBpdGVtLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW2tleV07XG5cbiAgICAgICAgaWYgKGhhcy5jYWxsKGFjYywga2V5KSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBtZXJnZShhY2Nba2V5XSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIG1lcmdlVGFyZ2V0KTtcbn07XG5cbnZhciBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ25TaW5nbGVTb3VyY2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGFjY1trZXldID0gc291cmNlW2tleV07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgdGFyZ2V0KTtcbn07XG5cbnZhciBkZWNvZGUgPSBmdW5jdGlvbiAoc3RyLCBkZWNvZGVyLCBjaGFyc2V0KSB7XG4gICAgdmFyIHN0cldpdGhvdXRQbHVzID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgLy8gdW5lc2NhcGUgbmV2ZXIgdGhyb3dzLCBubyB0cnkuLi5jYXRjaCBuZWVkZWQ6XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cy5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksIHVuZXNjYXBlKTtcbiAgICB9XG4gICAgLy8gdXRmLThcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cldpdGhvdXRQbHVzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cztcbiAgICB9XG59O1xuXG52YXIgZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKHN0ciwgZGVmYXVsdEVuY29kZXIsIGNoYXJzZXQpIHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSAobXNjZGV4KSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHN0cmluZyA9IHN0cjtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgc3RyaW5nID0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0cik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBTdHJpbmcoc3RyKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYyA9PT0gMHgyRCAvLyAtXG4gICAgICAgICAgICB8fCBjID09PSAweDJFIC8vIC5cbiAgICAgICAgICAgIHx8IGMgPT09IDB4NUYgLy8gX1xuICAgICAgICAgICAgfHwgYyA9PT0gMHg3RSAvLyB+XG4gICAgICAgICAgICB8fCAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgLy8gMC05XG4gICAgICAgICAgICB8fCAoYyA+PSAweDQxICYmIGMgPD0gMHg1QSkgLy8gYS16XG4gICAgICAgICAgICB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg3QSkgLy8gQS1aXG4gICAgICAgICkge1xuICAgICAgICAgICAgb3V0ICs9IHN0cmluZy5jaGFyQXQoaSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgaGV4VGFibGVbY107XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEMwIHwgKGMgPj4gNildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweEQ4MDAgfHwgYyA+PSAweEUwMDApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIChoZXhUYWJsZVsweEUwIHwgKGMgPj4gMTIpXSArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpICs9IDE7XG4gICAgICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M0ZGKSA8PCAxMCkgfCAoc3RyaW5nLmNoYXJDb2RlQXQoaSkgJiAweDNGRikpO1xuICAgICAgICBvdXQgKz0gaGV4VGFibGVbMHhGMCB8IChjID4+IDE4KV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiAxMikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbn07XG5cbnZhciBjb21wYWN0ID0gZnVuY3Rpb24gY29tcGFjdCh2YWx1ZSkge1xuICAgIHZhciBxdWV1ZSA9IFt7IG9iajogeyBvOiB2YWx1ZSB9LCBwcm9wOiAnbycgfV07XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9ialtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCAmJiByZWZzLmluZGV4T2YodmFsKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHsgb2JqOiBvYmosIHByb3A6IGtleSB9KTtcbiAgICAgICAgICAgICAgICByZWZzLnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBhY3RRdWV1ZShxdWV1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgaXNSZWdFeHAgPSBmdW5jdGlvbiBpc1JlZ0V4cChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcblxudmFyIGlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn07XG5cbnZhciBjb21iaW5lID0gZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn07XG5cbnZhciBtYXliZU1hcCA9IGZ1bmN0aW9uIG1heWJlTWFwKHZhbCwgZm4pIHtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHZhciBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmbih2YWwpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXJyYXlUb09iamVjdDogYXJyYXlUb09iamVjdCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgZGVjb2RlOiBkZWNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICAgIGlzUmVnRXhwOiBpc1JlZ0V4cCxcbiAgICBtYXliZU1hcDogbWF5YmVNYXAsXG4gICAgbWVyZ2U6IG1lcmdlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi8uLi9jb3JlL3NldHRsZScpO1xudmFyIGJ1aWxkVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2J1aWxkVVJMJyk7XG52YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL3BhcnNlSGVhZGVycycpO1xudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4nKTtcbnZhciBjcmVhdGVFcnJvciA9IHJlcXVpcmUoJy4uL2NvcmUvY3JlYXRlRXJyb3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEocmVxdWVzdERhdGEpKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICByZXF1ZXN0OiByZXF1ZXN0XG4gICAgICB9O1xuXG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCdOZXR3b3JrIEVycm9yJywgY29uZmlnLCBudWxsLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcigndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnLCBjb25maWcsICdFQ09OTkFCT1JURUQnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgICB2YXIgY29va2llcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb29raWVzJyk7XG5cbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgdmFyIHhzcmZWYWx1ZSA9IChjb25maWcud2l0aENyZWRlbnRpYWxzIHx8IGlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lID9cbiAgICAgICAgICBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKSA6XG4gICAgICAgICAgdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzW2NvbmZpZy54c3JmSGVhZGVyTmFtZV0gPSB4c3JmVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0RGF0YSA9PT0gJ3VuZGVmaW5lZCcgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSBhZGQgaGVhZGVyIHRvIHRoZSByZXF1ZXN0XG4gICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEV4cGVjdGVkIERPTUV4Y2VwdGlvbiB0aHJvd24gYnkgYnJvd3NlcnMgbm90IGNvbXBhdGlibGUgWE1MSHR0cFJlcXVlc3QgTGV2ZWwgMi5cbiAgICAgICAgLy8gQnV0LCB0aGlzIGNhbiBiZSBzdXBwcmVzc2VkIGZvciAnanNvbicgdHlwZSBhcyBpdCBjYW4gYmUgcGFyc2VkIGJ5IGRlZmF1bHQgJ3RyYW5zZm9ybVJlc3BvbnNlJyBmdW5jdGlvbi5cbiAgICAgICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25Eb3dubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uIG9uQ2FuY2VsZWQoY2FuY2VsKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KGNhbmNlbCk7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWVzdERhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEpO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgcGVyY2VudFR3ZW50aWVzID0gLyUyMC9nO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIEZvcm1hdCA9IHtcbiAgICBSRkMxNzM4OiAnUkZDMTczOCcsXG4gICAgUkZDMzk4NjogJ1JGQzM5ODYnXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWwuYXNzaWduKFxuICAgIHtcbiAgICAgICAgJ2RlZmF1bHQnOiBGb3JtYXQuUkZDMzk4NixcbiAgICAgICAgZm9ybWF0dGVyczoge1xuICAgICAgICAgICAgUkZDMTczODogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UuY2FsbCh2YWx1ZSwgcGVyY2VudFR3ZW50aWVzLCAnKycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFJGQzM5ODY6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBGb3JtYXRcbik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHByb3ZpZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbGliL3Byb3ZpZGVyXCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHByb3ZpZGVyXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWFXNWtaWGd1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXVMaTh1TGk5emNtTXZhVzVrWlhndWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3UVVGQlFTdzRSRUZCYzBNN1FVRkRkRU1zYTBKQlFXVXNhMEpCUVZFc1EwRkJReUo5IiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzZGtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9zZGtcIikpO1xuZnVuY3Rpb24gZGVmYXVsdF8xKGJhc2VVUkwsIHN0b3JlQ29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBzZGtfMS5kZWZhdWx0KGJhc2VVUkwsIHN0b3JlQ29uZmlnKTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGRlZmF1bHRfMTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWNISnZkbWxrWlhJdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl1TGk4dUxpOHVMaTl6Y21NdmJHbGlMM0J5YjNacFpHVnlMblJ6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN08wRkJRVUVzWjBSQlFUUkRPMEZCUlRWRExHMUNRVUYzUWl4UFFVRmxMRVZCUVVVc1YwRkJlVUk3U1VGRGFFVXNUMEZCVHl4SlFVRkpMR0ZCUVUwc1EwRkJReXhQUVVGUExFVkJRVVVzVjBGQlZ5eERRVUZETEVOQlFVTTdRVUZETVVNc1EwRkJRenRCUVVaRUxEUkNRVVZESW4wPSIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGF4aW9zXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImF4aW9zXCIpKTtcbmNvbnN0IENvb2tpZXMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcImpzLWNvb2tpZVwiKSk7XG5jb25zdCBxcyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwicXNcIikpO1xuY2xhc3MgU3RyYXBpIHtcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSBiYXNlVVJMIFlvdXIgU3RyYXBpIGhvc3QuXG4gICAgICogQHBhcmFtIGF4aW9zQ29uZmlnIEV4dGVuZCBBeGlvcyBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VVUkwsIHN0b3JlQ29uZmlnLCByZXF1ZXN0Q29uZmlnKSB7XG4gICAgICAgIHRoaXMuYXhpb3MgPSBheGlvc18xLmRlZmF1bHQuY3JlYXRlKE9iamVjdC5hc3NpZ24oeyBiYXNlVVJMLCBwYXJhbXNTZXJpYWxpemVyOiBxcy5zdHJpbmdpZnkgfSwgcmVxdWVzdENvbmZpZykpO1xuICAgICAgICB0aGlzLnN0b3JlQ29uZmlnID0gT2JqZWN0LmFzc2lnbih7IGNvb2tpZToge1xuICAgICAgICAgICAgICAgIGtleTogJ2p3dCcsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiAnLydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBsb2NhbFN0b3JhZ2U6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdqd3QnXG4gICAgICAgICAgICB9IH0sIHN0b3JlQ29uZmlnKTtcbiAgICAgICAgaWYgKHRoaXMuaXNCcm93c2VyKCkpIHtcbiAgICAgICAgICAgIGxldCBleGlzdGluZ1Rva2VuO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVDb25maWcuY29va2llKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUb2tlbiA9IENvb2tpZXMuZ2V0KHRoaXMuc3RvcmVDb25maWcuY29va2llLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnN0b3JlQ29uZmlnLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nVG9rZW4gPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JlQ29uZmlnLmxvY2FsU3RvcmFnZS5rZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChleGlzdGluZ1Rva2VuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUb2tlbihleGlzdGluZ1Rva2VuLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBeGlvcyByZXF1ZXN0XG4gICAgICogQHBhcmFtIG1ldGhvZCBSZXF1ZXN0IG1ldGhvZFxuICAgICAqIEBwYXJhbSB1cmwgU2VydmVyIFVSTFxuICAgICAqIEBwYXJhbSByZXF1ZXN0Q29uZmlnIEN1c3RvbSBBeGlvcyBjb25maWdcbiAgICAgKi9cbiAgICBhc3luYyByZXF1ZXN0KG1ldGhvZCwgdXJsLCByZXF1ZXN0Q29uZmlnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3MucmVxdWVzdChPYmplY3QuYXNzaWduKHsgbWV0aG9kLFxuICAgICAgICAgICAgICAgIHVybCB9LCByZXF1ZXN0Q29uZmlnKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgdXNlci5cbiAgICAgKiBAcGFyYW0gdXNlcm5hbWVcbiAgICAgKiBAcGFyYW0gZW1haWxcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmRcbiAgICAgKiBAcmV0dXJucyBBdXRoZW50aWNhdGlvbiBVc2VyIHRva2VuIGFuZCBwcm9maWxlXG4gICAgICovXG4gICAgYXN5bmMgcmVnaXN0ZXIodXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICB0aGlzLmNsZWFyVG9rZW4oKTtcbiAgICAgICAgY29uc3QgYXV0aGVudGljYXRpb24gPSBhd2FpdCB0aGlzLnJlcXVlc3QoJ3Bvc3QnLCAnL2F1dGgvbG9jYWwvcmVnaXN0ZXInLCB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgdXNlcm5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0VG9rZW4oYXV0aGVudGljYXRpb24uand0KTtcbiAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dpbiBieSBnZXR0aW5nIGFuIGF1dGhlbnRpY2F0aW9uIHRva2VuLlxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIENhbiBlaXRoZXIgYmUgYW4gZW1haWwgb3IgYSB1c2VybmFtZS5cbiAgICAgKiBAcGFyYW0gcGFzc3dvcmRcbiAgICAgKiBAcmV0dXJucyBBdXRoZW50aWNhdGlvbiBVc2VyIHRva2VuIGFuZCBwcm9maWxlXG4gICAgICovXG4gICAgYXN5bmMgbG9naW4oaWRlbnRpZmllciwgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5jbGVhclRva2VuKCk7XG4gICAgICAgIGlmICghcGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBsb2cgYmFjayBpbi4gcGFzc3dvcmQvdG9rZW4gbm90IHNldC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXV0aGVudGljYXRpb24gPSBhd2FpdCB0aGlzLnJlcXVlc3QoJ3Bvc3QnLCAnL2F1dGgvbG9jYWwnLCB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICBwYXNzd29yZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRUb2tlbihhdXRoZW50aWNhdGlvbi5qd3QpO1xuICAgICAgICByZXR1cm4gYXV0aGVudGljYXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGFuIGVtYWlsIHRvIGEgdXNlciB3aXRoIHRoZSBsaW5rIG9mIHlvdXIgcmVzZXQgcGFzc3dvcmQgcGFnZS5cbiAgICAgKiBUaGlzIGxpbmsgY29udGFpbnMgYW4gVVJMIHBhcmFtIGNvZGUgd2hpY2ggaXMgcmVxdWlyZWQgdG8gcmVzZXQgdXNlciBwYXNzd29yZC5cbiAgICAgKiBSZWNlaXZlZCBsaW5rIHVybCBmb3JtYXQgaHR0cHM6Ly9teS1kb21haW4uY29tL3Jlc3QtcGFzc3dvcmQ/Y29kZT1wcml2YXRlQ29kZS5cbiAgICAgKiBAcGFyYW0gZW1haWxcbiAgICAgKiBAcGFyYW0gdXJsIExpbmsgdGhhdCB1c2VyIHdpbGwgcmVjZWl2ZS5cbiAgICAgKi9cbiAgICBhc3luYyBmb3Jnb3RQYXNzd29yZChlbWFpbCwgdXJsKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUb2tlbigpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlcXVlc3QoJ3Bvc3QnLCAnL2F1dGgvZm9yZ290LXBhc3N3b3JkJywge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgIHVybFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHVzZXIgcGFzc3dvcmQuXG4gICAgICogQHBhcmFtIGNvZGUgSXMgdGhlIHVybCBwYXJhbXMgcmVjZWl2ZWQgZnJvbSB0aGUgZW1haWwgbGluayAoc2VlIGZvcmdvdCBwYXNzd29yZCkuXG4gICAgICogQHBhcmFtIHBhc3N3b3JkXG4gICAgICogQHBhcmFtIHBhc3N3b3JkQ29uZmlybWF0aW9uXG4gICAgICovXG4gICAgYXN5bmMgcmVzZXRQYXNzd29yZChjb2RlLCBwYXNzd29yZCwgcGFzc3dvcmRDb25maXJtYXRpb24pIHtcbiAgICAgICAgdGhpcy5jbGVhclRva2VuKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdCgncG9zdCcsICcvYXV0aC9yZXNldC1wYXNzd29yZCcsIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkQ29uZmlybWF0aW9uXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgY29ubmVjdCBwcm92aWRlciBVUkxcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXJcbiAgICAgKi9cbiAgICBnZXRQcm92aWRlckF1dGhlbnRpY2F0aW9uVXJsKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmF4aW9zLmRlZmF1bHRzLmJhc2VVUkx9L2Nvbm5lY3QvJHtwcm92aWRlcn1gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdXRoZW50aWNhdGUgdGhlIHVzZXIgd2l0aCB0aGUgdG9rZW4gcHJlc2VudCBvbiB0aGUgVVJMIChmb3IgYnJvd3Nlcikgb3IgaW4gYHBhcmFtc2AgKG9uIE5vZGUuanMpXG4gICAgICogQHBhcmFtIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZVByb3ZpZGVyKHByb3ZpZGVyLCBwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5jbGVhclRva2VuKCk7XG4gICAgICAgIC8vIEhhbmRsaW5nIGJyb3dzZXIgcXVlcnlcbiAgICAgICAgaWYgKHRoaXMuaXNCcm93c2VyKCkpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHFzLnBhcnNlKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gsIHsgaWdub3JlUXVlcnlQcmVmaXg6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXV0aGVudGljYXRpb24gPSBhd2FpdCB0aGlzLnJlcXVlc3QoJ2dldCcsIGAvYXV0aC8ke3Byb3ZpZGVyfS9jYWxsYmFja2AsIHtcbiAgICAgICAgICAgIHBhcmFtc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRUb2tlbihhdXRoZW50aWNhdGlvbi5qd3QpO1xuICAgICAgICByZXR1cm4gYXV0aGVudGljYXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3QgZW50cmllc1xuICAgICAqIEBwYXJhbSBjb250ZW50VHlwZVBsdXJhbGl6ZWRcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEZpbHRlciBhbmQgb3JkZXIgcXVlcmllcy5cbiAgICAgKi9cbiAgICBnZXRFbnRyaWVzKGNvbnRlbnRUeXBlUGx1cmFsaXplZCwgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2dldCcsIGAvJHtjb250ZW50VHlwZVBsdXJhbGl6ZWR9YCwge1xuICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRvdGFsIGNvdW50IG9mIGVudHJpZXMgd2l0aCB0aGUgcHJvdmlkZWQgY3JpdGVyaWFcbiAgICAgKiBAcGFyYW0gY29udGVudFR5cGVcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEZpbHRlciBhbmQgb3JkZXIgcXVlcmllcy5cbiAgICAgKi9cbiAgICBnZXRFbnRyeUNvdW50KGNvbnRlbnRUeXBlLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZ2V0JywgYC8ke2NvbnRlbnRUeXBlfS9jb3VudGAsIHtcbiAgICAgICAgICAgIHBhcmFtc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3BlY2lmaWMgZW50cnlcbiAgICAgKiBAcGFyYW0gY29udGVudFR5cGVQbHVyYWxpemVkIFR5cGUgb2YgZW50cnkgcGx1cmFsaXplZFxuICAgICAqIEBwYXJhbSBpZCBJRCBvZiBlbnRyeVxuICAgICAqL1xuICAgIGdldEVudHJ5KGNvbnRlbnRUeXBlUGx1cmFsaXplZCwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZ2V0JywgYC8ke2NvbnRlbnRUeXBlUGx1cmFsaXplZH0vJHtpZH1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGRhdGFcbiAgICAgKiBAcGFyYW0gY29udGVudFR5cGVQbHVyYWxpemVkIFR5cGUgb2YgZW50cnkgcGx1cmFsaXplZFxuICAgICAqIEBwYXJhbSBkYXRhIE5ldyBlbnRyeVxuICAgICAqL1xuICAgIGNyZWF0ZUVudHJ5KGNvbnRlbnRUeXBlUGx1cmFsaXplZCwgZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdwb3N0JywgYC8ke2NvbnRlbnRUeXBlUGx1cmFsaXplZH1gLCB7XG4gICAgICAgICAgICBkYXRhXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgZGF0YVxuICAgICAqIEBwYXJhbSBjb250ZW50VHlwZVBsdXJhbGl6ZWQgVHlwZSBvZiBlbnRyeSBwbHVyYWxpemVkXG4gICAgICogQHBhcmFtIGlkIElEIG9mIGVudHJ5XG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICB1cGRhdGVFbnRyeShjb250ZW50VHlwZVBsdXJhbGl6ZWQsIGlkLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ3B1dCcsIGAvJHtjb250ZW50VHlwZVBsdXJhbGl6ZWR9LyR7aWR9YCwge1xuICAgICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFuIGVudHJ5XG4gICAgICogQHBhcmFtIGNvbnRlbnRUeXBlUGx1cmFsaXplZCBUeXBlIG9mIGVudHJ5IHBsdXJhbGl6ZWRcbiAgICAgKiBAcGFyYW0gaWQgSUQgb2YgZW50cnlcbiAgICAgKi9cbiAgICBkZWxldGVFbnRyeShjb250ZW50VHlwZVBsdXJhbGl6ZWQsIGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2RlbGV0ZScsIGAvJHtjb250ZW50VHlwZVBsdXJhbGl6ZWR9LyR7aWR9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBmb3IgZmlsZXNcbiAgICAgKiBAcGFyYW0gcXVlcnkgS2V5d29yZHNcbiAgICAgKi9cbiAgICBzZWFyY2hGaWxlcyhxdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdnZXQnLCBgL3VwbG9hZC9zZWFyY2gvJHtkZWNvZGVVUklDb21wb25lbnQocXVlcnkpfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZmlsZXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEZpbHRlciBhbmQgb3JkZXIgcXVlcmllc1xuICAgICAqIEByZXR1cm5zIE9iamVjdFtdIEZpbGVzIGRhdGFcbiAgICAgKi9cbiAgICBnZXRGaWxlcyhwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZ2V0JywgJy91cGxvYWQvZmlsZXMnLCB7XG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBmaWxlXG4gICAgICogQHBhcmFtIGlkIElEIG9mIGVudHJ5XG4gICAgICovXG4gICAgZ2V0RmlsZShpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdnZXQnLCBgL3VwbG9hZC9maWxlcy8ke2lkfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgZmlsZXNcbiAgICAgKlxuICAgICAqICMjIyBCcm93c2VyIGV4YW1wbGVcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgKiBmb3JtLmFwcGVuZCgnZmlsZXMnLCBmaWxlSW5wdXRFbGVtZW50LmZpbGVzWzBdLCAnZmlsZS1uYW1lLmV4dCcpO1xuICAgICAqIGZvcm0uYXBwZW5kKCdmaWxlcycsIGZpbGVJbnB1dEVsZW1lbnQuZmlsZXNbMV0sICdmaWxlLTItbmFtZS5leHQnKTtcbiAgICAgKiBjb25zdCBmaWxlcyA9IGF3YWl0IHN0cmFwaS51cGxvYWQoZm9ybSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMgTm9kZS5qcyBleGFtcGxlXG4gICAgICogYGBganNcbiAgICAgKiBjb25zdCBGb3JtRGF0YSA9IHJlcXVpcmUoJ2Zvcm0tZGF0YScpO1xuICAgICAqIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgKiBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICogZm9ybS5hcHBlbmQoJ2ZpbGVzJywgZnMuY3JlYXRlUmVhZFN0cmVhbSgnLi9maWxlLW5hbWUuZXh0JyksICdmaWxlLW5hbWUuZXh0Jyk7XG4gICAgICogY29uc3QgZmlsZXMgPSBhd2FpdCBzdHJhcGkudXBsb2FkKGZvcm0sIHtcbiAgICAgKiAgIGhlYWRlcnM6IGZvcm0uZ2V0SGVhZGVycygpXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBGb3JtRGF0YVxuICAgICAqIEBwYXJhbSByZXF1ZXN0Q29uZmlnXG4gICAgICovXG4gICAgdXBsb2FkKGRhdGEsIHJlcXVlc3RDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgncG9zdCcsICcvdXBsb2FkJywgT2JqZWN0LmFzc2lnbih7IGRhdGEgfSwgcmVxdWVzdENvbmZpZykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdG9rZW4gb24gQXhpb3MgY29uZmlndXJhdGlvblxuICAgICAqIEBwYXJhbSB0b2tlbiBSZXRyaWV2ZWQgYnkgcmVnaXN0ZXIgb3IgbG9naW5cbiAgICAgKi9cbiAgICBzZXRUb2tlbih0b2tlbiwgY29tZXNGcm9tU3RvcmFnZSkge1xuICAgICAgICB0aGlzLmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyB0b2tlbjtcbiAgICAgICAgaWYgKHRoaXMuaXNCcm93c2VyKCkgJiYgIWNvbWVzRnJvbVN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlQ29uZmlnLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JlQ29uZmlnLmxvY2FsU3RvcmFnZS5rZXksIEpTT04uc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5jb29raWUpIHtcbiAgICAgICAgICAgICAgICBDb29raWVzLnNldCh0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZS5rZXksIHRva2VuLCB0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZS5vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCcm93c2VyKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlQ29uZmlnLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2Uua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBDb29raWVzLmdldCh0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0b2tlbiBmcm9tIEF4aW9zIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBjbGVhclRva2VuKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xuICAgICAgICBpZiAodGhpcy5pc0Jyb3dzZXIoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVDb25maWcubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuc3RvcmVDb25maWcubG9jYWxTdG9yYWdlLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5jb29raWUpIHtcbiAgICAgICAgICAgICAgICBDb29raWVzLnJlbW92ZSh0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZS5rZXksIHRoaXMuc3RvcmVDb25maWcuY29va2llLm9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGl0IHJ1bnMgb24gYnJvd3NlclxuICAgICAqL1xuICAgIGlzQnJvd3NlcigpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFN0cmFwaTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWMyUnJMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUxpNHZMaTR2TGk0dmMzSmpMMnhwWWk5elpHc3VkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN08wRkJRVUVzYTBSQlFXZEdPMEZCUTJoR0xHMUVRVUZ4UXp0QlFVTnlReXgxUTBGQmVVSTdRVUUyUW5wQ0xFMUJRWEZDTEUxQlFVMDdTVUZKZWtJN096czdUMEZKUnp0SlFVTklMRmxCUTBVc1QwRkJaU3hGUVVObUxGZEJRWGxDTEVWQlEzcENMR0ZCUVd0RE8xRkJSV3hETEVsQlFVa3NRMEZCUXl4TFFVRkxMRWRCUVVjc1pVRkJTeXhEUVVGRExFMUJRVTBzYVVKQlEzWkNMRTlCUVU4c1JVRkRVQ3huUWtGQlowSXNSVUZCUlN4RlFVRkZMRU5CUVVNc1UwRkJVeXhKUVVNelFpeGhRVUZoTEVWQlEyaENMRU5CUVVNN1VVRkRTQ3hKUVVGSkxFTkJRVU1zVjBGQlZ5eHRRa0ZEWkN4TlFVRk5MRVZCUVVVN1owSkJRMDRzUjBGQlJ5eEZRVUZGTEV0QlFVczdaMEpCUTFZc1QwRkJUeXhGUVVGRk8yOUNRVU5RTEVsQlFVa3NSVUZCUlN4SFFVRkhPMmxDUVVOV08yRkJRMFlzUlVGRFJDeFpRVUZaTEVWQlFVVTdaMEpCUTFvc1IwRkJSeXhGUVVGRkxFdEJRVXM3WVVGRFdDeEpRVU5GTEZkQlFWY3NRMEZEWml4RFFVRkRPMUZCUlVZc1NVRkJTU3hKUVVGSkxFTkJRVU1zVTBGQlV5eEZRVUZGTEVWQlFVVTdXVUZEY0VJc1NVRkJTU3hoUVVGaExFTkJRVU03V1VGRGJFSXNTVUZCU1N4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExFMUJRVTBzUlVGQlJUdG5Ra0ZETTBJc1lVRkJZU3hIUVVGSExFOUJRVThzUTBGQlF5eEhRVUZITEVOQlFVTXNTVUZCU1N4RFFVRkRMRmRCUVZjc1EwRkJReXhOUVVGTkxFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdZVUZETVVRN2FVSkJRVTBzU1VGQlNTeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRmxCUVZrc1JVRkJSVHRuUWtGRGVFTXNZVUZCWVN4SFFVRkhMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVFVGQlRTeERRVUZETEZsQlFWa3NRMEZCUXl4UFFVRlBMRU5CUTNCRUxFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNXVUZCV1N4RFFVRkRMRWRCUVVjc1EwRkRlRUlzUTBGQlF5eERRVUZETzJGQlEyUTdXVUZEUkN4SlFVRkpMR0ZCUVdFc1JVRkJSVHRuUWtGRGFrSXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhoUVVGaExFVkJRVVVzU1VGQlNTeERRVUZETEVOQlFVTTdZVUZEY0VNN1UwRkRSanRKUVVOSUxFTkJRVU03U1VGRlJEczdPenM3VDBGTFJ6dEpRVU5KTEV0QlFVc3NRMEZCUXl4UFFVRlBMRU5CUTJ4Q0xFMUJRV01zUlVGRFpDeEhRVUZYTEVWQlExZ3NZVUZCYTBNN1VVRkZiRU1zU1VGQlNUdFpRVU5HTEUxQlFVMHNVVUZCVVN4SFFVRnJRaXhOUVVGTkxFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNUMEZCVHl4cFFrRkRkRVFzVFVGQlRUdG5Ra0ZEVGl4SFFVRkhMRWxCUTBFc1lVRkJZU3hGUVVOb1FpeERRVUZETzFsQlEwZ3NUMEZCVHl4UlFVRlJMRU5CUVVNc1NVRkJTU3hEUVVGRE8xTkJRM1JDTzFGQlFVTXNUMEZCVHl4TFFVRkxMRVZCUVVVN1dVRkRaQ3hKUVVGSkxFdEJRVXNzUTBGQlF5eFJRVUZSTEVWQlFVVTdaMEpCUTJ4Q0xFMUJRVTBzU1VGQlNTeExRVUZMTEVOQlFVTXNTMEZCU3l4RFFVRkRMRkZCUVZFc1EwRkJReXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEVOQlFVTTdZVUZET1VNN2FVSkJRVTA3WjBKQlEwd3NUVUZCVFN4TFFVRkxMRU5CUVVNN1lVRkRZanRUUVVOR08wbEJRMGdzUTBGQlF6dEpRVVZFT3pzN096czdUMEZOUnp0SlFVTkpMRXRCUVVzc1EwRkJReXhSUVVGUkxFTkJRMjVDTEZGQlFXZENMRVZCUTJoQ0xFdEJRV0VzUlVGRFlpeFJRVUZuUWp0UlFVVm9RaXhKUVVGSkxFTkJRVU1zVlVGQlZTeEZRVUZGTEVOQlFVTTdVVUZEYkVJc1RVRkJUU3hqUVVGakxFZEJRVzFDTEUxQlFVMHNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkRka1FzVFVGQlRTeEZRVU5PTEhOQ1FVRnpRaXhGUVVOMFFqdFpRVU5GTEVsQlFVa3NSVUZCUlR0blFrRkRTaXhMUVVGTE8yZENRVU5NTEZGQlFWRTdaMEpCUTFJc1VVRkJVVHRoUVVOVU8xTkJRMFlzUTBGRFJpeERRVUZETzFGQlEwWXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhqUVVGakxFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdVVUZEYkVNc1QwRkJUeXhqUVVGakxFTkJRVU03U1VGRGVFSXNRMEZCUXp0SlFVVkVPenM3T3p0UFFVdEhPMGxCUTBrc1MwRkJTeXhEUVVGRExFdEJRVXNzUTBGRGFFSXNWVUZCYTBJc1JVRkRiRUlzVVVGQkswSTdVVUZGTDBJc1NVRkJTU3hEUVVGRExGVkJRVlVzUlVGQlJTeERRVUZETzFGQlEyeENMRWxCUVVrc1EwRkJReXhSUVVGUkxFVkJRVVU3V1VGRFlpeE5RVUZOTEVsQlFVa3NTMEZCU3l4RFFVRkRMR2RFUVVGblJDeERRVUZETEVOQlFVTTdVMEZEYmtVN1VVRkZSQ3hOUVVGTkxHTkJRV01zUjBGQmJVSXNUVUZCVFN4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVOMlJDeE5RVUZOTEVWQlEwNHNZVUZCWVN4RlFVTmlPMWxCUTBVc1NVRkJTU3hGUVVGRk8yZENRVU5LTEZWQlFWVTdaMEpCUTFZc1VVRkJVVHRoUVVOVU8xTkJRMFlzUTBGRFJpeERRVUZETzFGQlEwWXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhqUVVGakxFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdVVUZEYkVNc1QwRkJUeXhqUVVGakxFTkJRVU03U1VGRGVFSXNRMEZCUXp0SlFVVkVPenM3T3pzN1QwRk5SenRKUVVOSkxFdEJRVXNzUTBGQlF5eGpRVUZqTEVOQlFVTXNTMEZCWVN4RlFVRkZMRWRCUVZjN1VVRkRjRVFzU1VGQlNTeERRVUZETEZWQlFWVXNSVUZCUlN4RFFVRkRPMUZCUTJ4Q0xFMUJRVTBzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4TlFVRk5MRVZCUVVVc2RVSkJRWFZDTEVWQlFVVTdXVUZEYkVRc1NVRkJTU3hGUVVGRk8yZENRVU5LTEV0QlFVczdaMEpCUTB3c1IwRkJSenRoUVVOS08xTkJRMFlzUTBGQlF5eERRVUZETzBsQlEwd3NRMEZCUXp0SlFVVkVPenM3T3p0UFFVdEhPMGxCUTBrc1MwRkJTeXhEUVVGRExHRkJRV0VzUTBGRGVFSXNTVUZCV1N4RlFVTmFMRkZCUVdkQ0xFVkJRMmhDTEc5Q1FVRTBRanRSUVVVMVFpeEpRVUZKTEVOQlFVTXNWVUZCVlN4RlFVRkZMRU5CUVVNN1VVRkRiRUlzVFVGQlRTeEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTFCUVUwc1JVRkJSU3h6UWtGQmMwSXNSVUZCUlR0WlFVTnFSQ3hKUVVGSkxFVkJRVVU3WjBKQlEwb3NTVUZCU1R0blFrRkRTaXhSUVVGUk8yZENRVU5TTEc5Q1FVRnZRanRoUVVOeVFqdFRRVU5HTEVOQlFVTXNRMEZCUXp0SlFVTk1MRU5CUVVNN1NVRkZSRHM3TzA5QlIwYzdTVUZEU1N3MFFrRkJORUlzUTBGQlF5eFJRVUZyUWp0UlFVTndSQ3hQUVVGUExFZEJRVWNzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4UlFVRlJMRU5CUVVNc1QwRkJUeXhaUVVGWkxGRkJRVkVzUlVGQlJTeERRVUZETzBsQlF6bEVMRU5CUVVNN1NVRkZSRHM3T3p0UFFVbEhPMGxCUTBrc1MwRkJTeXhEUVVGRExHOUNRVUZ2UWl4RFFVTXZRaXhSUVVGclFpeEZRVU5zUWl4TlFVRnpRanRSUVVWMFFpeEpRVUZKTEVOQlFVTXNWVUZCVlN4RlFVRkZMRU5CUVVNN1VVRkRiRUlzZVVKQlFYbENPMUZCUTNwQ0xFbEJRVWtzU1VGQlNTeERRVUZETEZOQlFWTXNSVUZCUlN4RlFVRkZPMWxCUTNCQ0xFMUJRVTBzUjBGQlJ5eEZRVUZGTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTFCUVUwc1EwRkJReXhSUVVGUkxFTkJRVU1zVFVGQlRTeEZRVUZGTEVWQlFVVXNhVUpCUVdsQ0xFVkJRVVVzU1VGQlNTeEZRVUZGTEVOQlFVTXNRMEZCUXp0VFFVTjRSVHRSUVVORUxFMUJRVTBzWTBGQll5eEhRVUZ0UWl4TlFVRk5MRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRM1pFTEV0QlFVc3NSVUZEVEN4VFFVRlRMRkZCUVZFc1YwRkJWeXhGUVVNMVFqdFpRVU5GTEUxQlFVMDdVMEZEVUN4RFFVTkdMRU5CUVVNN1VVRkRSaXhKUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEdOQlFXTXNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJRenRSUVVOc1F5eFBRVUZQTEdOQlFXTXNRMEZCUXp0SlFVTjRRaXhEUVVGRE8wbEJSVVE3T3pzN1QwRkpSenRKUVVOSkxGVkJRVlVzUTBGRFppeHhRa0ZCTmtJc1JVRkROMElzVFVGQmNVTTdVVUZGY2tNc1QwRkJUeXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEV0QlFVc3NSVUZCUlN4SlFVRkpMSEZDUVVGeFFpeEZRVUZGTEVWQlFVVTdXVUZEZEVRc1RVRkJUVHRUUVVOUUxFTkJRVU1zUTBGQlF6dEpRVU5NTEVOQlFVTTdTVUZGUkRzN096dFBRVWxITzBsQlEwa3NZVUZCWVN4RFFVTnNRaXhYUVVGdFFpeEZRVU51UWl4TlFVRnhRenRSUVVWeVF5eFBRVUZQTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1MwRkJTeXhGUVVGRkxFbEJRVWtzVjBGQlZ5eFJRVUZSTEVWQlFVVTdXVUZEYkVRc1RVRkJUVHRUUVVOUUxFTkJRVU1zUTBGQlF6dEpRVU5NTEVOQlFVTTdTVUZGUkRzN096dFBRVWxITzBsQlEwa3NVVUZCVVN4RFFVRkRMSEZDUVVFMlFpeEZRVUZGTEVWQlFWVTdVVUZEZGtRc1QwRkJUeXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEV0QlFVc3NSVUZCUlN4SlFVRkpMSEZDUVVGeFFpeEpRVUZKTEVWQlFVVXNSVUZCUlN4RFFVRkRMRU5CUVVNN1NVRkRhRVVzUTBGQlF6dEpRVVZFT3pzN08wOUJTVWM3U1VGRFNTeFhRVUZYTEVOQlEyaENMSEZDUVVFMlFpeEZRVU0zUWl4SlFVRm5RenRSUVVWb1F5eFBRVUZQTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1RVRkJUU3hGUVVGRkxFbEJRVWtzY1VKQlFYRkNMRVZCUVVVc1JVRkJSVHRaUVVOMlJDeEpRVUZKTzFOQlEwd3NRMEZCUXl4RFFVRkRPMGxCUTB3c1EwRkJRenRKUVVWRU96czdPenRQUVV0SE8wbEJRMGtzVjBGQlZ5eERRVU5vUWl4eFFrRkJOa0lzUlVGRE4wSXNSVUZCVlN4RlFVTldMRWxCUVdkRE8xRkJSV2hETEU5QlFVOHNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhMUVVGTExFVkJRVVVzU1VGQlNTeHhRa0ZCY1VJc1NVRkJTU3hGUVVGRkxFVkJRVVVzUlVGQlJUdFpRVU0xUkN4SlFVRkpPMU5CUTB3c1EwRkJReXhEUVVGRE8wbEJRMHdzUTBGQlF6dEpRVVZFT3pzN08wOUJTVWM3U1VGRFNTeFhRVUZYTEVOQlEyaENMSEZDUVVFMlFpeEZRVU0zUWl4RlFVRlZPMUZCUlZZc1QwRkJUeXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEZGQlFWRXNSVUZCUlN4SlFVRkpMSEZDUVVGeFFpeEpRVUZKTEVWQlFVVXNSVUZCUlN4RFFVRkRMRU5CUVVNN1NVRkRia1VzUTBGQlF6dEpRVVZFT3pzN1QwRkhSenRKUVVOSkxGZEJRVmNzUTBGQlF5eExRVUZoTzFGQlF6bENMRTlCUVU4c1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eExRVUZMTEVWQlFVVXNhMEpCUVd0Q0xHdENRVUZyUWl4RFFVRkRMRXRCUVVzc1EwRkJReXhGUVVGRkxFTkJRVU1zUTBGQlF6dEpRVU0xUlN4RFFVRkRPMGxCUlVRN096czdUMEZKUnp0SlFVTkpMRkZCUVZFc1EwRkJReXhOUVVGeFF6dFJRVU51UkN4UFFVRlBMRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zUzBGQlN5eEZRVUZGTEdWQlFXVXNSVUZCUlR0WlFVTXhReXhOUVVGTk8xTkJRMUFzUTBGQlF5eERRVUZETzBsQlEwd3NRMEZCUXp0SlFVVkVPenM3VDBGSFJ6dEpRVU5KTEU5QlFVOHNRMEZCUXl4RlFVRlZPMUZCUTNaQ0xFOUJRVThzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4TFFVRkxMRVZCUVVVc2FVSkJRV2xDTEVWQlFVVXNSVUZCUlN4RFFVRkRMRU5CUVVNN1NVRkRjRVFzUTBGQlF6dEpRVVZFT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdUMEYzUWtjN1NVRkRTU3hOUVVGTkxFTkJRMWdzU1VGQll5eEZRVU5rTEdGQlFXdERPMUZCUld4RExFOUJRVThzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4TlFVRk5MRVZCUVVVc1UwRkJVeXhyUWtGRGJrTXNTVUZCU1N4SlFVTkVMR0ZCUVdFc1JVRkRhRUlzUTBGQlF6dEpRVU5NTEVOQlFVTTdTVUZGUkRzN08wOUJSMGM3U1VGRFNTeFJRVUZSTEVOQlFVTXNTMEZCWVN4RlFVRkZMR2RDUVVFd1FqdFJRVU4yUkN4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExGRkJRVkVzUTBGQlF5eFBRVUZQTEVOQlFVTXNUVUZCVFN4RFFVRkRMR0ZCUVdFc1IwRkJSeXhUUVVGVExFZEJRVWNzUzBGQlN5eERRVUZETzFGQlEzSkZMRWxCUVVrc1NVRkJTU3hEUVVGRExGTkJRVk1zUlVGQlJTeEpRVUZKTEVOQlFVTXNaMEpCUVdkQ0xFVkJRVVU3V1VGRGVrTXNTVUZCU1N4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExGbEJRVmtzUlVGQlJUdG5Ra0ZEYWtNc1RVRkJUU3hEUVVGRExGbEJRVmtzUTBGQlF5eFBRVUZQTEVOQlEzcENMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zV1VGQldTeERRVUZETEVkQlFVY3NSVUZEYWtNc1NVRkJTU3hEUVVGRExGTkJRVk1zUTBGQlF5eExRVUZMTEVOQlFVTXNRMEZEZEVJc1EwRkJRenRoUVVOSU8xbEJRMFFzU1VGQlNTeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRTFCUVUwc1JVRkJSVHRuUWtGRE0wSXNUMEZCVHl4RFFVRkRMRWRCUVVjc1EwRkRWQ3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEUxQlFVMHNRMEZCUXl4SFFVRkhMRVZCUXpOQ0xFdEJRVXNzUlVGRFRDeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRTFCUVUwc1EwRkJReXhQUVVGUExFTkJRMmhETEVOQlFVTTdZVUZEU0R0VFFVTkdPMGxCUTBnc1EwRkJRenRKUVVWTkxGRkJRVkU3VVVGRFlpeEpRVUZKTEVsQlFVa3NRMEZCUXl4VFFVRlRMRVZCUVVVc1JVRkJSVHRaUVVOd1FpeEpRVUZKTEVsQlFVa3NRMEZCUXl4WFFVRlhMRU5CUVVNc1dVRkJXU3hGUVVGRk8yZENRVU5xUXl4UFFVRlBMRTFCUVUwc1EwRkJReXhaUVVGWkxFTkJRVU1zVDBGQlR5eERRVU5vUXl4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExGbEJRVmtzUTBGQlF5eEhRVUZITEVOQlEyeERMRU5CUVVNN1lVRkRTRHRaUVVORUxFbEJRVWtzU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4TlFVRk5MRVZCUVVVN1owSkJRek5DTEU5QlFVOHNUMEZCVHl4RFFVRkRMRWRCUVVjc1EwRkJReXhKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEUxQlFVMHNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJRenRoUVVOcVJEdFRRVU5HTzBsQlEwZ3NRMEZCUXp0SlFVVkVPenRQUVVWSE8wbEJRMGtzVlVGQlZUdFJRVU5tTEU5QlFVOHNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhSUVVGUkxFTkJRVU1zVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXl4aFFVRmhMRU5CUVVNN1VVRkRlRVFzU1VGQlNTeEpRVUZKTEVOQlFVTXNVMEZCVXl4RlFVRkZMRVZCUVVVN1dVRkRjRUlzU1VGQlNTeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRmxCUVZrc1JVRkJSVHRuUWtGRGFrTXNUVUZCVFN4RFFVRkRMRmxCUVZrc1EwRkJReXhWUVVGVkxFTkJRVU1zU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4WlFVRlpMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03WVVGRGJrVTdXVUZEUkN4SlFVRkpMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zVFVGQlRTeEZRVUZGTzJkQ1FVTXpRaXhQUVVGUExFTkJRVU1zVFVGQlRTeERRVU5hTEVsQlFVa3NRMEZCUXl4WFFVRlhMRU5CUVVNc1RVRkJUU3hEUVVGRExFZEJRVWNzUlVGRE0wSXNTVUZCU1N4RFFVRkRMRmRCUVZjc1EwRkJReXhOUVVGTkxFTkJRVU1zVDBGQlR5eERRVU5vUXl4RFFVRkRPMkZCUTBnN1UwRkRSanRKUVVOSUxFTkJRVU03U1VGRlJEczdUMEZGUnp0SlFVTkxMRk5CUVZNN1VVRkRaaXhQUVVGUExFOUJRVThzVFVGQlRTeExRVUZMTEZkQlFWY3NRMEZCUXp0SlFVTjJReXhEUVVGRE8wTkJRMFk3UVVGdVdrUXNlVUpCYlZwREluMD0iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgQXhpb3MgPSByZXF1aXJlKCcuL2NvcmUvQXhpb3MnKTtcbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgdmFyIGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIHZhciBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0KTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxudmFyIGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbmF4aW9zLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICByZXR1cm4gY3JlYXRlSW5zdGFuY2UodXRpbHMubWVyZ2UoZGVmYXVsdHMsIGluc3RhbmNlQ29uZmlnKSk7XG59O1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbCcpO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWxUb2tlbicpO1xuYXhpb3MuaXNDYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9pc0NhbmNlbCcpO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuYXhpb3Muc3ByZWFkID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NwcmVhZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF4aW9zO1xuXG4vLyBBbGxvdyB1c2Ugb2YgZGVmYXVsdCBpbXBvcnQgc3ludGF4IGluIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBheGlvcztcbiIsIi8qIVxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIEJ1ZmZlclxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi8uLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IHV0aWxzLm1lcmdlKHtcbiAgICAgIHVybDogYXJndW1lbnRzWzBdXG4gICAgfSwgYXJndW1lbnRzWzFdKTtcbiAgfVxuXG4gIGNvbmZpZyA9IHV0aWxzLm1lcmdlKGRlZmF1bHRzLCB7bWV0aG9kOiAnZ2V0J30sIHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG4gIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcbiAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGtleSA9IGtleSArICdbXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCIvKiFcbiAqIEphdmFTY3JpcHQgQ29va2llIHYyLjIuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL2pzLWNvb2tpZS9qcy1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAwNiwgMjAxNSBLbGF1cyBIYXJ0bCAmIEZhZ25lciBCcmFja1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKi9cbjsoZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0dmFyIHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcjtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHR9XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHR9XG5cdGlmICghcmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyKSB7XG5cdFx0dmFyIE9sZENvb2tpZXMgPSB3aW5kb3cuQ29va2llcztcblx0XHR2YXIgYXBpID0gd2luZG93LkNvb2tpZXMgPSBmYWN0b3J5KCk7XG5cdFx0YXBpLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR3aW5kb3cuQ29va2llcyA9IE9sZENvb2tpZXM7XG5cdFx0XHRyZXR1cm4gYXBpO1xuXHRcdH07XG5cdH1cbn0oZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBleHRlbmQgKCkge1xuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgcmVzdWx0ID0ge307XG5cdFx0Zm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzWyBpIF07XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRyZXN1bHRba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlY29kZSAocykge1xuXHRcdHJldHVybiBzLnJlcGxhY2UoLyglWzAtOUEtWl17Mn0pKy9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdCAoY29udmVydGVyKSB7XG5cdFx0ZnVuY3Rpb24gYXBpKCkge31cblxuXHRcdGZ1bmN0aW9uIHNldCAoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcykge1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcblx0XHRcdFx0cGF0aDogJy8nXG5cdFx0XHR9LCBhcGkuZGVmYXVsdHMsIGF0dHJpYnV0ZXMpO1xuXG5cdFx0XHRpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gbmV3IERhdGUobmV3IERhdGUoKSAqIDEgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZSdyZSB1c2luZyBcImV4cGlyZXNcIiBiZWNhdXNlIFwibWF4LWFnZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcblx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGF0dHJpYnV0ZXMuZXhwaXJlcyA/IGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogJyc7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciByZXN1bHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRcdGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHJlc3VsdDtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge31cblxuXHRcdFx0dmFsdWUgPSBjb252ZXJ0ZXIud3JpdGUgP1xuXHRcdFx0XHRjb252ZXJ0ZXIud3JpdGUodmFsdWUsIGtleSkgOlxuXHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHZhbHVlKSlcblx0XHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblxuXHRcdFx0a2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhrZXkpKVxuXHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KVxuXHRcdFx0XHQucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTtcblxuXHRcdFx0dmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuXHRcdFx0Zm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblx0XHRcdFx0aWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENvbnNpZGVycyBSRkMgNjI2NSBzZWN0aW9uIDUuMjpcblx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdC8vIDMuICBJZiB0aGUgcmVtYWluaW5nIHVucGFyc2VkLWF0dHJpYnV0ZXMgY29udGFpbnMgYSAleDNCIChcIjtcIilcblx0XHRcdFx0Ly8gICAgIGNoYXJhY3Rlcjpcblx0XHRcdFx0Ly8gQ29uc3VtZSB0aGUgY2hhcmFjdGVycyBvZiB0aGUgdW5wYXJzZWQtYXR0cmlidXRlcyB1cCB0byxcblx0XHRcdFx0Ly8gbm90IGluY2x1ZGluZywgdGhlIGZpcnN0ICV4M0IgKFwiO1wiKSBjaGFyYWN0ZXIuXG5cdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJz0nICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXS5zcGxpdCgnOycpWzBdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKGRvY3VtZW50LmNvb2tpZSA9IGtleSArICc9JyArIHZhbHVlICsgc3RyaW5naWZpZWRBdHRyaWJ1dGVzKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXQgKGtleSwganNvbikge1xuXHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgamFyID0ge307XG5cdFx0XHQvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG5cdFx0XHQvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC5cblx0XHRcdHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW107XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdGZvciAoOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG5cdFx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cblx0XHRcdFx0aWYgKCFqc29uICYmIGNvb2tpZS5jaGFyQXQoMCkgPT09ICdcIicpIHtcblx0XHRcdFx0XHRjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR2YXIgbmFtZSA9IGRlY29kZShwYXJ0c1swXSk7XG5cdFx0XHRcdFx0Y29va2llID0gKGNvbnZlcnRlci5yZWFkIHx8IGNvbnZlcnRlcikoY29va2llLCBuYW1lKSB8fFxuXHRcdFx0XHRcdFx0ZGVjb2RlKGNvb2tpZSk7XG5cblx0XHRcdFx0XHRpZiAoanNvbikge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0Y29va2llID0gSlNPTi5wYXJzZShjb29raWUpO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqYXJbbmFtZV0gPSBjb29raWU7XG5cblx0XHRcdFx0XHRpZiAoa2V5ID09PSBuYW1lKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBrZXkgPyBqYXJba2V5XSA6IGphcjtcblx0XHR9XG5cblx0XHRhcGkuc2V0ID0gc2V0O1xuXHRcdGFwaS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZ2V0KGtleSwgZmFsc2UgLyogcmVhZCBhcyByYXcgKi8pO1xuXHRcdH07XG5cdFx0YXBpLmdldEpTT04gPSBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRyZXR1cm4gZ2V0KGtleSwgdHJ1ZSAvKiByZWFkIGFzIGpzb24gKi8pO1xuXHRcdH07XG5cdFx0YXBpLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXksIGF0dHJpYnV0ZXMpIHtcblx0XHRcdHNldChrZXksICcnLCBleHRlbmQoYXR0cmlidXRlcywge1xuXHRcdFx0XHRleHBpcmVzOiAtMVxuXHRcdFx0fSkpO1xuXHRcdH07XG5cblx0XHRhcGkuZGVmYXVsdHMgPSB7fTtcblxuXHRcdGFwaS53aXRoQ29udmVydGVyID0gaW5pdDtcblxuXHRcdHJldHVybiBhcGk7XG5cdH1cblxuXHRyZXR1cm4gaW5pdChmdW5jdGlvbiAoKSB7fSk7XG59KSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnkgPSByZXF1aXJlKCcuL3N0cmluZ2lmeScpO1xudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpO1xudmFyIGZvcm1hdHMgPSByZXF1aXJlKCcuL2Zvcm1hdHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZm9ybWF0czogZm9ybWF0cyxcbiAgICBwYXJzZTogcGFyc2UsXG4gICAgc3RyaW5naWZ5OiBzdHJpbmdpZnlcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGFycmF5UHJlZml4R2VuZXJhdG9ycyA9IHtcbiAgICBicmFja2V0czogZnVuY3Rpb24gYnJhY2tldHMocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnW10nO1xuICAgIH0sXG4gICAgY29tbWE6ICdjb21tYScsXG4gICAgaW5kaWNlczogZnVuY3Rpb24gaW5kaWNlcyhwcmVmaXgsIGtleSkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1snICsga2V5ICsgJ10nO1xuICAgIH0sXG4gICAgcmVwZWF0OiBmdW5jdGlvbiByZXBlYXQocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbnZhciBwdXNoVG9BcnJheSA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlT3JBcnJheSkge1xuICAgIHB1c2guYXBwbHkoYXJyLCBpc0FycmF5KHZhbHVlT3JBcnJheSkgPyB2YWx1ZU9yQXJyYXkgOiBbdmFsdWVPckFycmF5XSk7XG59O1xuXG52YXIgdG9JU08gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcblxudmFyIGRlZmF1bHRGb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGVuY29kZTogdHJ1ZSxcbiAgICBlbmNvZGVyOiB1dGlscy5lbmNvZGUsXG4gICAgZW5jb2RlVmFsdWVzT25seTogZmFsc2UsXG4gICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgIGZvcm1hdHRlcjogZm9ybWF0cy5mb3JtYXR0ZXJzW2RlZmF1bHRGb3JtYXRdLFxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlOiBmdW5jdGlvbiBzZXJpYWxpemVEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRvSVNPLmNhbGwoZGF0ZSk7XG4gICAgfSxcbiAgICBza2lwTnVsbHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBpc05vbk51bGxpc2hQcmltaXRpdmUgPSBmdW5jdGlvbiBpc05vbk51bGxpc2hQcmltaXRpdmUodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZydcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdudW1iZXInXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnYm9vbGVhbidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdzeW1ib2wnXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnYmlnaW50Jztcbn07XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXR0ZXIsXG4gICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICBjaGFyc2V0XG4pIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iaiA9IGZpbHRlcihwcmVmaXgsIG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIG9iaiA9IHNlcmlhbGl6ZURhdGUob2JqKTtcbiAgICB9IGVsc2UgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgaXNBcnJheShvYmopKSB7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1heWJlTWFwKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KS5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAhZW5jb2RlVmFsdWVzT25seSA/IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JykgOiBwcmVmaXg7XG4gICAgICAgIH1cblxuICAgICAgICBvYmogPSAnJztcbiAgICB9XG5cbiAgICBpZiAoaXNOb25OdWxsaXNoUHJpbWl0aXZlKG9iaikgfHwgdXRpbHMuaXNCdWZmZXIob2JqKSkge1xuICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgICAgdmFyIGtleVZhbHVlID0gZW5jb2RlVmFsdWVzT25seSA/IHByZWZpeCA6IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihrZXlWYWx1ZSkgKyAnPScgKyBmb3JtYXR0ZXIoZW5jb2RlcihvYmosIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScpKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIocHJlZml4KSArICc9JyArIGZvcm1hdHRlcihTdHJpbmcob2JqKSldO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBvYmpLZXlzO1xuICAgIGlmIChpc0FycmF5KGZpbHRlcikpIHtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9iaktleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuXG4gICAgICAgIGlmIChza2lwTnVsbHMgJiYgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleVByZWZpeCA9IGlzQXJyYXkob2JqKVxuICAgICAgICAgICAgPyB0eXBlb2YgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2Z1bmN0aW9uJyA/IGdlbmVyYXRlQXJyYXlQcmVmaXgocHJlZml4LCBrZXkpIDogcHJlZml4XG4gICAgICAgICAgICA6IHByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBrZXkgOiAnWycgKyBrZXkgKyAnXScpO1xuXG4gICAgICAgIHB1c2hUb0FycmF5KHZhbHVlcywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBrZXlQcmVmaXgsXG4gICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICAgICAgZW5jb2RlcixcbiAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICBhbGxvd0RvdHMsXG4gICAgICAgICAgICBzZXJpYWxpemVEYXRlLFxuICAgICAgICAgICAgZm9ybWF0dGVyLFxuICAgICAgICAgICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgICAgIGNoYXJzZXRcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbnZhciBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmNvZGVyICE9PSBudWxsICYmIG9wdHMuZW5jb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmVuY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdHMuY2hhcnNldCB8fCBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgZm9ybWF0ID0gZm9ybWF0c1snZGVmYXVsdCddO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5mb3JtYXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghaGFzLmNhbGwoZm9ybWF0cy5mb3JtYXR0ZXJzLCBvcHRzLmZvcm1hdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZm9ybWF0IG9wdGlvbiBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXQgPSBvcHRzLmZvcm1hdDtcbiAgICB9XG4gICAgdmFyIGZvcm1hdHRlciA9IGZvcm1hdHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXG4gICAgdmFyIGZpbHRlciA9IGRlZmF1bHRzLmZpbHRlcjtcbiAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nIHx8IGlzQXJyYXkob3B0cy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFF1ZXJ5UHJlZml4OiB0eXBlb2Ygb3B0cy5hZGRRdWVyeVByZWZpeCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hZGRRdWVyeVByZWZpeCA6IGRlZmF1bHRzLmFkZFF1ZXJ5UHJlZml4LFxuICAgICAgICBhbGxvd0RvdHM6IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdHMuYWxsb3dEb3RzLFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGRlbGltaXRlcjogdHlwZW9mIG9wdHMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmRlbGltaXRlciA6IG9wdHMuZGVsaW1pdGVyLFxuICAgICAgICBlbmNvZGU6IHR5cGVvZiBvcHRzLmVuY29kZSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGUgOiBkZWZhdWx0cy5lbmNvZGUsXG4gICAgICAgIGVuY29kZXI6IHR5cGVvZiBvcHRzLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyLFxuICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5OiB0eXBlb2Ygb3B0cy5lbmNvZGVWYWx1ZXNPbmx5ID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZVZhbHVlc09ubHkgOiBkZWZhdWx0cy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXIsXG4gICAgICAgIHNlcmlhbGl6ZURhdGU6IHR5cGVvZiBvcHRzLnNlcmlhbGl6ZURhdGUgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNlcmlhbGl6ZURhdGUgOiBkZWZhdWx0cy5zZXJpYWxpemVEYXRlLFxuICAgICAgICBza2lwTnVsbHM6IHR5cGVvZiBvcHRzLnNraXBOdWxscyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5za2lwTnVsbHMgOiBkZWZhdWx0cy5za2lwTnVsbHMsXG4gICAgICAgIHNvcnQ6IHR5cGVvZiBvcHRzLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNvcnQgOiBudWxsLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmdcbiAgICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBvcHRzKSB7XG4gICAgdmFyIG9iaiA9IG9iamVjdDtcbiAgICB2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMob3B0cyk7XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICB2YXIgZmlsdGVyO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqID0gZmlsdGVyKCcnLCBvYmopO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvcHRpb25zLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaktleXMgPSBmaWx0ZXI7XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciBhcnJheUZvcm1hdDtcbiAgICBpZiAob3B0cyAmJiBvcHRzLmFycmF5Rm9ybWF0IGluIGFycmF5UHJlZml4R2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gICAgfSBlbHNlIGlmIChvcHRzICYmICdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSAnaW5kaWNlcyc7XG4gICAgfVxuXG4gICAgdmFyIGdlbmVyYXRlQXJyYXlQcmVmaXggPSBhcnJheVByZWZpeEdlbmVyYXRvcnNbYXJyYXlGb3JtYXRdO1xuXG4gICAgaWYgKCFvYmpLZXlzKSB7XG4gICAgICAgIG9iaktleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgb2JqS2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaFRvQXJyYXkoa2V5cywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICBvcHRpb25zLnNraXBOdWxscyxcbiAgICAgICAgICAgIG9wdGlvbnMuZW5jb2RlID8gb3B0aW9ucy5lbmNvZGVyIDogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnMuZmlsdGVyLFxuICAgICAgICAgICAgb3B0aW9ucy5zb3J0LFxuICAgICAgICAgICAgb3B0aW9ucy5hbGxvd0RvdHMsXG4gICAgICAgICAgICBvcHRpb25zLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBvcHRpb25zLmZvcm1hdHRlcixcbiAgICAgICAgICAgIG9wdGlvbnMuZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgICAgIG9wdGlvbnMuY2hhcnNldFxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICB2YXIgam9pbmVkID0ga2V5cy5qb2luKG9wdGlvbnMuZGVsaW1pdGVyKTtcbiAgICB2YXIgcHJlZml4ID0gb3B0aW9ucy5hZGRRdWVyeVByZWZpeCA9PT0gdHJ1ZSA/ICc/JyA6ICcnO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpLCB0aGUgXCJudW1lcmljIGVudGl0eVwiIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlY2ttYXJrXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0ImJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqb2luZWQubGVuZ3RoID4gMCA/IHByZWZpeCArIGpvaW5lZCA6ICcnO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxudmFyIGRlZmF1bHRzID0ge1xuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgYWxsb3dQcm90b3R5cGVzOiBmYWxzZSxcbiAgICBhcnJheUxpbWl0OiAyMCxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgY29tbWE6IGZhbHNlLFxuICAgIGRlY29kZXI6IHV0aWxzLmRlY29kZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBkZXB0aDogNSxcbiAgICBpZ25vcmVRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiBmYWxzZSxcbiAgICBwYXJhbWV0ZXJMaW1pdDogMTAwMCxcbiAgICBwYXJzZUFycmF5czogdHJ1ZSxcbiAgICBwbGFpbk9iamVjdHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBpbnRlcnByZXROdW1lcmljRW50aXRpZXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mIyhcXGQrKTsvZywgZnVuY3Rpb24gKCQwLCBudW1iZXJTdHIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobnVtYmVyU3RyLCAxMCkpO1xuICAgIH0pO1xufTtcblxudmFyIHBhcnNlQXJyYXlWYWx1ZSA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMuY29tbWEgJiYgdmFsLmluZGV4T2YoJywnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB2YWwuc3BsaXQoJywnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsO1xufTtcblxuLy8gVGhpcyBpcyB3aGF0IGJyb3dzZXJzIHdpbGwgc3VibWl0IHdoZW4gdGhlIOKckyBjaGFyYWN0ZXIgb2NjdXJzIGluIGFuXG4vLyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQgYm9keSBhbmQgdGhlIGVuY29kaW5nIG9mIHRoZSBwYWdlIGNvbnRhaW5pbmdcbi8vIHRoZSBmb3JtIGlzIGlzby04ODU5LTEsIG9yIHdoZW4gdGhlIHN1Ym1pdHRlZCBmb3JtIGhhcyBhbiBhY2NlcHQtY2hhcnNldFxuLy8gYXR0cmlidXRlIG9mIGlzby04ODU5LTEuIFByZXN1bWFibHkgYWxzbyB3aXRoIG90aGVyIGNoYXJzZXRzIHRoYXQgZG8gbm90IGNvbnRhaW5cbi8vIHRoZSDinJMgY2hhcmFjdGVyLCBzdWNoIGFzIHVzLWFzY2lpLlxudmFyIGlzb1NlbnRpbmVsID0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0InOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JylcblxuLy8gVGhlc2UgYXJlIHRoZSBwZXJjZW50LWVuY29kZWQgdXRmLTggb2N0ZXRzIHJlcHJlc2VudGluZyBhIGNoZWNrbWFyaywgaW5kaWNhdGluZyB0aGF0IHRoZSByZXF1ZXN0IGFjdHVhbGx5IGlzIHV0Zi04IGVuY29kZWQuXG52YXIgY2hhcnNldFNlbnRpbmVsID0gJ3V0Zjg9JUUyJTlDJTkzJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuXG52YXIgcGFyc2VWYWx1ZXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nVmFsdWVzKHN0ciwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICB2YXIgY2xlYW5TdHIgPSBvcHRpb25zLmlnbm9yZVF1ZXJ5UHJlZml4ID8gc3RyLnJlcGxhY2UoL15cXD8vLCAnJykgOiBzdHI7XG4gICAgdmFyIGxpbWl0ID0gb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBvcHRpb25zLnBhcmFtZXRlckxpbWl0O1xuICAgIHZhciBwYXJ0cyA9IGNsZWFuU3RyLnNwbGl0KG9wdGlvbnMuZGVsaW1pdGVyLCBsaW1pdCk7XG4gICAgdmFyIHNraXBJbmRleCA9IC0xOyAvLyBLZWVwIHRyYWNrIG9mIHdoZXJlIHRoZSB1dGY4IHNlbnRpbmVsIHdhcyBmb3VuZFxuICAgIHZhciBpO1xuXG4gICAgdmFyIGNoYXJzZXQgPSBvcHRpb25zLmNoYXJzZXQ7XG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldLmluZGV4T2YoJ3V0Zjg9JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbaV0gPT09IGNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ3V0Zi04JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRzW2ldID09PSBpc29TZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ2lzby04ODU5LTEnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lwSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGkgPSBwYXJ0cy5sZW5ndGg7IC8vIFRoZSBlc2xpbnQgc2V0dGluZ3MgZG8gbm90IGFsbG93IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpID09PSBza2lwSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG5cbiAgICAgICAgdmFyIGJyYWNrZXRFcXVhbHNQb3MgPSBwYXJ0LmluZGV4T2YoJ109Jyk7XG4gICAgICAgIHZhciBwb3MgPSBicmFja2V0RXF1YWxzUG9zID09PSAtMSA/IHBhcnQuaW5kZXhPZignPScpIDogYnJhY2tldEVxdWFsc1BvcyArIDE7XG5cbiAgICAgICAgdmFyIGtleSwgdmFsO1xuICAgICAgICBpZiAocG9zID09PSAtMSkge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQsIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHZhbCA9IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID8gbnVsbCA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQuc2xpY2UoMCwgcG9zKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gdXRpbHMubWF5YmVNYXAoXG4gICAgICAgICAgICAgICAgcGFyc2VBcnJheVZhbHVlKHBhcnQuc2xpY2UocG9zICsgMSksIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbmNvZGVkVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRlY29kZXIoZW5jb2RlZFZhbCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWwgJiYgb3B0aW9ucy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgJiYgY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICB2YWwgPSBpbnRlcnByZXROdW1lcmljRW50aXRpZXModmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LmluZGV4T2YoJ1tdPScpID4gLTEpIHtcbiAgICAgICAgICAgIHZhbCA9IGlzQXJyYXkodmFsKSA/IFt2YWxdIDogdmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhcy5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB1dGlscy5jb21iaW5lKG9ialtrZXldLCB2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIHBhcnNlT2JqZWN0ID0gZnVuY3Rpb24gKGNoYWluLCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCkge1xuICAgIHZhciBsZWFmID0gdmFsdWVzUGFyc2VkID8gdmFsIDogcGFyc2VBcnJheVZhbHVlKHZhbCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIG9iajtcbiAgICAgICAgdmFyIHJvb3QgPSBjaGFpbltpXTtcblxuICAgICAgICBpZiAocm9vdCA9PT0gJ1tdJyAmJiBvcHRpb25zLnBhcnNlQXJyYXlzKSB7XG4gICAgICAgICAgICBvYmogPSBbXS5jb25jYXQobGVhZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgICAgICAgIHZhciBjbGVhblJvb3QgPSByb290LmNoYXJBdCgwKSA9PT0gJ1snICYmIHJvb3QuY2hhckF0KHJvb3QubGVuZ3RoIC0gMSkgPT09ICddJyA/IHJvb3Quc2xpY2UoMSwgLTEpIDogcm9vdDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGNsZWFuUm9vdCwgMTApO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnBhcnNlQXJyYXlzICYmIGNsZWFuUm9vdCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBvYmogPSB7IDA6IGxlYWYgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgIWlzTmFOKGluZGV4KVxuICAgICAgICAgICAgICAgICYmIHJvb3QgIT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIFN0cmluZyhpbmRleCkgPT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIGluZGV4ID49IDBcbiAgICAgICAgICAgICAgICAmJiAob3B0aW9ucy5wYXJzZUFycmF5cyAmJiBpbmRleCA8PSBvcHRpb25zLmFycmF5TGltaXQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvYmogPSBbXTtcbiAgICAgICAgICAgICAgICBvYmpbaW5kZXhdID0gbGVhZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW2NsZWFuUm9vdF0gPSBsZWFmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGVhZiA9IG9iajsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIH1cblxuICAgIHJldHVybiBsZWFmO1xufTtcblxudmFyIHBhcnNlS2V5cyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdLZXlzKGdpdmVuS2V5LCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCkge1xuICAgIGlmICghZ2l2ZW5LZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSBkb3Qgbm90YXRpb24gdG8gYnJhY2tldCBub3RhdGlvblxuICAgIHZhciBrZXkgPSBvcHRpb25zLmFsbG93RG90cyA/IGdpdmVuS2V5LnJlcGxhY2UoL1xcLihbXi5bXSspL2csICdbJDFdJykgOiBnaXZlbktleTtcblxuICAgIC8vIFRoZSByZWdleCBjaHVua3NcblxuICAgIHZhciBicmFja2V0cyA9IC8oXFxbW15bXFxdXSpdKS87XG4gICAgdmFyIGNoaWxkID0gLyhcXFtbXltcXF1dKl0pL2c7XG5cbiAgICAvLyBHZXQgdGhlIHBhcmVudFxuXG4gICAgdmFyIHNlZ21lbnQgPSBvcHRpb25zLmRlcHRoID4gMCAmJiBicmFja2V0cy5leGVjKGtleSk7XG4gICAgdmFyIHBhcmVudCA9IHNlZ21lbnQgPyBrZXkuc2xpY2UoMCwgc2VnbWVudC5pbmRleCkgOiBrZXk7XG5cbiAgICAvLyBTdGFzaCB0aGUgcGFyZW50IGlmIGl0IGV4aXN0c1xuXG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIElmIHdlIGFyZW4ndCB1c2luZyBwbGFpbiBvYmplY3RzLCBvcHRpb25hbGx5IHByZWZpeCBrZXlzIHRoYXQgd291bGQgb3ZlcndyaXRlIG9iamVjdCBwcm90b3R5cGUgcHJvcGVydGllc1xuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmIGhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHBhcmVudCkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnB1c2gocGFyZW50KTtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggY2hpbGRyZW4gYXBwZW5kaW5nIHRvIHRoZSBhcnJheSB1bnRpbCB3ZSBoaXQgZGVwdGhcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAob3B0aW9ucy5kZXB0aCA+IDAgJiYgKHNlZ21lbnQgPSBjaGlsZC5leGVjKGtleSkpICE9PSBudWxsICYmIGkgPCBvcHRpb25zLmRlcHRoKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBzZWdtZW50WzFdLnNsaWNlKDEsIC0xKSkpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5wdXNoKHNlZ21lbnRbMV0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlJ3MgYSByZW1haW5kZXIsIGp1c3QgYWRkIHdoYXRldmVyIGlzIGxlZnRcblxuICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIGtleXMucHVzaCgnWycgKyBrZXkuc2xpY2Uoc2VnbWVudC5pbmRleCkgKyAnXScpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZU9iamVjdChrZXlzLCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCk7XG59O1xuXG52YXIgbm9ybWFsaXplUGFyc2VPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlY29kZXIgIT09IG51bGwgJiYgb3B0cy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgdmFyIGNoYXJzZXQgPSB0eXBlb2Ygb3B0cy5jaGFyc2V0ID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmNoYXJzZXQgOiBvcHRzLmNoYXJzZXQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhbGxvd0RvdHM6IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdHMuYWxsb3dEb3RzLFxuICAgICAgICBhbGxvd1Byb3RvdHlwZXM6IHR5cGVvZiBvcHRzLmFsbG93UHJvdG90eXBlcyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hbGxvd1Byb3RvdHlwZXMgOiBkZWZhdWx0cy5hbGxvd1Byb3RvdHlwZXMsXG4gICAgICAgIGFycmF5TGltaXQ6IHR5cGVvZiBvcHRzLmFycmF5TGltaXQgPT09ICdudW1iZXInID8gb3B0cy5hcnJheUxpbWl0IDogZGVmYXVsdHMuYXJyYXlMaW1pdCxcbiAgICAgICAgY2hhcnNldDogY2hhcnNldCxcbiAgICAgICAgY2hhcnNldFNlbnRpbmVsOiB0eXBlb2Ygb3B0cy5jaGFyc2V0U2VudGluZWwgPT09ICdib29sZWFuJyA/IG9wdHMuY2hhcnNldFNlbnRpbmVsIDogZGVmYXVsdHMuY2hhcnNldFNlbnRpbmVsLFxuICAgICAgICBjb21tYTogdHlwZW9mIG9wdHMuY29tbWEgPT09ICdib29sZWFuJyA/IG9wdHMuY29tbWEgOiBkZWZhdWx0cy5jb21tYSxcbiAgICAgICAgZGVjb2RlcjogdHlwZW9mIG9wdHMuZGVjb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZGVjb2RlciA6IGRlZmF1bHRzLmRlY29kZXIsXG4gICAgICAgIGRlbGltaXRlcjogdHlwZW9mIG9wdHMuZGVsaW1pdGVyID09PSAnc3RyaW5nJyB8fCB1dGlscy5pc1JlZ0V4cChvcHRzLmRlbGltaXRlcikgPyBvcHRzLmRlbGltaXRlciA6IGRlZmF1bHRzLmRlbGltaXRlcixcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWltcGxpY2l0LWNvZXJjaW9uLCBuby1leHRyYS1wYXJlbnNcbiAgICAgICAgZGVwdGg6ICh0eXBlb2Ygb3B0cy5kZXB0aCA9PT0gJ251bWJlcicgfHwgb3B0cy5kZXB0aCA9PT0gZmFsc2UpID8gK29wdHMuZGVwdGggOiBkZWZhdWx0cy5kZXB0aCxcbiAgICAgICAgaWdub3JlUXVlcnlQcmVmaXg6IG9wdHMuaWdub3JlUXVlcnlQcmVmaXggPT09IHRydWUsXG4gICAgICAgIGludGVycHJldE51bWVyaWNFbnRpdGllczogdHlwZW9mIG9wdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzID09PSAnYm9vbGVhbicgPyBvcHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyA6IGRlZmF1bHRzLmludGVycHJldE51bWVyaWNFbnRpdGllcyxcbiAgICAgICAgcGFyYW1ldGVyTGltaXQ6IHR5cGVvZiBvcHRzLnBhcmFtZXRlckxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMucGFyYW1ldGVyTGltaXQgOiBkZWZhdWx0cy5wYXJhbWV0ZXJMaW1pdCxcbiAgICAgICAgcGFyc2VBcnJheXM6IG9wdHMucGFyc2VBcnJheXMgIT09IGZhbHNlLFxuICAgICAgICBwbGFpbk9iamVjdHM6IHR5cGVvZiBvcHRzLnBsYWluT2JqZWN0cyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5wbGFpbk9iamVjdHMgOiBkZWZhdWx0cy5wbGFpbk9iamVjdHMsXG4gICAgICAgIHN0cmljdE51bGxIYW5kbGluZzogdHlwZW9mIG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZ1xuICAgIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIsIG9wdHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyhvcHRzKTtcblxuICAgIGlmIChzdHIgPT09ICcnIHx8IHN0ciA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgfVxuXG4gICAgdmFyIHRlbXBPYmogPSB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyA/IHBhcnNlVmFsdWVzKHN0ciwgb3B0aW9ucykgOiBzdHI7XG4gICAgdmFyIG9iaiA9IG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBrZXlzIGFuZCBzZXR1cCB0aGUgbmV3IG9iamVjdFxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0ZW1wT2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhciBuZXdPYmogPSBwYXJzZUtleXMoa2V5LCB0ZW1wT2JqW2tleV0sIG9wdGlvbnMsIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnKTtcbiAgICAgICAgb2JqID0gdXRpbHMubWVyZ2Uob2JqLCBuZXdPYmosIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiB1dGlscy5jb21wYWN0KG9iaik7XG59O1xuIiwiZXhwb3J0IHR5cGUgQ29udGVudFR5cGVOYW1lID0gXCJzdHJpbmdcIiB8IFwidGV4dFwiIHwgXCJpbnRlZ2VyXCIgfCBcIm1lZGlhXCIgfCBcImNvbXBvbmVudFwiIHwgXCJib29sZWFuXCIgfCBcImVudW1lcmF0aW9uXCIgfCBcImxhYmVsXCJcblxuZXhwb3J0IGVudW0gQVRUSUJVVEVfVFlQRVMge1xuICBTVFJJTkcgPSBcInN0cmluZ1wiLFxuICBURVhUID0gXCJ0ZXh0XCIsXG4gIElOVCA9IFwiaW50ZWdlclwiLFxuICBNRURJQSA9IFwibWVkaWFcIixcbiAgQ09NUE9ORU5UID0gXCJjb21wb25lbnRcIixcbiAgRU5VTUVSQVRJT04gPSBcImVudW1lcmF0aW9uXCIsXG4gIExBQkVMID0gXCJsYWJlbFwiXG59XG5cbmV4cG9ydCBlbnVtIFdISVRFTElTVF9LRVlTIHtcbiAgQ09NUE9ORU5UID0gXCJfX2NvbXBvbmVudFwiLFxuICBMQUJFTCA9IFwiX19sYWJlbFwiLFxuICBJRCA9IFwiX19pZFwiLFxuICBDT05URU5UID0gXCJjb250ZW50XCJcbn1cblxuZXhwb3J0IGNvbnN0IEF0dHJpYnV0ZVR5cGVzV2hpdGVsaXN0OiBzdHJpbmdbXSA9IFtcbiAgXCJzdHJpbmdcIixcbiAgXCJ0ZXh0XCIsXG4gIFwiaW50ZWdlclwiLFxuICBcIm1lZGlhXCIsXG4gIFwiY29tcG9uZW50XCIsXG4gIFwiYm9vbGVhblwiLFxuICBcImVudW1lcmF0aW9uXCIsXG4gIFwibGFiZWxcIixcbl07XG5cbmV4cG9ydCBjb25zdCBBdHRyaWJ1dGVUeXBlc0JsYWNrbGlzdDogc3RyaW5nW10gPSBbXG4gIFwiaWRcIixcbiAgXCJ1c2Vyc1wiLFxuICBcImNyZWF0ZWRfYnlcIixcbiAgXCJjcmVhdGVkX2F0XCIsXG4gIFwidXBkYXRlZF9hdFwiLFxuICBcInVwZGF0ZWRfYXRcIlxuXTtcblxuZXhwb3J0IGNvbnN0IFdoaXRlbGlzdEtleXM6IHN0cmluZ1tdID0gW1xuICBcIl9fY29tcG9uZW50XCIsXG4gIFwiX19sYWJlbFwiLFxuICBcIl9faWRcIixcbiAgXCJjb250ZW50XCJcbl07IiwiaW1wb3J0IHsgQVRUSUJVVEVfVFlQRVMsIEF0dHJpYnV0ZVR5cGVzQmxhY2tsaXN0IH0gZnJvbSBcIi4vdHlwZXMvY29udGVudC1hdHRyaWJ1dGUtdHlwZXNcIjtcblxuaW1wb3J0IHtcbiAgQ29udGVudFR5cGVSZXNwb25zZSxcbiAgQXR0cmlidXRlLFxuICBGaWVsZHMsXG4gIENvbnRlbnRUeXBlLFxuICBGb3JtQnVpbGRlck91dHB1dCxcbiAgQ29tcG9uZW50TGlzdCxcbiAgTWV0YWRhdGFMaXN0XG59IGZyb20gXCIuL2ludGVyZmFjZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyYXBpRm9ybSB7XG4gIHByaXZhdGUgdXJsOiBzdHJpbmc7XG4gIHByaXZhdGUgYmxhY2tsaXN0ZWRQcm9wcyA9IEF0dHJpYnV0ZVR5cGVzQmxhY2tsaXN0O1xuICBwcml2YXRlIGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZTtcbiAgcHJpdmF0ZSBtZXRhZGF0YXM6IE1ldGFkYXRhTGlzdFxuICBwcml2YXRlIGNvbnRlbnRUeXBlVUlEOiBzdHJpbmc7XG4gIHByaXZhdGUgY29tcG9uZW50czogQ29tcG9uZW50TGlzdDtcbiAgcHVibGljIGZpZWxkczogRmllbGRzO1xuICBwdWJsaWMgZm9ybVN0YXRlOiBGaWVsZHM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYmFzZVVSTDogc3RyaW5nLFxuICAgIGNvbnRlbnRUeXBlVUlEOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy5jb250ZW50VHlwZVVJRCA9IGNvbnRlbnRUeXBlVUlEO1xuICAgIHRoaXMudXJsID0gYCR7YmFzZVVSTH0vY29udGVudC1tYW5hZ2VyL2NvbnRlbnQtdHlwZXNgO1xuICB9XG5cbiAgYXN5bmMgZ2V0Q29udGVudFR5cGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7dGhpcy51cmx9LyR7dGhpcy5jb250ZW50VHlwZVVJRH1gKTtcbiAgICBjb25zdCBqc29uOiBDb250ZW50VHlwZVJlc3BvbnNlID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAoanNvbiAmJiBqc29uLnN0YXR1c0NvZGUpIHRocm93IG5ldyBFcnJvcihqc29uLm1lc3NhZ2UpO1xuICAgIHRoaXMuY29udGVudFR5cGUgPSBqc29uLmRhdGEuY29udGVudFR5cGU7XG4gICAgdGhpcy5tZXRhZGF0YXMgPSBqc29uLmRhdGEuY29udGVudFR5cGUubWV0YWRhdGFzO1xuICAgIHRoaXMuY29tcG9uZW50cyA9IGpzb24uZGF0YSAmJiBqc29uLmRhdGEuY29tcG9uZW50cztcbiAgfVxuXG4gIHNldFJlcXVlc3RTdGF0ZShrZXk6IHN0cmluZywgY29tcG9uZW50SWQ6IHN0cmluZywgdmFsdWU6IGFueSk6IEZpZWxkcyB8IHt9IHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiB0aGlzLmZvcm1TdGF0ZS5jb250ZW50KSB7XG4gICAgICAgIGlmIChjb21wb25lbnQuX19jb21wb25lbnQgPT09IGNvbXBvbmVudElkKSB7XG4gICAgICAgICAgY29tcG9uZW50W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZm9ybVN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5maWVsZHM7XG4gIH1cblxuICB1cGRhdGVGb3JtU3RhdGUoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHBhcmVudDogc3RyaW5nKTogRmllbGRzIHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLmZvcm1TdGF0ZVtwYXJlbnRdW2tleV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JtU3RhdGVba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmZvcm1TdGF0ZTtcbiAgfVxuXG4gIGlzQ29tcG9uZW50KGF0dHJpYnV0ZTogQXR0cmlidXRlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZSAmJiBhdHRyaWJ1dGUudHlwZSA9PT0gQVRUSUJVVEVfVFlQRVMuQ09NUE9ORU5UO1xuICB9XG5cbiAgaXNTaW1wbGVUeXBlKGtleTogc3RyaW5nLCBhdHRyaWJ1dGU6IEF0dHJpYnV0ZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhdHRyaWJ1dGUgJiYgdGhpcy5pc0NvbXBvbmVudChhdHRyaWJ1dGUpICYmIHRoaXMuY2FuRWRpdChrZXkpO1xuICB9XG5cbiAgY2FuRWRpdChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5ibGFja2xpc3RlZFByb3BzLmluY2x1ZGVzKGtleSk7XG4gIH1cblxuICBidWlsZENvbXBvbmVudChjb21wb25lbnRLZXk6IHN0cmluZywgYXR0cmlidXRlOiBBdHRyaWJ1dGUpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29tcG9uZW50c1thdHRyaWJ1dGUuY29tcG9uZW50XS5zY2hlbWEuYXR0cmlidXRlcykgcmV0dXJuO1xuXG4gICAgY29uc3QgY29tcG9uZW50QXR0cnMgPSB0aGlzLmNvbXBvbmVudHNbYXR0cmlidXRlLmNvbXBvbmVudF0uc2NoZW1hLmF0dHJpYnV0ZXM7XG4gICAgY29tcG9uZW50QXR0cnMuaWQgPSB0aGlzLmZvcm1TdGF0ZVtjb21wb25lbnRLZXldICYmIHRoaXMuZm9ybVN0YXRlW2NvbXBvbmVudEtleV0uaWQgfHwgbnVsbDtcblxuICAgIGZvciAoY29uc3QgY2hpbGRLZXkgaW4gY29tcG9uZW50QXR0cnMpIHtcbiAgICAgIGlmICh0aGlzLmNhbkVkaXQoY2hpbGRLZXkpKSB7XG4gICAgICAgIHRoaXMuc2V0RmllbGQoY2hpbGRLZXksIGNvbXBvbmVudEF0dHJzW2NoaWxkS2V5XSwgY29tcG9uZW50S2V5KTtcbiAgICAgICAgdGhpcy5zZXRGb3JtU3RhdGUoY2hpbGRLZXksIGNvbXBvbmVudEtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0Rm9ybVN0YXRlKGtleTogc3RyaW5nLCBjb21wb25lbnRLZXk/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY2FuRWRpdChrZXkpKSByZXR1cm47XG4gICAgaWYgKGNvbXBvbmVudEtleSkge1xuICAgICAgdGhpcy5mb3JtU3RhdGVbY29tcG9uZW50S2V5XSA9IHRoaXMuZm9ybVN0YXRlW2NvbXBvbmVudEtleV0gfHwge307XG4gICAgICB0aGlzLmZvcm1TdGF0ZVtjb21wb25lbnRLZXldW2tleV0gPSB0aGlzLmZvcm1TdGF0ZVtjb21wb25lbnRLZXldW2tleV0gfHwgbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mb3JtU3RhdGVba2V5XSA9IHRoaXMuZm9ybVN0YXRlW2tleV0gfHwgbnVsbDtcbiAgICB9XG4gIH1cblxuICBzZXRGaWVsZChrZXk6IHN0cmluZywgYXR0cmlidXRlOiBBdHRyaWJ1dGUsIGNvbXBvbmVudEtleT86IHN0cmluZykge1xuICAgIGlmICghdGhpcy5jYW5FZGl0KGtleSkpIHJldHVybjtcbiAgICBpZiAoY29tcG9uZW50S2V5KSB7XG4gICAgICB0aGlzLmZpZWxkc1tjb21wb25lbnRLZXldID0gdGhpcy5maWVsZHNbY29tcG9uZW50S2V5XSB8fCB7XG4gICAgICAgIHR5cGU6IEFUVElCVVRFX1RZUEVTLkNPTVBPTkVOVFxuICAgICAgfTtcbiAgICAgIHRoaXMuZmllbGRzW2NvbXBvbmVudEtleV1ba2V5XSA9IHtcbiAgICAgICAgLi4uYXR0cmlidXRlLFxuICAgICAgICBfX2xhYmVsOiB0aGlzLmJ1aWxkTGFiZWwoa2V5KSxcbiAgICAgICAgX19wYXJlbnQ6IGNvbXBvbmVudEtleSxcbiAgICAgICAgdmFsdWU6IHRoaXMuZm9ybVN0YXRlW2NvbXBvbmVudEtleV0gJiYgdGhpcy5mb3JtU3RhdGVbY29tcG9uZW50S2V5XVtrZXldIHx8IG51bGxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmllbGRzW2tleV0gPSB7XG4gICAgICAgIC4uLmF0dHJpYnV0ZSxcbiAgICAgICAgX19sYWJlbDogdGhpcy5idWlsZExhYmVsKGtleSksXG4gICAgICAgIHZhbHVlOiB0aGlzLmZvcm1TdGF0ZVtrZXldIHx8IG51bGxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYnVpbGRMYWJlbChrZXk6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICgha2V5KSByZXR1cm4ga2V5O1xuICAgIGNvbnN0IGNhcGl0YWxpemVkID0ga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnNsaWNlKDEpO1xuICAgIGNvbnN0IGxhYmVsID0gY2FwaXRhbGl6ZWQubWF0Y2goL1tBLVpdW2Etel0rL2cpO1xuICAgIHJldHVybiBsYWJlbC5qb2luKFwiIFwiKTtcbiAgfVxuXG4gIGdhdGhlclNjaGVtYSgpOiB2b2lkIHtcbiAgICB0aGlzLmZpZWxkcyA9IHt9O1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB0aGlzLmNvbnRlbnRUeXBlLnNjaGVtYS5hdHRyaWJ1dGVzO1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKHRoaXMuaXNDb21wb25lbnQoYXR0cmlidXRlc1trZXldKSkge1xuICAgICAgICB0aGlzLmJ1aWxkQ29tcG9uZW50KGtleSwgYXR0cmlidXRlc1trZXldKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRGaWVsZChrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgIHRoaXMuc2V0Rm9ybVN0YXRlKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0U2NoZW1hKGV4aXN0aW5nRW50cnk/OiBGaWVsZHMpOiBQcm9taXNlPEZvcm1CdWlsZGVyT3V0cHV0PiB7XG4gICAgdGhpcy5mb3JtU3RhdGUgPSBleGlzdGluZ0VudHJ5IHx8IHt9O1xuICAgIGF3YWl0IHRoaXMuZ2V0Q29udGVudFR5cGUoKTtcbiAgICB0aGlzLmdhdGhlclNjaGVtYSgpO1xuICAgIHJldHVybiB7XG4gICAgICBmaWVsZHM6IHRoaXMuZmllbGRzLFxuICAgICAgZm9ybVN0YXRlOiB0aGlzLmZvcm1TdGF0ZVxuICAgIH07XG4gIH1cbn0iLCJpbXBvcnQgeyBFbnRyeSwgRmllbGRzLCBGb3JtQWN0aW9uYWJsZSwgQXV0aGVudGljYXRlZFVzZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2VzXCI7XG5cblxuZXhwb3J0IGNsYXNzIFN0cmFwaUZvcm1NZXRob2RzRGVjb3JhdG9yIHtcbiAgcHJpdmF0ZSBhcGlJRDogc3RyaW5nO1xuICBwcml2YXRlIHN0cmFwaVNESzogRm9ybUFjdGlvbmFibGU7XG5cbiAgY29uc3RydWN0b3IoY29udGVudFR5cGVVSUQ6IHN0cmluZywgc3RyYXBpU0RLOiBGb3JtQWN0aW9uYWJsZSkge1xuICAgIHRoaXMuc3RyYXBpU0RLID0gc3RyYXBpU0RLO1xuICAgIHRoaXMuYXBpSUQgPSB0aGlzLmdldEFwaUlEKGNvbnRlbnRUeXBlVUlEKTtcbiAgfVxuXG4gIGdldEFwaUlEKGNvbnRlbnRUeXBlVUlEOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChjb250ZW50VHlwZVVJRC5pbmRleE9mKFwiOjpcIikgPT09IDAgfHwgY29udGVudFR5cGVVSUQuaW5kZXhPZihcIi5cIikgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgXG4gICAgICAgIFN0cmFwaSBGb3JtIEJ1aWxkZXIgcmVxdWlyZXMgYSBnbG9iYWxcbiAgICAgICAgY29udGVudCB0eXBlIGlkIGkuZS4gYXBwbGljYXRpb246OmNvbnRlbnRUeXBlVUlELmNvbnRlbnRUeXBlVUlEXG4gICAgICBgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudFR5cGVVSUQuc2xpY2UoXG4gICAgICBjb250ZW50VHlwZVVJRC5pbmRleE9mKFwiOjpcIikgKyAyLFxuICAgICAgY29udGVudFR5cGVVSUQuaW5kZXhPZihcIi5cIilcbiAgICApO1xuICB9XG5cbiAgZ2V0IHN0cmFwaSgpOiBGb3JtQWN0aW9uYWJsZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyYXBpU0RLO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlKGRhdGE6IEZpZWxkcyk6IFByb21pc2U8RW50cnk+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJhcGlTREsuY3JlYXRlRW50cnkodGhpcy5hcGlJRCwgZGF0YSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGUoZGF0YTogRmllbGRzLCBpZCA/OiBzdHJpbmcgfCBudW1iZXIpOiBQcm9taXNlPEVudHJ5PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyYXBpU0RLLnVwZGF0ZUVudHJ5KHRoaXMuYXBpSUQsIGlkLCBkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIHNlYXJjaChwYXJhbXM6IG9iamVjdCk6IFByb21pc2U8RW50cnlbXT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmFwaVNESy5nZXRFbnRyaWVzKHRoaXMuYXBpSUQsIHBhcmFtcyk7XG4gIH1cblxuICBhc3luYyBkZWxldGUoaWQ6IHN0cmluZ3xudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnN0cmFwaVNESy5kZWxldGVFbnRyeSh0aGlzLmFwaUlELCBpZCk7XG4gIH1cbn0iLCJpbXBvcnQgU3RyYXBpU0RLUHJvdmlkZXIgZnJvbSBcIkB0aGV0YXByb29tL3N0cmFwaS1zZGstamF2YXNjcmlwdFwiO1xuaW1wb3J0IFN0cmFwaUZvcm1CdWlsZGVyIGZyb20gXCIuL2Zvcm0uYnVpbGRlclwiO1xuaW1wb3J0IHsgU3RyYXBpRm9ybU1ldGhvZHNEZWNvcmF0b3IgfSBmcm9tIFwiLi9mb3JtLmFjdGlvbnNcIjtcbmltcG9ydCB7IEZvcm1BY3Rpb25hYmxlLCBBdXRoZW50aWNhdGVkVXNlciB9IGZyb20gXCIuL2ludGVyZmFjZXNcIjtcblxuaW50ZXJmYWNlIEF1dGhlbnRpY2F0aW9uIHtcbiAgaWRlbnRpZmllcjogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nLFxufVxuXG5leHBvcnQgY2xhc3MgRmFjdG9yeSB7XG4gIHByaXZhdGUgYmFzZVVSTDogc3RyaW5nO1xuICBwdWJsaWMgc2RrOiBGb3JtQWN0aW9uYWJsZTtcbiAgcHJpdmF0ZSBhdXRoOiBBdXRoZW50aWNhdGlvbjtcblxuICBjb25zdHJ1Y3RvcihiYXNlVVJMOiBzdHJpbmcsIGF1dGg6IEF1dGhlbnRpY2F0aW9uKSB7XG4gICAgaWYgKCFhdXRoKSB0aHJvdyBuZXcgRXJyb3IoXCJTdHJhcGkgRm9ybSBCdWlsZGVyIG5lZWRzIGF1dGggdG8gYXR0YWNoIHJlc291cmNlcyBhbmQgcmVsYXRpb25zaGlwcy5cIik7XG4gICAgdGhpcy5hdXRoID0gYXV0aDtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMuc2RrID0gU3RyYXBpU0RLUHJvdmlkZXIoYmFzZVVSTCk7XG4gIH1cblxuICBhc3luYyBnZXRGb3JtKGNvbnRlbnRUeXBlVUlEOiBzdHJpbmcsIGV4aXN0aW5nRW50cnk6IGFueSkge1xuICAgIGNvbnN0IHRva2VuID0gdGhpcy5zZGsuZ2V0VG9rZW4oKTtcbiAgICBsZXQgdXNlcjogQXV0aGVudGljYXRlZFVzZXI7XG5cbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICB1c2VyID0gYXdhaXQgdGhpcy5zZGsubG9naW4oXG4gICAgICAgIHRoaXMuYXV0aC5pZGVudGlmaWVyLFxuICAgICAgICB0aGlzLmF1dGgucGFzc3dvcmRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm06IGF3YWl0IG5ldyBTdHJhcGlGb3JtQnVpbGRlcih0aGlzLmJhc2VVUkwsIGNvbnRlbnRUeXBlVUlEKS5nZXRTY2hlbWEoXG4gICAgICAgIGV4aXN0aW5nRW50cnlcbiAgICAgICksXG4gICAgICBhY3Rpb25zOiBuZXcgU3RyYXBpRm9ybU1ldGhvZHNEZWNvcmF0b3IoY29udGVudFR5cGVVSUQsIHRoaXMuc2RrKSxcbiAgICAgIHVzZXIsXG4gICAgfTtcbiAgfVxuXG4gIGdldEZvcm1CdWlsZGVyKGNvbnRlbnRUeXBlVUlEOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFN0cmFwaUZvcm1CdWlsZGVyKHRoaXMuYmFzZVVSTCwgY29udGVudFR5cGVVSUQpXG4gIH1cblxuICBnZXRBY3Rpb25zKGNvbnRlbnRUeXBlVUlEOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFN0cmFwaUZvcm1NZXRob2RzRGVjb3JhdG9yKGNvbnRlbnRUeXBlVUlELCB0aGlzLnNkaylcbiAgfVxuXG4gIGdldFN0cmFwaUFQSSgpIHtcbiAgICByZXR1cm4gdGhpcy5zZGs7XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9